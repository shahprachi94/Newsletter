(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[30],{"35Q0":function(e,t,n){var i,a,o,r,s=t,l=n("oAGj"),c=n("cZuM"),u=n("gXiO"),h=n("iCxV"),p=n("c+uM"),d=n("oKI3");s.TAG_SHAPE_ID="shape-id",s.ShapeCategory=l.defineEnum("ShapeCategory",{None:0,Circle:1,Square:2,Social:3,Cutout:4,Banner:5,Decorative:6,Other:7,Avoid:8}),s.TagGroup=l.defineEnum("TagGroup",{none:0,banner:1,circle:2,square:3,other:4,decorative:5,unused:6}),s.TheoShape=(i=function(){},l.defineClass({name:"TheoShape",ctor:i,props:{init_f4eb:function(e,t,n,i,a,o,r,s,c,u,h,p,d,g,S){void 0===g&&(g=!1),void 0===S&&(S=!1),this.id=e,this.name=t,this.deprecated=n,this.filled=i,this.centered=a,this.alignmentEdges=o,this.formality=c,this.drama=u,this.maxScale=h,this.minAspect=p,this.maxAspect=d,this.category=r,this.tags=l.clone(s),this.clockwise=g,this.premium=S},init_implicit:function(e,t,n,i,a,o,r,s,c,u,h,p,d,g,S){this.id=e,this.name=t,this.deprecated=n,this.filled=i,this.centered=a,this.formality=o,this.drama=r,this.alignmentEdges=s,this.category=c,this.tags=l.clone(u),this.clockwise=h,this.premium=p,this.maxScale=d,this.maxAspect=g,this.minAspect=S}}}),i),s.ShapeLibraryDataStructures=(a=function(){this.nonSvgBackingShapes=[s.TheoShape.init_f4eb("none","None",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,1,1,0,100),s.TheoShape.init_f4eb("row","Row",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,2,1,0,100),s.TheoShape.init_f4eb("bannerHorizontal","Horizontal Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,1,100),s.TheoShape.init_f4eb("bannerVertical","Vertical Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,0,1),s.TheoShape.init_f4eb("knockout","Text Knockout",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.unused],5,2,1,0,100)],this.svgBackingShapes=[s.TheoShape.init_f4eb("circle","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,1,.5,.5,2),s.TheoShape.init_f4eb("circle1","Circle1",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,6,.5,.5,2),s.TheoShape.init_f4eb("circle2","Circle2",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,6,.5,.5,2),s.TheoShape.init_f4eb("circle3","Circle3",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],8,6,.5,.5,2),s.TheoShape.init_f4eb("circle4","Circle4",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,6,.5,.5,2),s.TheoShape.init_f4eb("circle5","Circle5",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],2,8,.5,.5,2),s.TheoShape.init_f4eb("circle6","Circle6",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,8,.5,.5,2),s.TheoShape.init_f4eb("circle8","Circle8",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,10,.5,.5,2),s.TheoShape.init_f4eb("rect1","Rect1",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect2","Rect2",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3-9sliced","Rect3-9",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3","Rect3",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect4","Rect4",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect5","Rect5",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect6","Rect6",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("ornamental_003","Circle",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],6,7,.5,0,100),s.TheoShape.init_f4eb("shape_001","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("shape_004","Tag",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_005","Gift",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_006","Calendar",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_007","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_008","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_009","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_011","Shield",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("circle_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],7,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.decorative],8,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_005","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,6,.6,.5,2),s.TheoShape.init_f4eb("circle_006","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],2,8,.6,.5,2),s.TheoShape.init_f4eb("circle_007","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],7,8,.6,.5,2),s.TheoShape.init_f4eb("circle_008","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,10,.6,.5,2),s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.decorative],7,5,.7,0,100,!0),s.TheoShape.init_f4eb("square_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square,s.TagGroup.other],4,4,.7,0,100),s.TheoShape.init_f4eb("square_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.other,s.TagGroup.banner],4,8,.7,0,100),s.TheoShape.init_f4eb("buttonoutline","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("button","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Other,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("diamond_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.other],5,8,.6,.25,4),s.TheoShape.init_f4eb("diamond_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,9,.6,.25,4),s.TheoShape.init_f4eb("ribbon_h_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,5,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100,!0),s.TheoShape.init_f4eb("ribbon_h_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ornamental_001","Circle",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.Decorative,[s.TagGroup.decorative],3,4,.7,0,100),s.TheoShape.init_f4eb("ornamental_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],8,8,.7,0,100,!0),s.TheoShape.init_f4eb("shape_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.7,0,100,!0),s.TheoShape.init_f4eb("shape_003","VerticalBanner",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.5,0,1),s.TheoShape.init_f4eb("shape_010","Hexagon",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.square],9,6,.7,0,100),s.TheoShape.init_f4eb("shape_013","Speech Bubble",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.4,.5,2,!0),s.TheoShape.init_f4eb("divider_001","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.8,0,100),s.TheoShape.init_f4eb("divider_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],1,2,.5,0,100),s.TheoShape.init_f4eb("divider_003","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,1,.8,0,100),s.TheoShape.init_f4eb("Social_Facebook","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Instagram","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Pinterest","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Twitter","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_GPlus","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Linkedin","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Periscope","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Snapchat","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Tumblr","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Youtube","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("inline_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_002","Inline",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("inline_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_002","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)],this.seperatorShapes=[s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)],this.DisplayOrderForCategories=[s.ShapeLibrary.CategoryBasic,s.ShapeLibrary.CategoryBanner,s.ShapeLibrary.CategoryDecorative,s.ShapeLibrary.CategorySocial],this.DisplayOrderForShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]},this.DisplayOrderForCharStyleShapesByCategory={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_002","square_003","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005"],SOCIAL:[]},this.DisplayOrderForSmallSetCharStyleShapesByCategory={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["square_003","inline_001","inline_003","inline_005","inline_006","pacific_001","pacific_002","ornamental_002","diamond_001","diamond_002","square_001","circle_008"],SOCIAL:[]},this.DisplayOrderForLetterGridShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]},this.DisplayOrderForSymmetricPathsShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]},this.DisplayOrderForAsymmetricPathsShapesByCategory={BASIC:["shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]},this.DisplayOrderForAutoLayoutShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]},this.NonSuggestableBackingShapes=["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope","shape_002","shape_003","shape_013","ornamental_001","knockout"],this.LockupBackingShapeIDs=[],this.BrowsableBackingShapes=[],this.FilledBackingShapes=[],this.shapeDictionary={},this.nonSvgBackingShapeIDs=[]},l.defineClass({name:"ShapeLibraryDataStructures",ctor:a,props:{init_d41d:function(){this.FilledBackingShapes.push(s.ShapeLibrary.Square),this.FilledBackingShapes.push(s.ShapeLibrary.Circle);for(var e=l.iter(this.svgBackingShapes);!e.done;e.next()){var t=e.value;this.LockupBackingShapeIDs.push(t.id),this.shapeDictionary[t.id]=t,t.deprecated||(this.BrowsableBackingShapes.push(t.id),t.filled&&this.FilledBackingShapes.push(t.id))}for(var n=l.iter(this.nonSvgBackingShapes);!n.done;n.next())t=n.value,this.shapeDictionary[t.id]=t,this.nonSvgBackingShapeIDs.push(t.id);this.ShapeIDToCategory={};for(var i=l.iter(this.DisplayOrderForCategories);!i.done;i.next())for(var a=i.value,o=l.iter(this.DisplayOrderForShapesByCategory[a]);!o.done;o.next()){var r=o.value;this.ShapeIDToCategory[r]=a}},init_implicit:function(e,t,n,i,a,o,r,u,h,p,d,g,S,_,m,f,C,T){void 0===e&&(e=[s.TheoShape.init_f4eb("none","None",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,1,1,0,100),s.TheoShape.init_f4eb("row","Row",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,2,1,0,100),s.TheoShape.init_f4eb("bannerHorizontal","Horizontal Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,1,100),s.TheoShape.init_f4eb("bannerVertical","Vertical Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,0,1),s.TheoShape.init_f4eb("knockout","Text Knockout",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.unused],5,2,1,0,100)]),void 0===t&&(t=[s.TheoShape.init_f4eb("circle","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,1,.5,.5,2),s.TheoShape.init_f4eb("circle1","Circle1",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,6,.5,.5,2),s.TheoShape.init_f4eb("circle2","Circle2",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,6,.5,.5,2),s.TheoShape.init_f4eb("circle3","Circle3",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],8,6,.5,.5,2),s.TheoShape.init_f4eb("circle4","Circle4",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,6,.5,.5,2),s.TheoShape.init_f4eb("circle5","Circle5",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],2,8,.5,.5,2),s.TheoShape.init_f4eb("circle6","Circle6",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,8,.5,.5,2),s.TheoShape.init_f4eb("circle8","Circle8",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,10,.5,.5,2),s.TheoShape.init_f4eb("rect1","Rect1",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect2","Rect2",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3-9sliced","Rect3-9",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3","Rect3",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect4","Rect4",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect5","Rect5",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect6","Rect6",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("ornamental_003","Circle",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],6,7,.5,0,100),s.TheoShape.init_f4eb("shape_001","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("shape_004","Tag",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_005","Gift",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_006","Calendar",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_007","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_008","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_009","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_011","Shield",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("circle_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],7,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.decorative],8,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_005","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,6,.6,.5,2),s.TheoShape.init_f4eb("circle_006","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],2,8,.6,.5,2),s.TheoShape.init_f4eb("circle_007","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],7,8,.6,.5,2),s.TheoShape.init_f4eb("circle_008","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,10,.6,.5,2),s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.decorative],7,5,.7,0,100,!0),s.TheoShape.init_f4eb("square_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square,s.TagGroup.other],4,4,.7,0,100),s.TheoShape.init_f4eb("square_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.other,s.TagGroup.banner],4,8,.7,0,100),s.TheoShape.init_f4eb("buttonoutline","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("button","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Other,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("diamond_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.other],5,8,.6,.25,4),s.TheoShape.init_f4eb("diamond_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,9,.6,.25,4),s.TheoShape.init_f4eb("ribbon_h_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,5,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100,!0),s.TheoShape.init_f4eb("ribbon_h_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ornamental_001","Circle",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.Decorative,[s.TagGroup.decorative],3,4,.7,0,100),s.TheoShape.init_f4eb("ornamental_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],8,8,.7,0,100,!0),s.TheoShape.init_f4eb("shape_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.7,0,100,!0),s.TheoShape.init_f4eb("shape_003","VerticalBanner",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.5,0,1),s.TheoShape.init_f4eb("shape_010","Hexagon",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.square],9,6,.7,0,100),s.TheoShape.init_f4eb("shape_013","Speech Bubble",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.4,.5,2,!0),s.TheoShape.init_f4eb("divider_001","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.8,0,100),s.TheoShape.init_f4eb("divider_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],1,2,.5,0,100),s.TheoShape.init_f4eb("divider_003","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,1,.8,0,100),s.TheoShape.init_f4eb("Social_Facebook","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Instagram","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Pinterest","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Twitter","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_GPlus","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Linkedin","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Periscope","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Snapchat","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Tumblr","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Youtube","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("inline_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_002","Inline",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("inline_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_002","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)]),void 0===n&&(n=[s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)]),void 0===i&&(i=[s.ShapeLibrary.CategoryBasic,s.ShapeLibrary.CategoryBanner,s.ShapeLibrary.CategoryDecorative,s.ShapeLibrary.CategorySocial]),void 0===a&&(a={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]}),void 0===o&&(o={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_002","square_003","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005"],SOCIAL:[]}),void 0===r&&(r={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["square_003","inline_001","inline_003","inline_005","inline_006","pacific_001","pacific_002","ornamental_002","diamond_001","diamond_002","square_001","circle_008"],SOCIAL:[]}),void 0===u&&(u={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]}),void 0===h&&(h={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]}),void 0===p&&(p={BASIC:["shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]}),void 0===d&&(d={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]}),void 0===g&&(g=["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope","shape_002","shape_003","shape_013","ornamental_001","knockout"]),void 0===_&&(_=[]),void 0===m&&(m=[]),void 0===f&&(f=[]),void 0===C&&(C={}),void 0===T&&(T=[]),this.nonSvgBackingShapes=l.clone(e),this.svgBackingShapes=l.clone(t),this.seperatorShapes=l.clone(n),this.DisplayOrderForCategories=l.clone(i),this.DisplayOrderForShapesByCategory=l.clone(a),this.DisplayOrderForCharStyleShapesByCategory=l.clone(o),this.DisplayOrderForSmallSetCharStyleShapesByCategory=l.clone(r),this.DisplayOrderForLetterGridShapesByCategory=l.clone(u),this.DisplayOrderForSymmetricPathsShapesByCategory=l.clone(h),this.DisplayOrderForAsymmetricPathsShapesByCategory=l.clone(p),this.DisplayOrderForAutoLayoutShapesByCategory=l.clone(d),this.NonSuggestableBackingShapes=l.clone(g),this.ShapeIDToCategory=l.clone(S),this.LockupBackingShapeIDs=l.clone(_),this.BrowsableBackingShapes=l.clone(m),this.FilledBackingShapes=l.clone(f),this.shapeDictionary=l.clone(C),this.nonSvgBackingShapeIDs=l.clone(T)},clone:function(){return a.init_implicit(this.nonSvgBackingShapes,this.svgBackingShapes,this.seperatorShapes,this.DisplayOrderForCategories,this.DisplayOrderForShapesByCategory,this.DisplayOrderForCharStyleShapesByCategory,this.DisplayOrderForSmallSetCharStyleShapesByCategory,this.DisplayOrderForLetterGridShapesByCategory,this.DisplayOrderForSymmetricPathsShapesByCategory,this.DisplayOrderForAsymmetricPathsShapesByCategory,this.DisplayOrderForAutoLayoutShapesByCategory,this.NonSuggestableBackingShapes,this.ShapeIDToCategory,this.LockupBackingShapeIDs,this.BrowsableBackingShapes,this.FilledBackingShapes,this.shapeDictionary,this.nonSvgBackingShapeIDs)}}}),a),s.ShapeLibrary=(o=function(){u.CoreObject.call(this)},r={},l.defineClass({name:"ShapeLibrary",ctor:o,superName:"CoreObject",statics:{CategoryBasic:"BASIC",CategoryBanner:"BANNER",CategoryDecorative:"DECORATIVE",CategorySocial:"SOCIAL",CategoryExclusive:"EXCLUSIVE",Square:"square",Circle:"circle",shapeLibraryDataStructures:{get:function(){return void 0===r.shapeLibraryDataStructures&&(r.shapeLibraryDataStructures=s.ShapeLibraryDataStructures.init_d41d()),r.shapeLibraryDataStructures}},LockupBackingShapeIDs:{get:function(){return void 0===r.LockupBackingShapeIDs&&(r.LockupBackingShapeIDs=o.shapeLibraryDataStructures.LockupBackingShapeIDs),r.LockupBackingShapeIDs},set:function(e){r.LockupBackingShapeIDs=e}},NonSvgBackingShapeIDs:{get:function(){return void 0===r.NonSvgBackingShapeIDs&&(r.NonSvgBackingShapeIDs=o.shapeLibraryDataStructures.nonSvgBackingShapeIDs),r.NonSvgBackingShapeIDs},set:function(e){r.NonSvgBackingShapeIDs=e}},BrowsableBackingShapes:{get:function(){return void 0===r.BrowsableBackingShapes&&(r.BrowsableBackingShapes=o.shapeLibraryDataStructures.BrowsableBackingShapes),r.BrowsableBackingShapes},set:function(e){r.BrowsableBackingShapes=e}},FilledBackingShapes:{get:function(){return void 0===r.FilledBackingShapes&&(r.FilledBackingShapes=o.shapeLibraryDataStructures.FilledBackingShapes),r.FilledBackingShapes},set:function(e){r.FilledBackingShapes=e}},shapeDictionary:{get:function(){return void 0===r.shapeDictionary&&(r.shapeDictionary=o.shapeLibraryDataStructures.shapeDictionary),r.shapeDictionary},set:function(e){r.shapeDictionary=e}},NonSuggestableBackingShapes:{get:function(){return void 0===r.NonSuggestableBackingShapes&&(r.NonSuggestableBackingShapes=o.shapeLibraryDataStructures.NonSuggestableBackingShapes),r.NonSuggestableBackingShapes},set:function(e){r.NonSuggestableBackingShapes=e}},SeperatorShapes:{get:function(){return void 0===r.SeperatorShapes&&(r.SeperatorShapes=o.shapeLibraryDataStructures.seperatorShapes),r.SeperatorShapes},set:function(e){r.SeperatorShapes=e}},getShapeDataForArtworkId:function(e){var t="none";return null!=e&&(t=e),o.shapeDictionary[t]},applyToShapeForma:function(e,t){var n,i;null!=(n=l.opt(h.Host.resourceUtils,(function(e){return e.urlForResource("shape",t)})))&&(i=h.Host.pathUtils.artworkFromURL(n,!1))&&(e.canonicalArtwork=i.artwork,e.sliceBox=i.sliceBox,e.contentRegion=i.contentRegion,e.shapeLibraryID=t)},categoryForShapeID:function(e){return o.shapeLibraryDataStructures.ShapeIDToCategory[e]},displayOrderForCategories:function(){return o.shapeLibraryDataStructures.DisplayOrderForCategories},displayOrderForCompatibleShapeIDs:function(e,t,n,i,a){return p.LockupStyle.isLetterGrid(t)?o.displayOrderForLetterGridShapeIDs(e,i,a):p.LockupStyle.isPath(t)?o.displayOrderForPathShapeIDs(e,n,i,a):i?o.displayOrderForCharStyleShapeIDs(e,a):o.displayOrderForShapeIDs(e)},getCategorySlice:function(e,t){return e[t]||[]},displayOrderForShapeIDs:function(e){return o.getCategorySlice(l.clone(o.shapeLibraryDataStructures.DisplayOrderForShapesByCategory),e)},displayOrderForCharStyleShapeIDs:function(e,t){var n=l.clone(t?o.shapeLibraryDataStructures.DisplayOrderForSmallSetCharStyleShapesByCategory:o.shapeLibraryDataStructures.DisplayOrderForCharStyleShapesByCategory);return o.getCategorySlice(l.clone(n),e)},displayOrderForLetterGridShapeIDs:function(e,t,n){return o.getCategorySlice(l.clone(o.shapeLibraryDataStructures.DisplayOrderForLetterGridShapesByCategory),e)},displayOrderForPathShapeIDs:function(e,t,n,i){if(n)return[];var a=l.clone(d.TextPathLibrary.isPathSymmetric(t)?o.shapeLibraryDataStructures.DisplayOrderForSymmetricPathsShapesByCategory:o.shapeLibraryDataStructures.DisplayOrderForAsymmetricPathsShapesByCategory);return o.getCategorySlice(l.clone(a),e)},displayOrderForAutoLayoutShapeIDs:function(e,t,n){return o.getCategorySlice(l.clone(o.shapeLibraryDataStructures.DisplayOrderForAutoLayoutShapesByCategory),e)},isBackingShapeStyleCompatible:function(e,t,n){return p.LockupStyle.isLetterGrid(e.layout)?o.isBackingShapeLetterGridCompatible(t,n):p.LockupStyle.isPath(e.layout)?o.isBackingShapePathCompatible(e.pathID,t,n):!p.LockupStyle.isAutoLayout(e.layout)||o.isBackingShapeAutoLayoutCompatible(t,n)},isSVGIncluded:function(e,t){var n;if(null!=(n=e))for(var i=l.iter(o.shapeLibraryDataStructures.DisplayOrderForCategories);!i.done;i.next())for(var a=i.value,r=l.clone(t[a]),s=l.iter(r);!s.done;s.next())if(s.value==n)return!0;return!1},isBackingShapeLetterGridCompatible:function(e,t){return e!=p.LockupBacking.SVGBackground?e==p.LockupBacking.None:o.isSVGIncluded(t,l.clone(o.shapeLibraryDataStructures.DisplayOrderForLetterGridShapesByCategory))},isBackingShapePathCompatible:function(e,t,n){if(t==p.LockupBacking.Rows)return!1;if(t!=p.LockupBacking.SVGBackground)return!0;var i=l.clone(d.TextPathLibrary.isPathSymmetric(e)?o.shapeLibraryDataStructures.DisplayOrderForSymmetricPathsShapesByCategory:o.shapeLibraryDataStructures.DisplayOrderForAsymmetricPathsShapesByCategory);return o.isSVGIncluded(n,l.clone(i))},isBackingShapeAutoLayoutCompatible:function(e,t){return e!=p.LockupBacking.SVGBackground?e==p.LockupBacking.None:o.isSVGIncluded(t,l.clone(o.shapeLibraryDataStructures.DisplayOrderForAutoLayoutShapesByCategory))}}}),o)},J3ZR:function(e,t,n){n("oAGj")},U010:function(e,t,n){var i,a,o,r,s=t,l=n("oAGj"),c=n("SpAV"),u=n("gXiO"),h=n("yGNn"),p=n("iCxV"),d=n("kJ8p");s.CUTOUT_SUCCESS_TYPE="cutout_success",s.CUTOUT_RETRY_TYPE="cutout_retry",s.CUTOUT_RETRY_SUCCESS_TYPE="cutout_retry_success",s.CUTOUT_ERROR_TYPE="cutout_error",s.MASK_ENDPOINT="/deepcut/mask",s.VERSION_ENDPOINT="/deepcut/version",s.CutoutMode=l.defineEnum("CutoutMode",{Off:0,BackgroundRemoval:1,ForegroundRemoval:2}),s.CutoutModel=l.defineEnum("CutoutModel",{SAGEMAKER:0,SENSEI:1,MALABI:2,REMOVE_BG:3,CLOUDINARY:4,SENSEI2_BINARY:5,SENSEI2_SOFT:6}),s.CutoutMaskSize=l.defineEnum("CutoutMaskSize",{ORIGINAL:0,SMALL:500,MEDIUM:1e3,LARGE:2e3}),s.CutoutStyle=(i=function(e){this.mode=e,u.CoreObject.call(this)},l.defineClass({name:"CutoutStyle",ctor:i,superName:"CoreObject",props:{equals:function(e){return this.mode==e.mode}}}),i),s.CutoutMaskMetadata=(a=function(e,t,n){this.model=e,this.maskSize=t,this.modelVersion=n,u.CoreObject.call(this)},l.defineClass({name:"CutoutMaskMetadata",ctor:a,superName:"CoreObject",statics:{decode:function(e){if(null!=(e=e)){var t=e.split(":");if(3==t.length){var n,i,o,r;if(null!=(n=l.toInt(t[0]))&&null!=(i=l.toInt(t[1]))&&null!=(o=s.CutoutModel.toCaseValue(n))&&null!=(r=s.CutoutMaskSize.toCaseValue(i))){var c=l.toString(t[2]);return new a(o,r,l.isEmpty(c)?null:c)}l.opt(p.Host.logging,(function(e){return e.warning("[ImageCutoutModelLibrary] Unexpected model or maskSize value found in document")}))}}return null}},props:{equals:function(e){return this.model==e.model&&this.maskSize==e.maskSize&&this.modelVersion==e.modelVersion},encode:function(){var e;return this.model+":"+this.maskSize+":"+((e=this.modelVersion)||null!=e?e:"")}}}),a),s.ImageCutoutLibrary=(o=function(){u.CoreObject.call(this)},r={},l.defineClass({name:"ImageCutoutLibrary",ctor:o,superName:"CoreObject",statics:{imageCutouts_:{get:function(){return void 0===r.imageCutouts_&&(r.imageCutouts_=[new s.CutoutStyle(s.CutoutMode.Off),new s.CutoutStyle(s.CutoutMode.BackgroundRemoval),new s.CutoutStyle(s.CutoutMode.ForegroundRemoval)]),r.imageCutouts_}},getImageCutouts:function(){return o.imageCutouts_},getImageCutout:function(e){return o.imageCutouts_.find((function(t){return t.mode==e}),this)}},props:{getNextImageCutoutOfSameType:function(e){var t;switch(e.mode){case 0:t=o.getImageCutout(s.CutoutMode.Off);break;case 1:t=o.getImageCutout(s.CutoutMode.BackgroundRemoval);break;case 2:t=o.getImageCutout(s.CutoutMode.ForegroundRemoval);break;default:t=o.getImageCutout(s.CutoutMode.Off)}return t},hasNextCutoutOfSameType:function(e){var t;return!!(t=this.getNextImageCutoutOfSameType(e))&&!e.equals(t)}}}),o),s.ImageCutoutModelLibrary=function(){var e=function(){this.modelVersion=null,u.CoreObject.call(this)},t={};return l.defineClass({name:"ImageCutoutModelLibrary",ctor:e,superName:"CoreObject",statics:{CURRENT_MODEL:{get:function(){return void 0===t.CURRENT_MODEL&&(t.CURRENT_MODEL=s.CutoutModel.SENSEI2_SOFT),t.CURRENT_MODEL}},DEFAULT_MASK_SIZE:{get:function(){return void 0===t.DEFAULT_MASK_SIZE&&(t.DEFAULT_MASK_SIZE=s.CutoutMaskSize.MEDIUM),t.DEFAULT_MASK_SIZE}},instance:{get:function(){return void 0===t.instance&&(t.instance=new e),t.instance}},isMaskUptodateWithCurrentModel:function(t){return(t=t)&&t.model==e.CURRENT_MODEL?e.instance.getModelVersion(e.CURRENT_MODEL).then((function(e){var n;return null!=(n=l.as(e,"String"))&&t.modelVersion==n})).fail((function(e){return p.Host.logging.error("Failed to get mask version from API"),!1})):h.CorePromise.resolve(!1)},getModelString:function(e){switch(e){case 0:return"sagemaker";case 1:return"sensei";case 2:return"malabi";case 3:return"remove.bg";case 4:return"cloudinary";case 5:return"sensei2-binary";case 6:return"sensei2-soft";default:return c.CoreAssert.fail("Unknown model value: "+e+".","ImageCutoutModelLibrary.getModelString","ImageCutoutLibrary.swift",269),"sensei2-soft"}},buildMaskNetworkRequestForConfig:function(t,n,i,a){var o,r;return void 0===a&&(a=10),(o=p.Host.network)&&(r=p.Host.imageAnalysis)?h.CorePromise.all([o.getAuthToken(),r.getSaliencyAPIEndpoint(),r.getSaliencyAPIKey()]).then((function(o){var r,s,u,p,g=l.clone(l.as(o,["Array","Any"]));if(c.CoreAssert.isTrue(l.opt(g,(function(e){return 3==e.length})),"Expected three CorePromise results.","ImageCutoutModelLibrary.buildMaskNetworkRequestForConfig","ImageCutoutLibrary.swift",285),(r=g)&&null!=(s=l.as(r[0],"String"))&&null!=(u=l.as(r[1],"String"))&&null!=(p=l.as(r[2],"String"))){var S=new d.HostNetworkRequest(u+n);return S.timeout=a,S.method=i,S.headers["X-API-Key"]=p,S.headers.Authorization="Bearer "+s,S.headers["X-Model"]=e.getModelString(t.model),S}return h.CorePromise.reject("Invalid auth data")})):h.CorePromise.reject("Invalid Host instances")}},props:{setup:function(){this.getModelVersion(e.CURRENT_MODEL,!0)},getModelVersion:function(t,n){void 0===n&&(n=!1);var i,a=this;if(!n&&t==e.CURRENT_MODEL&&null!=this.modelVersion)return h.CorePromise.resolve(this.modelVersion);if(i=p.Host.network){var o=new s.CutoutMaskMetadata(t,s.CutoutMaskSize.ORIGINAL,null);return e.buildMaskNetworkRequestForConfig(o,s.VERSION_ENDPOINT,d.HostNetworkRequestMethod.get).then((function(e){var t;return(t=l.as(e,d.HostNetworkRequest))?i.request(t):h.CorePromise.reject("Invalid network request object")})).then((function(n){var i,o;return(i=l.as(n,d.HostNetworkResponse))&&(o=i.data)?o.asJSON().then((function(n){var i,o;return(i=l.as(n,["Dictionary","String","String"]))&&null!=(o=i.version)?(t==e.CURRENT_MODEL&&a.setModelVersion(o),h.CorePromise.resolve(o)):h.CorePromise.reject("[ImageCutoutModelLibrary] Failed to parse JSON response from `/version` call")})):h.CorePromise.reject("[ImageCutoutModelLibrary] Failed to get model version from API")}))}return h.CorePromise.reject("[ImageCutoutModelLibrary] Failed to get network impl")},setModelVersion:function(e){this.modelVersion=e}}}),e}()},"b/QB":function(e,t,n){var i,a=t,o=n("oAGj"),r=n("SpAV"),s=n("yhkb"),l=n("gXiO"),c=n("ascj"),u=n("SDdr"),h=n("uWOl");a.ImageFilterLibrary=(i=function(){this.styleMixes={Darken:[.1,.3,.5,.7]},this.imageStyles=[h.ImageStyle.init_1265("None"),h.ImageStyle.init_1265("Greyscale",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:"themeDerivedDark"},{key:c.ColorRole.FieldSecondary,value:"themeDerivedLight"}]),u.CompositeFilter.init_514f(void 0,"Duotone",1,"normal",void 0,void 0,"duotone")),h.ImageStyle.init_1265("Darken",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:"themeDerivedDark"},{key:c.ColorRole.FieldSecondary,value:"themeDerivedDark"}]),u.CompositeFilter.init_514f(void 0,"Duotone",.5,"normal",void 0,void 0,"duotone")),h.ImageStyle.init_1265("Blur",null,u.CompositeFilter.init_514f(void 0,"Blur",1,"none",void 0,void 0,"none")),h.ImageStyle.init_1265("Overlay",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:o.as(s.ColorLibraryController.FILTER_OVERLAY_KEYS[0],"String")}]),u.CompositeFilter.init_514f(void 0,"ReduceContrastOverlay",.25,"overlay",!1,.5,"offset",1,1)),h.ImageStyle.init_1265("Multiply",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_MULTIPLY_KEYS[1]}]),u.CompositeFilter.init_514f(void 0,"DesaturateMultiply",.4,"multiply",!0,void 0,"offset",.5,1)),h.ImageStyle.init_1265("Blend",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_BLEND_KEYS[2]}]),u.CompositeFilter.init_514f(void 0,"Blend",.3,"normal",!1,void 0,"none")),h.ImageStyle.init_1265("DuoTone",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:o.as(s.ColorLibraryController.FILTER_DUOTONE_LOW_KEYS[2],"String")},{key:c.ColorRole.FieldSecondary,value:o.as(s.ColorLibraryController.FILTER_DUOTONE_HIGH_KEYS[0],"String")}]),u.CompositeFilter.init_514f(void 0,"Duotone",1,"normal",void 0,void 0,"duotone")),h.ImageStyle.init_1265("Screen",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_SCREEN_KEYS[0]}]),u.CompositeFilter.init_514f(void 0,"Screen",.4,"screen",!1,void 0,"none"))],l.CoreObject.call(this)},o.defineClass({name:"ImageFilterLibrary",ctor:i,superName:"CoreObject",props:{getImageStyle:function(e){for(var t,n=o.iter(this.imageStyles);!n.done;n.next()){var i=n.value;if(e==i.name){t=i;break}}return t},getAllImageStyles:function(){return this.imageStyles},getNextImageStyleOfSameType:function(e,t){void 0===t&&(t=!0);var n,i,a,l,p=e.name,d=!0;switch(p){case"None":n=this.getImageStyle("None");break;case"Greyscale":n=this.getImageStyle("Greyscale");break;case"Blur":n=this.getImageStyle("Blur");break;case"Darken":(n=o.as(this.getImageStyle("Darken").clone(),h.ImageStyle)).colorLibrary=e.colorLibrary;break;case"Overlay":case"Multiply":case"Blend":case"Screen":if((n=o.as(this.getImageStyle(p).clone(),h.ImageStyle)).colorLibrary=e.colorLibrary,null==(_=e.colors.colorID(c.ColorRole.FieldPrimary)))return r.CoreAssert.fail("Style '"+p+"' missing FieldPrimary key","ImageFilterLibrary.getNextImageStyleOfSameType","ImageFilterLibrary.swift",383),null;var g=s.ColorLibraryController.getNextKeyInSet(_),S=g[0];d=v=g[1],n.colors.setColorId(c.ColorRole.FieldPrimary,S);break;case"DuoTone":var _;if((n=o.as(this.getImageStyle("DuoTone").clone(),h.ImageStyle)).colorLibrary=e.colorLibrary,null==(_=e.colors.colorID(c.ColorRole.FieldPrimary)))return r.CoreAssert.fail("Missing color key","ImageFilterLibrary.getNextImageStyleOfSameType","ImageFilterLibrary.swift",398),null;var m,f=s.ColorLibraryController.getNextKeyInSet(_),C=f[0];if(f[1],n.colors.setColorId(c.ColorRole.FieldPrimary,C),null==(m=e.colors.colorID(c.ColorRole.FieldSecondary)))return r.CoreAssert.fail("Missing color key","ImageFilterLibrary.getNextImageStyleOfSameType","ImageFilterLibrary.swift",412),null;var T=s.ColorLibraryController.getNextKeyInSet(m),y=T[0],v=T[1];n.colors.setColorId(c.ColorRole.FieldSecondary,y),d=v;break;default:n=this.getImageStyle("None")}if((i=this.styleMixes[p])&&null!=(a=o.opt(o.as(e.filter,u.CompositeFilter),(function(e){return e.mix})))&&t&&d&&null!=(l=o.indexOf(i,a))){var A=i[(l+1)%i.length];n.filter.mix=A}return o.opt(n,(function(t){return t.adjustments=e.adjustments})),o.opt(n,(function(t){return t.opacity=e.opacity})),n},getImageStyles:function(){return[this.getImageStyle("None"),this.getImageStyle("Greyscale"),this.getImageStyle("Darken"),this.getImageStyle("Overlay"),this.getImageStyle("Blend"),this.getImageStyle("Screen"),this.getImageStyle("DuoTone"),this.getImageStyle("Multiply")]},hasNextStyleOfSameType:function(e){var t;return!!(t=this.getNextImageStyleOfSameType(e,!0))&&!e.equals(t)}}}),i)},g8Fi:function(e,t,n){var i,a,o,r,s,l=t,c=n("oAGj"),u=n("SpAV"),h=n("gXiO"),p=n("iCxV"),d=n("90dd"),g=n("oKlP"),S=n("ZoS2");l.PointerTypeEnum=c.defineEnum("PointerTypeEnum",{Mouse:0,Touch:1}),l.PointerStatus=c.defineEnum("PointerStatus",{DragFree:0,DragHeld:1,DragActive:2,DragInactive:3}),l.PointerMark=(i=function(e,t){this.when=e,this.point=t},c.defineClass({name:"PointerMark",ctor:i,props:{div:function(e){return new i(this.when/e,{x:this.point.x/e,y:this.point.y/e})}}}),i),l._minus_PointerMark_PointerMark=function(e,t){return new l.PointerMark(e.when-t.when,{x:e.point.x-t.point.x,y:e.point.y-t.point.y})},l._plus_PointerMark_PointerMark=function(e,t){return new l.PointerMark(e.when+t.when,{x:e.point.x+t.point.x,y:e.point.y+t.point.y})},l.PointerState=(a=function(e,t,n,i,a){this.down=!1,this.cancelled=!1,this.tapCount=1,this.modifierKeys={},this.pointerStatus=l.PointerStatus.DragFree,this.slippage=g.TheoPoint.ZERO,this.id=e,this.type=t,this.currentPage=n,this.startLocation=i,this.currentLocation=i,this.startTime=a,this.currentTime=a,this.history=[],h.CoreObject.call(this),this.updateHistory(a,i)},c.defineClass({name:"PointerState",ctor:a,superName:"CoreObject",props:{updateState:function(e){u.CoreAssert.isTrue(e.type==this.type&&e.onPage===this.currentPage&&e.id==this.id,void 0,"PointerState.updateState","PointersState.swift",142),this.currentLocation=e.loc,this.currentTime=e.when,this.updateHistory(e.when,e.loc),this.tapCount=e.tapCount,this.cancelled=e.cancelled,this.viewportTransform=e.viewportTransform,this.modifierKeys=c.clone(e.modifierKeys)},updateHistory:function(e,t){var n=this.history.length-28;n>0&&this.history.splice(0,n),this.history.push(new l.PointerMark(e,{x:t.x,y:t.y}))},pointerVelocity:function(){for(var e=p.Host.async.getSystemUptimeInSeconds()-.2,t=[],n=this.history.length-1;n>=0&&!(this.history[n].when<e);)t.splice(0,0,this.history[n]),n-=1;for(var i=c.clone(function(e,t){var n=c.clone(e),i=t;if(i>e.length&&(i=e.length),i<=1)return n;for(var a=c.iter(c.range(1,i,!1));!a.done;a.next())for(var o=a.value,r=c.iter(c.range(0,e.length-o,!1));!r.done;r.next())n[o+(h=r.value)]=l._plus_PointerMark_PointerMark(n[o+h],e[h]);for(var s=c.iter(c.range(1,i,!1));!s.done;s.next())n[o=s.value]=n[o].div(c.toDouble(o+1));for(var u=c.iter(c.range(i,e.length,!1));!u.done;u.next()){var h;n[h=u.value]=n[h].div(c.toDouble(i))}return n}(c.clone(t),3)),a=3,o=2,r=0,s=0;a<i.length;){var u=l._minus_PointerMark_PointerMark(i[a],i[o]);r+=u.when,s+=Math.sqrt(u.point.x*u.point.x+u.point.y*u.point.y),a+=1,o+=1}var h=s/r;return isNaN(h)?0:h}}}),a),l.PointerUpdate=(o=function(e,t,n,i,a){this.cancelled=!1,this.tapCount=1,this.id=e,this.type=t,this.onPage=n,this.loc=i,this.when=a,this.cancelled=!1,this.tapCount=1,this.modifierKeys={}},c.defineClass({name:"PointerUpdate",ctor:o,superName:"CoreObject"}),o),l.PointersState=(r=function(){this.LONG_PRESS_TIME_THRESHOLD=1.25,this.LONG_PRESS_DIST_THRESHOLD=50,this.pointers_=[],S.TheoPublishingObject.call(this)},c.defineClass({name:"PointersState",ctor:r,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{onPointersDown:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i,a=n.value;(i=this.pointerByID(a.id))&&(u.CoreAssert.isTrue(a.type==l.PointerTypeEnum.Mouse,void 0,"PointersState.onPointersDown","PointersState.swift",326),c.remove(this.pointers_,i)),(i=new l.PointerState(a.id,a.type,a.onPage,a.loc,a.when)).viewportTransform=a.viewportTransform,i.down=!0,i.modifierKeys=c.clone(a.modifierKeys),this.pointers_.push(i),t.push(i)}this.publish(new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersDown,c.clone(t)))},onPointersMoved:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i=n.value,a=this.pointerByID(i.id);null==a&&((a=new l.PointerState(i.id,i.type,i.onPage,i.loc,i.when)).down=!1,u.CoreAssert.isTrue(i.type==l.PointerTypeEnum.Mouse,void 0,"PointersState.onPointersMoved","PointersState.swift",355),this.pointers_.push(a)),a.updateState(i),t.push(a)}this.publish(new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersMoved,c.clone(t)))},onPointersUp:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i,a=n.value;(i=this.pointerByID(a.id))&&(i.type==l.PointerTypeEnum.Touch&&c.remove(this.pointers_,i),i.updateState(a),t.push(i))}var o=new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersUp,c.clone(t));this.publish(o)},forEachPointer:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next())e(t.value)},forEachPointerDown:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next()){var n=t.value;n.down&&e(n)}},pointerCount:function(){return this.pointers_.length},pointerDownCount:function(){for(var e=0,t=c.iter(this.pointers_);!t.done;t.next())t.value.down&&(e+=1);return e},pointerByID:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next()){var n=t.value;if(n.id==e)return n}return null}}}),r),l.PointersStateChangeTypeEnum=c.defineEnum("PointersStateChangeTypeEnum",{PointersDown:0,PointersMoved:1,PointersUp:2}),l.PointersStateChangeMessage=(s=function e(t,n,i){this.changeType=n,this.pointers=c.clone(i),d.TheoMessage.call(this,e.TYPE,t)},c.defineClass({name:"PointersStateChangeMessage",ctor:s,superName:"TheoMessage",statics:{TYPE:{get:function(){return"PointersStateChangeMessage"}}}}),s)},i5Hy:function(e,t,n){var i,a,o,r,s,l,c,u,h,p,d=t,g=n("oAGj"),S=n("SpAV"),_=n("gXiO"),m=n("yGNn"),f=n("SmK9"),C=n("iCxV"),T=n("C4JV"),y=n("6azk"),v=n("90dd"),A=n("ZoS2"),b=n("rrhp");d.SaveResult=(i=function(){_.CoreObject.call(this)},a={},g.defineClass({name:"SaveResult",ctor:i,superName:"CoreObject",statics:{NONE:{get:function(){return void 0===a.NONE&&(a.NONE=new i),a.NONE}},COMPLETE:{get:function(){return void 0===a.COMPLETE&&(a.COMPLETE=new d.SaveComplete),a.COMPLETE}},CANCELED:{get:function(){return void 0===a.CANCELED&&(a.CANCELED=new d.SaveCanceled),a.CANCELED}},fromPromiseAny:function(e){var t;return null==e?(S.CoreAssert.fail("Save promise should resolve with a SaveResult, not nil","SaveResult.fromPromiseAny","SaveManager.swift",23),i.NONE):(t=g.as(e,i))?t:(S.CoreAssert.fail("Save promise should resolve with a SaveResult, not "+e,"SaveResult.fromPromiseAny","SaveManager.swift",28),i.NONE)}}}),i),d.SaveComplete=(o=function(){d.SaveResult.call(this)},g.defineClass({name:"SaveComplete",ctor:o,superName:"SaveResult"}),o),d.SaveCanceled=(r=function(){d.SaveResult.call(this)},g.defineClass({name:"SaveCanceled",ctor:r,superName:"SaveResult"}),r),d.SaveErrorMissingState=(s=function(){d.SaveResult.call(this)},g.defineClass({name:"SaveErrorMissingState",ctor:s,superName:"SaveResult"}),s),d.SaveErrorSaveFailed=(l=function(e){this.errorObject=e},g.defineClass({name:"SaveErrorSaveFailed",ctor:l,superName:"SaveResult"}),l),d.SaveErrorValidationFailed=(c=function(e){this.error=e},g.defineClass({name:"SaveErrorValidationFailed",ctor:c,superName:"SaveResult"}),c),d.SaveErrorExceptionDuringSave=(u=function(e){this.exception=e},g.defineClass({name:"SaveErrorExceptionDuringSave",ctor:u,superName:"SaveResult"}),u),d.SaveMessage=(h=function e(t,n,i){this.message=n,this.stateID=i,v.TheoMessage.call(this,e.TYPE,t)},g.defineClass({name:"SaveMessage",ctor:h,superName:"TheoMessage",statics:{TYPE:"SaveMessage",SAVE_SCHEDULED:"save-scheduled",SAVE_COMPLETED:"save-completed"}}),h),d.SaveManager=(p=function(){this.saveQueue_="com.adobe.theo.core.save",this.saveTimer_=null,this.saveDelaySeconds_=4,this.saveImmediateDelay_=0,this.savePromise_=null,this.suspendCount_=0,this.undoSubscription=null,this.saveLock_=C.Host.async.newLock(),A.TheoPublishingObject.call(this)},g.defineClass({name:"SaveManager",ctor:p,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{subscribeWithCallback:function(e,t){var n=A.TheoPublishingObject.prototype.subscribeWithCallback.call(this,e,t);return null!=this.savePromise_&&e(new d.SaveMessage(this,d.SaveMessage.SAVE_SCHEDULED,this.pendingSaveState_)),n},subscribe:function(e,t){var n=A.TheoPublishingObject.prototype.subscribe.call(this,e,t);return null!=this.savePromise_&&e.onMessage(new d.SaveMessage(this,d.SaveMessage.SAVE_SCHEDULED,this.pendingSaveState_)),n},enable:function(e){var t,n=this;this.lastSaveState_=e,(t=g.opt(this.owner,(function(e){return e.undoRedoMgr})))&&null==this.undoSubscription&&(this.undoSubscription=t.subscribeWithCallback((function(e){var t;(t=g.as(e,b.UndoRedoMessage))&&t.changeType==b.UndoRedoMessage.UNDO_REDO_STATE_CLEAN&&n.requestSave().fail((function(e){return S.CoreAssert.fail("Save failed "+g.toString(e),"SaveManager.enable","SaveManager.swift",149)}))}),b.UndoRedoMessage.TYPE))},disable:function(){g.opt(this.undoSubscription,(function(e){return e.unsubscribe()})),this.undoSubscription=null,this.cancelPendingSave()},suspend:function(){var e=this,t=this.ensureDeferredPromise();return this.saveLock_.runInLock((function(){0==e.suspendCount_&&(g.opt(e.saveTimer_,(function(e){return e.cancel()})),e.saveTimer_=null),e.suspendCount_+=1})),t},resume:function(){var e=this,t=null;return this.saveLock_.runInLock((function(){S.CoreAssert.isTrue(null!=e.savePromise_,"Promise should not be nil. Should have been set up in Suspend","SaveManager.resume","SaveManager.swift",183),t=e.savePromise_.promise})),this.saveLock_.runInLock((function(){e.suspendCount_>0&&(e.suspendCount_-=1),0==e.suspendCount_&&e.requestSave()})),t},cancelPendingSave:function(){g.opt(this.saveTimer_,(function(e){return e.cancel()})),this.saveTimer_=null,g.opt(this.savePromise_,(function(e){return e.resolve(d.SaveResult.CANCELED)})),this.savePromise_=null},flushPendingSave:function(){var e;0==this.suspendCount_&&(e=this.savePromise_)&&this.validateAndSave(e)},branchForState:function(e){return e==this.lastSaveState_?this.lastSavedBranch_:null},requestSave:function(e){void 0===e&&(e=!1);var t,n,i=this;if((t=g.opt(this.owner,(function(e){return e.document})))&&null!=(n=g.opt(t.database.immutableState,(function(e){return e.guid})))){var a,o=!1,r=this.ensureDeferredPromise();if(t.documentInited()&&((a=this.saveTimer_)&&(a.cancel(),this.saveTimer_=null),this.saveLock_.runInLock((function(){i.runningSaveState_==n?i.pendingSaveState_=null:null==i.runningSaveState_&&i.lastSaveState_==n?(i.pendingSaveState_=null,0==i.suspendCount_&&i.savePromise_.resolve(d.SaveResult.COMPLETE)):(i.pendingSaveState_=n,o=0==i.suspendCount_)}))),o){var s=e?this.saveImmediateDelay_:this.saveDelaySeconds_;this.saveTimer_=C.Host.async.startTimer(s,(function(){return i.flushPendingSave()}))}return r}return m.CorePromise.reject(new d.SaveErrorMissingState)},pendingSave:{get:function(){return g.opt(this.savePromise_,(function(e){return e.promise}))}},runningSaveStateID:{get:function(){return this.runningSaveState_}},ensureDeferredPromise:function(){var e=this,t=null;return this.saveLock_.runInLock((function(){(null==e.savePromise_||e.savePromise_.promise.finalized)&&(e.savePromise_=m.CorePromise.deferred(),e.publish(new d.SaveMessage(e,d.SaveMessage.SAVE_SCHEDULED,e.pendingSaveState_)),e.savePromise_.promise.finished((function(t,n){return e.publish(new d.SaveMessage(e,d.SaveMessage.SAVE_COMPLETED,e.lastSaveState_))}))),t=e.savePromise_.promise})),t},validateAndSave:function(e){var t=this;this.saveTimer_=null,S.CoreAssert.isTrue(null!=this.owner,"Save manager has no owner. Document closed without calling willCloseDocument?","SaveManager.validateAndSave","SaveManager.swift",302),null!=this.pendingSaveState_?C.Host.async.postOnWorkerThread(this.saveQueue_,(function(){var n=!1;if(t.saveLock_.runInLock((function(){n=null!=t.runningSaveState_})),n)t.savePromise_=e,t.requestSave(!0);else{t.saveLock_.runInLock((function(){S.CoreAssert.isTrue(null==t.runningSaveState_,"Save shouldn't be running. Worker queue shouldn't be concurrent.","SaveManager.validateAndSave","SaveManager.swift",317),t.runningSaveState_=t.pendingSaveState_,t.pendingSaveState_=null}));var i,a=t.validate();(i=g.as(a,f.DBValidationError))?t.saveLock_.runInLock((function(){t.runningSaveState_=null,e.reject(new d.SaveErrorValidationFailed(i))})):C.Host.exception.executeWithExceptionHandler((function(){return t.save().finished((function(n,i){i?t.saveLock_.runInLock((function(){t.runningSaveState_=null,e.resolve(d.SaveResult.COMPLETE),null!=t.savePromise_&&t.savePromise_!==e&&null==t.pendingSaveState_&&(t.savePromise_.resolve(d.SaveResult.COMPLETE),t.savePromise_=null)})):t.saveLock_.runInLock((function(){return e.reject(new d.SaveErrorSaveFailed(n))}))}))}),(function(n){g.opt(t.saveLock_,(function(e){return e.runInLock((function(){t.runningSaveState_=null}))})),e.reject(new d.SaveErrorExceptionDuringSave(n))}))}})):e.resolve(d.SaveResult.COMPLETE)},validate:function(){var e,t,n;return(e=g.opt(this.owner,(function(e){return e.document})))&&null!=(t=this.runningSaveState_)&&(n=e.database.getState(t))?n.validate():new f.DBValidationError},save:function(){var e,t,n=this;if((e=g.opt(this.owner,(function(e){return e.document})))&&null!=(t=this.runningSaveState_)){var i=new y.MiniDocumentBranch(e.uuid),a=new T.JSONDocumentEncoder(i);return e.encodeStateByID(t,a),a.finish(),this.saveLock_.runInLock((function(){n.lastSavedBranch_=i,n.lastSaveState_=n.runningSaveState_})),e.requestSaveDocumentAt(t)}return m.CorePromise.reject(d.SaveResult.CANCELED)}}}),p)},"n/CE":function(e,t,n){var i,a,o,r=t,s=n("oAGj"),l=n("SpAV"),c=n("quOg"),u=n("FNB+"),h=n("cmoc"),p=n("9Lk3"),d=n("iCxV"),g=n("90dd"),S=n("ZoS2");r.SelectionStateChangedMessage=(i=function e(t){g.TheoMessage.call(this,e.TYPE,t)},s.defineClass({name:"SelectionStateChangedMessage",ctor:i,superName:"TheoMessage",statics:{TYPE:{get:function(){return"SelectionStateChangedMessage"}}}}),i),r.SelectionMode=s.defineEnum("SelectionMode",{Normal:0,Spacing:1,Crop:2}),r.SelectionStateModeChangedMessage=(a=function e(t){g.TheoMessage.call(this,e.TYPE,t)},s.defineClass({name:"SelectionStateModeChangedMessage",ctor:a,superName:"TheoMessage",statics:{TYPE:{get:function(){return"SelectionStateModeChangedMessage"}}}}),a),r.SelectionState=(o=function(){this.selected_=[],this.selectionMode_=r.SelectionMode.Normal,this.inCharStyleMode=!1,S.TheoPublishingObject.call(this)},s.defineClass({name:"SelectionState",ctor:o,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{inSpacingMode:{get:function(){return this.selectionMode_==r.SelectionMode.Spacing},set:function(e){this.selectionMode_=e?r.SelectionMode.Spacing:r.SelectionMode.Normal,s.opt(this.owner,(function(e){return e.updateHandles()}))}},inCropMode:{get:function(){return this.selectionMode_==r.SelectionMode.Crop},set:function(e){var t=e?r.SelectionMode.Crop:r.SelectionMode.Normal;t!=this.selectionMode_&&(this.selectionMode_=t,this.publishSelectionModeChange(),s.opt(this.owner,(function(e){return e.updateHandles()})))}},publishSelectionChange:function(){this.publish(new r.SelectionStateChangedMessage(this))},publishSelectionModeChange:function(){this.publish(new r.SelectionStateModeChangedMessage(this))},selectedCount:{get:function(){return this.selected_.length}},selectedCountInDocument:{get:function(){return this.asFormaArray().length}},IDs:{get:function(){return this.selected_},set:function(e){var t=this;this.clearSelection(!1),e.forEach((function(e){var n;(n=s.opt(s.opt(t.owner,(function(e){return e.document})),(function(t){return t.firstPage.root.formaByID(e)})))&&t.selectForma(n,!1)})),this.publishSelectionChange()}},asFormaArray:function(){var e=[];return this.forEachSelected((function(t){s.containsEq(e,t,u._equality_Forma_Forma)||e.push(t)})),e},forEachSelected:function(e){var t=this;this.selected_.forEach((function(n){var i;(i=s.opt(s.opt(t.owner,(function(e){return e.document})),(function(e){return e.firstPage.root.formaByID(n)})))&&e(i)}))},formaAt:function(e){var t=this;if(e<0||e>=this.selected_.length)return l.CoreAssert.fail("Invalid index for SelectionState.formaAt","SelectionState.formaAt","SelectionState.swift",159),null;var n=s.opt(s.opt(this.owner,(function(e){return e.document})),(function(n){return n.firstPage.root.formaByID(t.selected_[e])}));return null==n&&s.opt(d.Host.logging,(function(e){return e.warning("SelectionState.formaAt(index) is nil even though index is in range")})),n},isFormaSelectable:function(e){var t;if(((t=s.opt(e.controller,(function(e){return e.userGroupChild})))||null!=t)&&t)for(var n=s.iter(this.asFormaArray());!n.done;n.next()){var i,a,o=n.value;if((i=s.opt(o.controller,(function(e){return e.userGroupRoot})))&&(a=s.opt(e.controller,(function(e){return e.userGroupRoot})))&&i==a)return!1}return!this.isSelected(e)&&this.owner.allowSelectionChanges},selectForma:function(e,t){void 0===t&&(t=!0),this.selectFormae([e],t)},selectFormae:function(e,t){void 0===t&&(t=!0);for(var n=s.iter(e);!n.done;n.next()){var i=n.value;this.isFormaSelectable(i)&&(s.opt(i.parent,(function(e){return e.kind==h.FrameForma.KIND&&(i.isImage()||i.isVideo())}))?this.selected_.push(i.parent.formaID):this.selected_.push(i.formaID))}t&&this.publishSelectionChange()},replaceSelection:function(e){this.replaceSelectionWithFormae([e])},replaceSelectionWithFormae:function(e){this.clearSelectionArray(),this.selectFormae(s.clone(e))},deselectForma:function(e,t){void 0===t&&(t=!0),this.deselectFormae([e],t)},deselectFormae:function(e,t){if(void 0===t&&(t=!0),this.owner.allowSelectionChanges){for(var n=s.iter(e);!n.done;n.next()){var i=n.value;this.isSelected(i)&&(s.remove(this.selected_,i.formaID),s.opt(i.parent,(function(e){return e.kind==h.FrameForma.KIND}))&&this.isSelected(i.parent)&&s.remove(this.selected_,i.parent.formaID))}t&&this.publishSelectionChange()}},isSelected:function(e){return this.selected_.includes(e.formaID)},isGroupSelected:function(e){var t,n;return(n=s.opt(e.controller,(function(e){return e.userGroupRoot})))?this.selected_.includes(n.formaID):!(!(t=s.opt(e.controller,(function(e){return e.userGroup})))&&null==t||!t)&&this.selected_.includes(e.formaID)},clearSelectionArray:function(){var e=this;if(this.removeStaleSelections(),this.owner.allowSelectionChanges){var t=[];this.forEachSelected((function(n){e.owner.interactionMode==c.InteractionMode.AutomaticGrid&&null!=n.controller&&n.controller.kind==p.GridController.KIND||t.push(n.formaID)}));for(var n=s.iter(t);!n.done;n.next()){var i=n.value;s.remove(this.selected_,i)}}},clearSelection:function(e){void 0===e&&(e=!0),this.owner.allowSelectionChanges&&this.selectedCount>0&&(this.clearSelectionArray(),e&&this.publishSelectionChange())},clearSelectionNoUpdate:function(){this.owner.allowSelectionChanges&&this.clearSelectionArray()},removeStaleSelections:function(e){void 0===e&&(e=!0);var t=this,n=[];this.selected_.forEach((function(e){null==s.opt(s.opt(t.owner,(function(e){return e.document})),(function(t){return t.firstPage.root.formaByID(e)}))&&n.push(e)}));for(var i=s.iter(n);!i.done;i.next()){var a=i.value;s.remove(this.selected_,a)}e&&n.length>0&&this.owner.allowSelectionChanges&&this.publishSelectionChange()}}}),o)},oKI3:function(e,t,n){var i,a,o=t,r=n("oAGj"),s=n("SpAV"),l=n("c+uM"),c=n("BgH2"),u=n("oKlP");o.TextPathID=r.defineEnum("TextPathID",{UNSET:-1,Custom:0,Circle:1,SemiCircleUp:2,SemiCircleDown:3,ArcUp:4,ArcDown:5,Wave:6,Rect:7,Line:8}),o.TextPathLibrary=(i=function(){},a={},r.defineClass({name:"TextPathLibrary",ctor:i,statics:{getPathForLockupStyle:function(e){var t=e.layout;s.CoreAssert.isTrue(l.LockupStyle.isPath(t),"Why are we asking for a path for a non path layout?","TextPathLibrary.getPathForLockupStyle","TextPathLibrary.swift",42);var n=e.pathID;return s.CoreAssert.isFalse(n==o.TextPathID.UNSET,"Why are we asking for a path when pathID is not set?","TextPathLibrary.getPathForLockupStyle","TextPathLibrary.swift",45),n==o.TextPathID.Custom?(s.CoreAssert.isTrue(null!=e.customPath,"No custom path","TextPathLibrary.getPathForLockupStyle","TextPathLibrary.swift",47),e.customPath):i.getPathByID(n)},getPathByID:function(e){var t;return(t=i.paths[e])?t.clone():(s.CoreAssert.fail("Unsupported path id "+e,"TextPathLibrary.getPathByID","TextPathLibrary.swift",59),i.circlePath)},isPathSymmetric:function(e){switch(e){case 1:case 6:case 7:case 8:return!0;case 2:case 3:case 4:case 5:case 0:return!1;case-1:return s.CoreAssert.fail("Unsupported path id "+e,"TextPathLibrary.isPathSymmetric","TextPathLibrary.swift",83),!1;default:return s.CoreAssert.fail("Unsupported path id "+e,"TextPathLibrary.isPathSymmetric","TextPathLibrary.swift",86),!1}},c:.551915024494,quad0:{get:function(){return void 0===a.quad0&&(a.quad0=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(0,-i.c),new u.TheoPoint(1-i.c,-1),new u.TheoPoint(1,-1))),a.quad0}},quad1:{get:function(){return void 0===a.quad1&&(a.quad1=new c.TextPathSegment(new u.TheoPoint(1,-1),new u.TheoPoint(1+i.c,-1),new u.TheoPoint(2,-i.c),new u.TheoPoint(2,0))),a.quad1}},quad2:{get:function(){return void 0===a.quad2&&(a.quad2=new c.TextPathSegment(new u.TheoPoint(2,0),new u.TheoPoint(2,i.c),new u.TheoPoint(1+i.c,1),new u.TheoPoint(1,1))),a.quad2}},quad3:{get:function(){return void 0===a.quad3&&(a.quad3=new c.TextPathSegment(new u.TheoPoint(1,1),new u.TheoPoint(1-i.c,1),new u.TheoPoint(0,i.c),new u.TheoPoint(0,0))),a.quad3}},quad2Prime:{get:function(){return void 0===a.quad2Prime&&(a.quad2Prime=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(0,i.c),new u.TheoPoint(1-i.c,1),new u.TheoPoint(1,1))),a.quad2Prime}},quad3Prime:{get:function(){return void 0===a.quad3Prime&&(a.quad3Prime=new c.TextPathSegment(new u.TheoPoint(1,1),new u.TheoPoint(1+i.c,1),new u.TheoPoint(2,i.c),new u.TheoPoint(2,0))),a.quad3Prime}},upArc:{get:function(){return void 0===a.upArc&&(a.upArc=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(2,-1),new u.TheoPoint(4,-1),new u.TheoPoint(6,0))),a.upArc}},downArc:{get:function(){return void 0===a.downArc&&(a.downArc=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(2,1),new u.TheoPoint(4,1),new u.TheoPoint(6,0))),a.downArc}},wave:{get:function(){return void 0===a.wave&&(a.wave=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(2,-2),new u.TheoPoint(4,2),new u.TheoPoint(6,0))),a.wave}},lineTop:{get:function(){return void 0===a.lineTop&&(a.lineTop=new c.TextPathSegment(new u.TheoPoint(0,0),new u.TheoPoint(.3,0),new u.TheoPoint(.7,0),new u.TheoPoint(1,0))),a.lineTop}},lineRight:{get:function(){return void 0===a.lineRight&&(a.lineRight=new c.TextPathSegment(new u.TheoPoint(1,0),new u.TheoPoint(1,.3),new u.TheoPoint(1,.7),new u.TheoPoint(1,1))),a.lineRight}},lineBottom:{get:function(){return void 0===a.lineBottom&&(a.lineBottom=new c.TextPathSegment(new u.TheoPoint(1,1),new u.TheoPoint(.7,1),new u.TheoPoint(.3,1),new u.TheoPoint(0,1))),a.lineBottom}},lineLeft:{get:function(){return void 0===a.lineLeft&&(a.lineLeft=new c.TextPathSegment(new u.TheoPoint(0,1),new u.TheoPoint(0,.7),new u.TheoPoint(0,.3),new u.TheoPoint(0,0))),a.lineLeft}},circlePath:{get:function(){return void 0===a.circlePath&&(a.circlePath=new c.TextPath([i.quad0,i.quad1,i.quad2,i.quad3])),a.circlePath}},semicirclePath:{get:function(){return void 0===a.semicirclePath&&(a.semicirclePath=new c.TextPath([i.quad0,i.quad1])),a.semicirclePath}},semicircleDownPath:{get:function(){return void 0===a.semicircleDownPath&&(a.semicircleDownPath=new c.TextPath([i.quad2Prime,i.quad3Prime])),a.semicircleDownPath}},upArcPath:{get:function(){return void 0===a.upArcPath&&(a.upArcPath=new c.TextPath([i.upArc],2.5)),a.upArcPath}},downArcPath:{get:function(){return void 0===a.downArcPath&&(a.downArcPath=new c.TextPath([i.downArc],2.5)),a.downArcPath}},wavePath:{get:function(){return void 0===a.wavePath&&(a.wavePath=new c.TextPath([i.wave])),a.wavePath}},rectPath:{get:function(){return void 0===a.rectPath&&(a.rectPath=new c.TextPath([i.lineTop,i.lineRight,i.lineBottom,i.lineLeft],1/0)),a.rectPath}},linePath:{get:function(){return void 0===a.linePath&&(a.linePath=new c.TextPath([i.lineTop])),a.linePath}},paths:{get:function(){return void 0===a.paths&&(a.paths={1:i.circlePath,2:i.semicirclePath,3:i.semicircleDownPath,4:i.upArcPath,5:i.downArcPath,6:i.wavePath,7:i.rectPath,8:i.linePath}),a.paths}}}}),i)},rrhp:function(e,t,n){var i,a,o,r,s,l=t,c=n("oAGj"),u=n("0wFF"),h=n("SpAV"),p=n("yGNn"),d=n("P83h"),g=n("ZhwN"),S=n("iCxV"),_=n("90dd"),m=n("ZoS2"),f=n("Kkml");l.IDocumentStateManager=c.defineProtocol("IDocumentStateManager",{resetStates:"() -> Void",getRootState:"() -> IDocumentState",beginNewState:"(String) -> Void",endNewState:"() -> IDocumentState",setCurrentState:"(IDocumentState) -> Void",getNewStateNestingDepth:"() -> Integer"}),l.IDocumentState=c.defineProtocol("IDocumentState",{}),l.PatchStatus=(i=function(e){this.depth=0,this.newStateBegun=e},c.defineClass({name:"PatchStatus",ctor:i}),i),l.TimelineState=(a=function(e,t){this.actionDepth=0,this.patch=null,this.beginSelectedFormaIDs=[],this.endSelectedFormaIDs=[],this.beganInCharStyleMode=!1,this.endedInCharStyleMode=!1,this.compoundingActionWrapperEvent=null,this.branchName=null,this.action=e,this.state=t},c.defineClass({name:"TimelineState",ctor:a,props:{description:{get:function(){var e;return(e=this.branchName)||null!=e?e:c.opt(this.action,(function(e){return e.description}))}}}}),a),l.Timeline=(o=function(e,t){this.states=[],this.current=-1,void 0===e&&(e=null),void 0===t&&(t=null),this.gesture=e,this.name=t},c.defineClass({name:"Timeline",ctor:o,statics:{gesture:function(e){return new o(e,null)},branch:function(e){return new o(null,e)}},props:{currentState:{get:function(){return this.current<0||this.current>this.states.length?null:this.states[this.current]}}}}),o),l.UndoRedoChangeDirection=c.defineEnum("UndoRedoChangeDirection",{Undo:"undo",Redo:"redo"}),l.UndoRedoMessage=(r=function e(t,n,i,a){void 0===i&&(i=null),void 0===a&&(a=null),this.changeType=n,this.changeAction=i,this.changeDirection=a,_.TheoMessage.call(this,e.TYPE,t)},c.defineClass({name:"UndoRedoMessage",ctor:r,superName:"TheoMessage",statics:{TYPE:"UndoRedoMessage",UNDO_REDO_CHANGE:"state-changed",UNDO_REDO_GESTURE_BEGIN:"gesture-begin",UNDO_REDO_GESTURE_END:"gesture-end",UNDO_REDO_STATE_CLEAN:"state-clean"}}),r),l.UndoRedoSelectionPolicyEnum=c.defineEnum("UndoRedoSelectionPolicyEnum",{RestoreSelection:"restore",PreserveSelection:"preserve"}),l.UndoRedoManager=(s=function(e){this.applyingUpdatedPatchesDepth=0,this.waitingCallbacks=[],this.timeline=new l.Timeline,this.timelineStack=[],this.patches=[],this._selectionPolicy=e,m.TheoPublishingObject.call(this)},c.defineClass({name:"UndoRedoManager",ctor:s,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{setup:function(){var e;(e=c.opt(this.owner,(function(e){return e.document})))&&(this.stateMgr=c.opt(S.Host.factories,(function(t){return t.constructDocumentStateManager(e)}))),this.reset()},shouldCollapseActions:function(e,t){return null!=e&&null!=t&&e.description==t.description&&e.scope==t.scope},updateSelection:function(e,t,n){var i;if(this._selectionPolicy==l.UndoRedoSelectionPolicyEnum.PreserveSelection)c.opt(this.owner,(function(e){return e.selection.removeStaleSelections(!1)}));else{var a=[],o=!1;if("cancel-branch"==e?(a=c.clone(c.opt(this.owner,(function(e){return e.selection.IDs}))||[]),o=!(!(i=c.opt(this.owner,(function(e){return e.selection.inCharStyleMode})))&&null==i)&&i):"set-index"==e&&t>n?(a=c.clone(this.timeline.states[t].beginSelectedFormaIDs),o=this.timeline.states[t].beganInCharStyleMode):(a=c.clone(this.timeline.currentState.endSelectedFormaIDs),o=this.timeline.currentState.endedInCharStyleMode),"set-index"==e){o=!1;for(var r=[],s=c.iter(a);!s.done;s.next()){var u,h=s.value;(u=c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.firstPage.root.formaByID(h)})))&&(u.isText()||r.push(h))}a=c.clone(r)}"user-action"!=e&&(c.opt(this.owner,(function(e){return e.selection.inCharStyleMode=o})),c.opt(this.owner,(function(e){return e.selection.IDs=c.clone(a)})))}},reset:function(){c.opt(this.stateMgr,(function(e){return e.resetStates()})),this.timeline=new l.Timeline,this.timeline.states.push(new l.TimelineState(null,c.opt(this.stateMgr,(function(e){return e.getRootState()})))),this.timeline.current=0,this.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE),this.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN)},debugDescribeCurrentState:function(){var e,t,n=this.timelineStack.length>0?"[branch depth "+c.toString(this.timelineStack.length)+"] ":"";return n+="Index "+c.toString(this.timeline.current),(e=this.timeline.currentState)?(t=e.action)?n+=" ("+t.description+")":n+=" (Initial state)":n+=" (Invalid state)",n},beginBranch:function(){this.beginNamedBranch(null)},beginNamedBranch:function(e){h.CoreAssert.info("Starting new branch @ "+this.debugDescribeCurrentState()),h.CoreAssert.isTrue(null==this.gestureScope,"Should not branch in the middle of a running gesture","UndoRedoManager.beginNamedBranch","UndoRedoManager.swift",314),this.timelineStack.push(this.timeline);var t=l.Timeline.branch(e);t.states.push(this.timeline.currentState),t.current=0,this.timeline=t},endBranch:function(e){var t=this;if(this.timelineStack.length>0){h.CoreAssert.info((e?"Committing":"Canceling")+" branch @ "+this.debugDescribeCurrentState());var n=this.timelineStack.pop();if(e){var i=this.timeline.currentState,a=this.timeline.name;if(this.timeline=n,i===this.timeline.currentState);else{if(this.timeline.current<this.timeline.states.length-1){var o=this.timeline.current+1,r=this.timeline.states.length-o;this.timeline.states.splice(o,r)}c.opt(i,(function(e){return e.branchName=a})),this.timeline.states.push(i),this.timeline.current=this.timeline.states.length-1}this.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE)}else this.timeline=n,c.opt(this.stateMgr,(function(e){return e.setCurrentState(t.timeline.currentState.state)})),this.applyPatches((function(){t.updateSelection("cancel-branch",-1,-1),t.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE)}));0==this.timelineStack.length&&this.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN)}else h.CoreAssert.fail("endBranch: branch stack underflow @ "+this.debugDescribeCurrentState(),"UndoRedoManager.endBranch","UndoRedoManager.swift",374)},beginGesture:function(){if(h.CoreAssert.isTrue(null==this.gestureScope,"Beginning gesture scope when gesture already running","UndoRedoManager.beginGesture","UndoRedoManager.swift",396),null==this.gestureScope){h.CoreAssert.info("Starting new gesture branch @ "+this.debugDescribeCurrentState()),this.publishEvent(l.UndoRedoMessage.UNDO_REDO_GESTURE_BEGIN),this.timelineStack.push(this.timeline);var e=l.Timeline.gesture(g.GUIDUtils.makeGUID());e.states.push(this.timeline.currentState),e.current=0,this.timeline=e}},endGesture:function(e){h.CoreAssert.isTrue(null!=this.gestureScope,"Ending gesture scope when no gesture running","UndoRedoManager.endGesture","UndoRedoManager.swift",409),null!=this.gestureScope&&(this.endBranch(e),this.publishEvent(l.UndoRedoMessage.UNDO_REDO_GESTURE_END))},gestureScope:{get:function(){return this.timeline.gesture}},beginUserActionAsync:function(e){var t=this;return new p.CorePromise((function(n,i){return t.beginUserAction(e,(function(){return n(null)}))}))},endUserActionAsync:function(){var e=this;return new p.CorePromise((function(t,n){return e.endUserAction((function(){return t(null)}))}))},beginUserAction:function(e,t){var n,i=this;h.CoreAssert.info("beginUserAction @ ("+e.description+")");var a=this.timeline.currentState;if(a.actionDepth>0)h.CoreAssert.fail("Nested user action "+e.description+" detected ("+a.action.description+" currently running)","UndoRedoManager.beginUserAction","UndoRedoManager.swift",455),a.actionDepth+=1,t();else{this.timeline.states.length>this.timeline.current+1&&this.timeline.states.splice(this.timeline.current+1,this.timeline.states.length-this.timeline.current-1);var o=new l.TimelineState(e,null);o.beginSelectedFormaIDs=c.clone(c.opt(this.owner,(function(e){return e.selection.IDs}))||[]),o.beganInCharStyleMode=!(!(n=c.opt(this.owner,(function(e){return e.selection.inCharStyleMode})))&&null==n)&&n;var r=!1,s=this.shouldCollapseActions(a.action,e),u=e.collapseSequential==f.CollapseBehavior.ALWAYS||e.collapseSequential==f.CollapseBehavior.GESTURE_DEPENDENT&&null!=this.gestureScope;if(!(null!=this.gestureScope&&this.timeline.current>=1)||u&&s){if((!e.compounding||u)&&s&&this.timeline.current>=1){for(var p=this.timeline.current-1;p>0&&this.shouldCollapseActions(this.timeline.states[p].action,e);)p-=1;e.compounding||(o.compoundingActionWrapperEvent=new d.FormaNullChangedEvent(this.owner.document.firstPage.root),c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.firstPage.beginUpdate(o.compoundingActionWrapperEvent)})),c.opt(this.stateMgr,(function(e){return e.setCurrentState(i.timeline.states[p].state)})),r=!0),u&&this.timeline.states.splice(p+1,1)}}else o.compoundingActionWrapperEvent=new d.FormaNullChangedEvent(this.owner.document.firstPage.root),c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.firstPage.beginUpdate(o.compoundingActionWrapperEvent)})),c.opt(this.stateMgr,(function(e){return e.setCurrentState(i.timeline.states[0].state)})),r=!0;this.timeline.states.push(o),this.timeline.current=this.timeline.states.length-1,r?this.applyPatches((function(){o.actionDepth=1,c.opt(i.stateMgr,(function(t){return t.beginNewState(e.description)})),t()})):(o.actionDepth=1,c.opt(this.stateMgr,(function(t){return t.beginNewState(e.description)})),t())}},endUserAction:function(e){var t,n,i=this;(n=this.timeline.currentState)?(h.CoreAssert.info("endUserAction @ "+this.debugDescribeCurrentState()),h.CoreAssert.isTrue(this.timeline.current>0,"first timeline entry should always be initial state, not a user action","UndoRedoManager.endUserAction","UndoRedoManager.swift",543),h.CoreAssert.isTrue(null!=n.action,"invalid current state for ending a user action","UndoRedoManager.endUserAction","UndoRedoManager.swift",544),0==n.actionDepth?h.CoreAssert.fail("User action stack underflow","UndoRedoManager.endUserAction","UndoRedoManager.swift",547):n.actionDepth>1?(n.actionDepth-=1,e()):(null!=n.compoundingActionWrapperEvent&&(c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.firstPage.endUpdate(n.compoundingActionWrapperEvent)})),n.compoundingActionWrapperEvent=null),n.actionDepth=0,n.endSelectedFormaIDs=c.clone(c.opt(this.owner,(function(e){return e.selection.IDs}))||[]),n.endedInCharStyleMode=!(!(t=c.opt(this.owner,(function(e){return e.selection.inCharStyleMode})))&&null==t)&&t,this.applyPatches((function(){for(;i.waitingCallbacks.length>0&&0==i.timeline.currentState.actionDepth;)i.waitingCallbacks.shift()();i.updateSelection("user-action",-1,-1),i.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE),e(),0==i.timelineStack.length&&0==i.timeline.currentState.actionDepth&&i.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN)})))):h.CoreAssert.fail("invalid current state for ending a user action","UndoRedoManager.endUserAction","UndoRedoManager.swift",585)},cancelUserAction:function(e){var t,n=this;if(t=this.timeline.currentState)if(h.CoreAssert.info("cancelUserAction @ "+this.debugDescribeCurrentState()),h.CoreAssert.isTrue(this.timeline.current>0,"first timeline entry should always be initial state, not a user action","UndoRedoManager.cancelUserAction","UndoRedoManager.swift",597),0==t.actionDepth)h.CoreAssert.fail("User action stack underflow","UndoRedoManager.cancelUserAction","UndoRedoManager.swift",600);else{if(t.actionDepth>1)return h.CoreAssert.fail("Can not cancel a user action with a depth greater than 1","UndoRedoManager.cancelUserAction","UndoRedoManager.swift",602),this.endUserAction(e);t.actionDepth=0,t.endSelectedFormaIDs=c.clone(c.opt(this.owner,(function(e){return e.selection.IDs}))||[]);var i=this.getCurrentTimelineIndex(),a=i-1;t.state=c.opt(this.stateMgr,(function(e){return e.endNewState()})),this.setCurrentTimelineIndex(a,(function(){for(n.removeTimelineStateAtIndex(i),n.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE);n.waitingCallbacks.length>0&&0==n.timeline.currentState.actionDepth;)n.waitingCallbacks.shift()();e(),0==n.timelineStack.length&&0==n.timeline.currentState.actionDepth&&n.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN)}))}else h.CoreAssert.fail("invalid current state for ending a user action","UndoRedoManager.cancelUserAction","UndoRedoManager.swift",631)},getActionDepth:function(){var e;return(e=c.opt(this.timeline.currentState,(function(e){return e.actionDepth})))||null!=e?e:0},registerPatch:function(e){this.patches.push(e)},getPatchDepth:function(){var e;return(e=c.opt(c.opt(this.timeline.currentState,(function(e){return e.patch})),(function(e){return e.depth})))||null!=e?e:-1},beginPatch:function(){var e,t;(e=this.timeline.currentState)&&((t=e.patch)?(t.newStateBegun||(c.opt(this.stateMgr,(function(e){return e.beginNewState("patch")})),t.newStateBegun=!0),t.depth+=1):h.CoreAssert.fail("Invalid beginPatch: not in a patching context.","UndoRedoManager.beginPatch","UndoRedoManager.swift",681))},endPatch:function(){var e,t;(e=this.timeline.currentState)&&((t=e.patch)?t.depth>0?t.depth-=1:h.CoreAssert.fail("Patch stack underflow!","UndoRedoManager.endPatch","UndoRedoManager.swift",695):h.CoreAssert.fail("Invalid beginPatch: not in a patching context.","UndoRedoManager.endPatch","UndoRedoManager.swift",698))},invalidatePatches:function(e){var t=this;0==this.getActionDepth()?(this.applyingUpdatedPatchesDepth+=1,this.applyPatches((function(){t.publishEvent("state-updated"),t.applyingUpdatedPatchesDepth-=1,0==t.timelineStack.length&&0==t.timeline.currentState.actionDepth&&t.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN),e()}))):e()},undo:function(e){var t,n=this;h.CoreAssert.isTrue(null==this.gestureScope,"Should not undo in the middle of a running gesture","UndoRedoManager.undo","UndoRedoManager.swift",735),this.timeline.current<=0?e():(c.opt(S.Host.logging,(function(e){return e.logToAnalytics(u.AnalyticsConstants.kAnalyticsDataUndo,{contextualData2:"actionDescription:"+((t=n.getUndoDescription())||null!=t?t:"unknown")})})),this.setCurrentTimelineIndex(this.timeline.current-1,e,l.UndoRedoChangeDirection.Undo))},redo:function(e){var t,n=this;h.CoreAssert.isTrue(null==this.gestureScope,"Should not redo in the middle of a running gesture","UndoRedoManager.redo","UndoRedoManager.swift",753),this.timeline.current==this.timeline.states.length-1?e():(c.opt(S.Host.logging,(function(e){return e.logToAnalytics(u.AnalyticsConstants.kAnalyticsDataRedo,{contextualData2:"actionDescription:"+((t=n.getRedoDescription())||null!=t?t:"unknown")})})),this.setCurrentTimelineIndex(this.timeline.current+1,e,l.UndoRedoChangeDirection.Redo))},getUndoDescription:function(){return this.timeline.current<=0?null:c.opt(this.timeline.currentState,(function(e){return e.description}))},getRedoDescription:function(){return this.timeline.current==this.timeline.states.length-1?null:this.timeline.states[this.timeline.current+1].description},applyPatches:function(e){var t,n=this,i=this.timeline.states[this.timeline.current];h.CoreAssert.isTrue(null==i.patch,"applying patches before previous patch context is finished!","UndoRedoManager.applyPatches","UndoRedoManager.swift",787),h.CoreAssert.isTrue(0==i.actionDepth,"should not apply patches while user action still mutating","UndoRedoManager.applyPatches","UndoRedoManager.swift",788),i.patch=new l.PatchStatus(((t=c.opt(this.stateMgr,(function(e){return e.getNewStateNestingDepth()})))||null!=t?t:0)>0),function e(t,a){t>=n.patches.length?a():(i!==n.timeline.states[n.timeline.current]&&h.CoreAssert.warning("unexpected change of timeline during patching"),h.CoreAssert.isTrue(null!=i.patch&&0==i.patch.depth,"unexpected state between patches","UndoRedoManager.applyPatches","UndoRedoManager.swift",800),n.patches[t]((function(){return e(t+1,a)})))}(0,(function(){i!==n.timeline.currentState&&h.CoreAssert.warning("unexpected change of timeline during patching"),i.patch.newStateBegun&&(i.state=c.opt(n.stateMgr,(function(e){return e.endNewState()}))),i.patch=null,e()}))},getTimelineLength:function(){return this.timeline.states.length},getCurrentTimelineState:function(){return this.timeline.currentState},getCurrentTimelineIndex:function(){return this.timeline.current},getTimelineStateAtIndex:function(e){return h.CoreAssert.isTrue(e>=0&&e<this.timeline.states.length,"getTimelineStateAtIndex: index out of range","UndoRedoManager.getTimelineStateAtIndex","UndoRedoManager.swift",847),this.timeline.states[e]},publishUndoEvent:function(e){var t;((t=c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.documentInited()})))||null!=t)&&t&&(this.publish(new l.UndoRedoMessage(this,l.UndoRedoMessage.UNDO_REDO_CHANGE,e,l.UndoRedoChangeDirection.Undo)),this.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN))},publishRedoEvent:function(e){var t;((t=c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.documentInited()})))||null!=t)&&t&&(this.publish(new l.UndoRedoMessage(this,l.UndoRedoMessage.UNDO_REDO_CHANGE,e,l.UndoRedoChangeDirection.Redo)),this.publishEvent(l.UndoRedoMessage.UNDO_REDO_STATE_CLEAN))},publishEvent:function(e){var t;(e!=l.UndoRedoMessage.UNDO_REDO_CHANGE||((t=c.opt(c.opt(this.owner,(function(e){return e.document})),(function(e){return e.documentInited()})))||null!=t)&&t)&&this.publish(new l.UndoRedoMessage(this,e))},removeTimelineStateAtIndex:function(e){h.CoreAssert.isTrue(e>0,"removeStateAtIndex: should not remove the initial state!","UndoRedoManager.removeTimelineStateAtIndex","UndoRedoManager.swift",882),h.CoreAssert.isTrue(e!=this.timeline.current,"removeStateAtIndex: should not remove the current state!","UndoRedoManager.removeTimelineStateAtIndex","UndoRedoManager.swift",883),h.CoreAssert.isTrue(e>=0&&e<this.timeline.states.length,"removeStateAtIndex: index out of range","UndoRedoManager.removeTimelineStateAtIndex","UndoRedoManager.swift",884),e>0&&e<this.timeline.states.length&&(this.timeline.states.splice(e,1),e<this.timeline.current&&(this.timeline.current-=1),this.publishEvent("timeline-changed"))},setCurrentTimelineIndex:function(e,t,n){void 0===n&&(n=null);var i=this,a=n==l.UndoRedoChangeDirection.Undo,o=n==l.UndoRedoChangeDirection.Redo;if(h.CoreAssert.info("setting timeline index to "+c.toString(e)+" @ "+this.debugDescribeCurrentState()),e!=this.timeline.current&&e>=0&&e<this.timeline.states.length){var r=c.opt(this.timeline.currentState,(function(e){return e.action})),s=this.timeline.current;this.timeline.current=e;var u=c.opt(this.timeline.currentState,(function(e){return e.action}));return c.opt(this.stateMgr,(function(e){return e.setCurrentState(i.timeline.currentState.state)})),this.applyPatches((function(){i.updateSelection("set-index",s,e),a?i.publishUndoEvent(r):o?i.publishRedoEvent(u):i.publishEvent(l.UndoRedoMessage.UNDO_REDO_CHANGE),t()}))}t()},whenNoCurrentAction:function(e){0==this.timeline.currentState.actionDepth?e():this.waitingCallbacks.push(e)},currentlyExecutingAction:function(){var e;return!!(e=this.timeline.currentState)&&(this.getActionDepth()>0||null!=e.patch)}}}),s)}}]);
//# sourceMappingURL=vendors_npm_spark_c4f60e44-598112c8.js.map