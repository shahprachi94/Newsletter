(window.webpackJsonp=window.webpackJsonp||[]).push([["slate-web","brand-kit-chooser-view~user-profile-view",6,"mui-cppublisher"],{1056:function(e){e.exports=JSON.parse('{"defaultQuotes":[{"text":"quote-loader-default-hashtag"},{"text":"quote-loader-default-social-media"},{"text":"quote-loader-default-impression"},{"text":"quote-loader-default-sleep"},{"text":"quote-loader-default-branding"},{"text":"quote-loader-default-lifestyle"},{"text":"quote-loader-default-consistency"},{"text":"quote-loader-default-audience"}],"upgradeToPremiumQuotes":[{"text":"quote-loader-upgrade-to-premium-brand"},{"text":"quote-loader-upgrade-to-premium-logo"},{"text":"quote-loader-upgrade-to-premium-themes"},{"text":"quote-loader-upgrade-to-premium-story"}]}')},1057:function(e,t){e.exports='<div class="mrvl-quote-loader">\n    <div class="quote">\n        <q class="text"></q>\n        <cite class="author"></cite>\n    </div>\n</div>\n'},1058:function(e,t,i){var n=i(1059);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},1059:function(e,t,i){(e.exports=i(91)(!1)).push([e.i,".mrvl-quote-loader .quote{position:absolute;top:0;left:0;width:100%;transition:opacity .5s;opacity:0;padding-right:20px;padding-left:20px}.mrvl-quote-loader .quote.visible{opacity:1}.mrvl-quote-loader .quote .text{display:block;font-size:26px;font-family:adobe-clean,sans-serif;color:#00b1ef;margin-bottom:32px;font-weight:300;line-height:38px}.mrvl-quote-loader .quote .text.video,.mrvl-quote-loader .quote .text.voice{color:#ff4931}.mrvl-quote-loader .quote .text.page,.mrvl-quote-loader .quote .text.slate{color:#00b1ef}.mrvl-quote-loader .quote .text.post,.mrvl-quote-loader .quote .text.theo{color:#10c459}.mrvl-quote-loader .quote .text.pmref,.mrvl-quote-loader .quote .text.refapp{color:#f17ddc}.mrvl-quote-loader .quote .author{display:block;font-family:adobe-clean,sans-serif;font-size:16px;font-weight:300;color:#82919b;text-transform:uppercase}.mrvl-interstitial-splash .mrvl-quote-loader .quote{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);max-width:870px}",""])},1112:function(e,t){e.exports={"acumin-pro-semi-condensed":{data:{title:{fontSize:"86px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.32"},subtitle:{fontSize:"24px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},heading:{fontSize:"58px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal"},subheading:{fontSize:"33px",fontWeight:"normal",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},paragraph:{fontSize:"20px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"18px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal",paddingShiftRatio:"0.43"},"unordered-list":{fontSize:"20px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"20px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"17px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"17px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"17px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"adobe-caslon-pro":{data:{title:{fontSize:"92px",fontWeight:"100",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal",paddingShiftRatio:"1"},subtitle:{fontSize:"25px",fontWeight:"600",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},heading:{fontSize:"55px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"34px",fontWeight:"600",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"21px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"29px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},button:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal",paddingShiftRatio:"0.71"},"unordered-list":{fontSize:"21px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"21px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"17px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"full-width-caption":{fontSize:"17px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"17px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"29px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"window-caption":{fontSize:"29px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"}}},"azo-sans-web":{data:{title:{fontSize:"84px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.5"},subtitle:{fontSize:"24px",fontWeight:"300",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},heading:{fontSize:"53px",fontWeight:"100",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},subheading:{fontSize:"32px",fontWeight:"bold",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},paragraph:{fontSize:"19px",fontWeight:"300",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},blockquote:{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.55",letterSpacing:"normal"},button:{fontSize:"17px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"19px",fontWeight:"300",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"ordered-list":{fontSize:"19px",fontWeight:"300",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.55",letterSpacing:"normal"},"window-caption":{fontSize:"27px",fontWeight:"100",textTransform:"none",lineHeight:"1.55",letterSpacing:"normal"}}},calluna:{data:{title:{fontSize:"86px",fontWeight:"100",textTransform:"none",lineHeight:"1.15",letterSpacing:"normal",paddingShiftRatio:"0.46"},subtitle:{fontSize:"24px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"56px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"30px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"19px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},blockquote:{fontSize:"26px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"17px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"19px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"ordered-list":{fontSize:"19px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"inline-image-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"26px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"26px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"clarendon-text-pro":{data:{title:{fontSize:"76px",fontWeight:"100",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal",paddingShiftRatio:"0.68"},subtitle:{fontSize:"22px",fontWeight:"300",textTransform:"none",lineHeight:"1.85",letterSpacing:"normal"},heading:{fontSize:"44px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},subheading:{fontSize:"28px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},paragraph:{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},blockquote:{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},button:{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal",paddingShiftRatio:"0.57"},"unordered-list":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"ordered-list":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"inline-image-caption":{fontSize:"14px",fontWeight:"100",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"full-width-caption":{fontSize:"14px",fontWeight:"100",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"14px",fontWeight:"100",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"window-caption":{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"}}},"courier-std":{data:{title:{fontSize:"75px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.5"},subtitle:{fontSize:"22px",fontWeight:"300",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"},heading:{fontSize:"50px",fontWeight:"normal",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal"},subheading:{fontSize:"30px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"futura-pt":{data:{title:{fontSize:"90px",fontWeight:"bold",textTransform:"none",lineHeight:"1.1",letterSpacing:"normal",paddingShiftRatio:"0.5"},subtitle:{fontSize:"28px",fontWeight:"bold",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"51px",fontWeight:"bold",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"32px",fontWeight:"bold",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"28px",fontWeight:"normal",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},button:{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"full-width-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"28px",fontWeight:"bold",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},"window-caption":{fontSize:"28px",fontWeight:"bold",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"}}},lato:{data:{title:{fontSize:"80px",fontWeight:"800",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.39"},subtitle:{fontSize:"22px",fontWeight:"normal",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},heading:{fontSize:"48px",fontWeight:"bold",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},subheading:{fontSize:"29px",fontWeight:"bold",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},blockquote:{fontSize:"25px",fontWeight:"300",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"},button:{fontSize:"16px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal",paddingShiftRatio:"0.43"},"unordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"25px",fontWeight:"bold",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"},"window-caption":{fontSize:"25px",fontWeight:"bold",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"}}},"ltc-bodoni-175":{data:{title:{fontSize:"84px",fontWeight:"normal",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal",paddingShiftRatio:"0.61"},subtitle:{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},heading:{fontSize:"52px",fontWeight:"normal",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},subheading:{fontSize:"32px",fontWeight:"normal",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal"},paragraph:{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"26px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.57"},"unordered-list":{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"full-width-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"26px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"26px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"museo-sans-rounded":{data:{title:{fontSize:"80px",fontWeight:"bold",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.57"},subtitle:{fontSize:"24px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},heading:{fontSize:"50px",fontWeight:"bold",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},subheading:{fontSize:"28px",fontWeight:"bold",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},blockquote:{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"16px",fontWeight:"normal",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"inline-image-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"full-width-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"museo-slab":{data:{title:{fontSize:"84px",fontWeight:"bold",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.57"},subtitle:{fontSize:"22px",fontWeight:"300",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"},heading:{fontSize:"46px",fontWeight:"bold",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},subheading:{fontSize:"30px",fontWeight:"bold",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},blockquote:{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"16px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"inline-image-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"full-width-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"14px",fontWeight:"normal",textTransform:"none",lineHeight:"1.75",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"24px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"proxima-nova":{data:{title:{fontSize:"78px",fontWeight:"100",textTransform:"none",lineHeight:"1.15",letterSpacing:"normal",paddingShiftRatio:"0.57"},subtitle:{fontSize:"22px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"50px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"29px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"pt-sans":{data:{title:{fontSize:"84px",fontWeight:"normal",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.46"},subtitle:{fontSize:"23px",fontWeight:"300",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},heading:{fontSize:"48px",fontWeight:"normal",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},subheading:{fontSize:"30px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"24px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.43"},"unordered-list":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"pt-sans-narrow":{data:{title:{fontSize:"90px",fontWeight:"normal",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.46"},subtitle:{fontSize:"28px",fontWeight:"300",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal"},heading:{fontSize:"58px",fontWeight:"normal",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"34px",fontWeight:"normal",textTransform:"none",lineHeight:"1.34",letterSpacing:"normal"},paragraph:{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"28px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.43"},"unordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"pt-serif":{data:{title:{fontSize:"80px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.46"},subtitle:{fontSize:"23px",fontWeight:"300",textTransform:"none",lineHeight:"1.65",letterSpacing:"normal"},heading:{fontSize:"52px",fontWeight:"100",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},subheading:{fontSize:"29px",fontWeight:"normal",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},blockquote:{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},button:{fontSize:"17px",fontWeight:"normal",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.8",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"window-caption":{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"}}},raleway:{data:{title:{fontSize:"76px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.57"},subtitle:{fontSize:"21px",fontWeight:"300",textTransform:"none",lineHeight:"1.55",letterSpacing:"normal"},heading:{fontSize:"48px",fontWeight:"100",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},subheading:{fontSize:"30px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},blockquote:{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},button:{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"ordered-list":{fontSize:"18px",fontWeight:"normal",textTransform:"none",lineHeight:"1.7",letterSpacing:"normal"},"inline-image-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"15px",fontWeight:"normal",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"window-caption":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"}}},"spark-bellfort-script":{data:{title:{fontSize:"98px",fontWeight:"100",textTransform:"none",lineHeight:"1.15",letterSpacing:"normal",paddingShiftRatio:"0.54"},subtitle:{fontSize:"32px",fontWeight:"300",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},heading:{fontSize:"60px",fontWeight:"100",textTransform:"none",lineHeight:"1.15",letterSpacing:"normal"},subheading:{fontSize:"38px",fontWeight:"normal",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},paragraph:{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},blockquote:{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},button:{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"ordered-list":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"inline-image-caption":{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"full-width-caption":{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"window-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"}}},"spark-didot-headline":{data:{title:{fontSize:"96px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.71"},subtitle:{fontSize:"29px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"56px",fontWeight:"100",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal"},subheading:{fontSize:"35px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},blockquote:{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.57"},"unordered-list":{fontSize:"25px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"ordered-list":{fontSize:"24px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"inline-image-caption":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"full-width-caption":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"spark-local-brewery":{data:{title:{fontSize:"88px",fontWeight:"100",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal",paddingShiftRatio:"0.64"},subtitle:{fontSize:"26px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},heading:{fontSize:"50px",fontWeight:"100",textTransform:"none",lineHeight:"1.24",letterSpacing:"normal"},subheading:{fontSize:"34px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.70",letterSpacing:"normal"},blockquote:{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"19px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.57"},"unordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.70",letterSpacing:"normal"},"ordered-list":{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.70",letterSpacing:"normal"},"inline-image-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"spark-local-brewery-four":{data:{title:{fontSize:"80px",fontWeight:"100",textTransform:"none",lineHeight:"1.1",letterSpacing:"normal",paddingShiftRatio:"0.75"},subtitle:{fontSize:"26px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"54px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal"},subheading:{fontSize:"34px",fontWeight:"normal",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},paragraph:{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},blockquote:{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},button:{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal",paddingShiftRatio:"0.64"},"unordered-list":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"ordered-list":{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"inline-image-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"full-width-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"16px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"window-caption":{fontSize:"28px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"}}},"spark-voltage":{data:{title:{fontSize:"86px",fontWeight:"normal",textTransform:"none",lineHeight:"1.25",letterSpacing:"normal",paddingShiftRatio:"0.54"},subtitle:{fontSize:"28px",fontWeight:"300",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},heading:{fontSize:"52px",fontWeight:"100",textTransform:"none",lineHeight:"1.2",letterSpacing:"normal"},subheading:{fontSize:"36px",fontWeight:"normal",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal"},paragraph:{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},button:{fontSize:"20px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.5"},"unordered-list":{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"22px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"full-width-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"18px",fontWeight:"100",textTransform:"none",lineHeight:"1.5",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"window-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"}}},"spark-wanderlust-shine":{data:{title:{fontSize:"90px",fontWeight:"100",textTransform:"none",lineHeight:"1.3",letterSpacing:"normal",paddingShiftRatio:"0.86"},subtitle:{fontSize:"30px",fontWeight:"300",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},heading:{fontSize:"52px",fontWeight:"100",textTransform:"none",lineHeight:"1.35",letterSpacing:"normal"},subheading:{fontSize:"36px",fontWeight:"normal",textTransform:"none",lineHeight:"1.45",letterSpacing:"normal"},paragraph:{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},blockquote:{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},button:{fontSize:"21px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal",paddingShiftRatio:"0.71"},"unordered-list":{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"ordered-list":{fontSize:"23px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"inline-image-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"full-width-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"photo-grid-caption":{fontSize:"17px",fontWeight:"100",textTransform:"none",lineHeight:"1.6",letterSpacing:"normal"},"fill-screen-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"},"window-caption":{fontSize:"30px",fontWeight:"100",textTransform:"none",lineHeight:"1.4",letterSpacing:"normal"}}}}},1240:function(e,t,i){var n=i(528);i(1413),i(1414),i(1415),i(1416),i(1417),i(1418),i(1419),i(1420),i(1421),i(1422),i(1423),i(1424),i(1425),i(1426),i(1427),i(1428),i(1429),i(1430),i(1431),i(1432),e.exports=n},1241:function(e,t,i){var n,o;n=[i(3),i(612)],void 0===(o=function(e,t){var i=function(){};return e.extend(i.prototype,{bind:function(t,i,n){return e(this).on(t,i,n)},unbind:function(t,i){return e(this).off(t,i)},on:function(t,i,n){return e(this).on(t,i,n)},off:function(t,i){return e(this).off(t,i)},trigger:function(t,i){var n=e.Event(t);return e(this).trigger(n,i),n}}),t.EventDispatcher=i,i}.apply(t,n))||(e.exports=o)},1242:function(e,t,i){var n,o;n=[i(3),i(612),i(611),i(978)],void 0===(o=function(e,t,i,n){function o(e,t){t=t||{},this._id=o.nextId++,this._enabled=!0;var i=this;this.mdFunc=function(e,t){return i._startDrag(e,t)},this.mmFunc=function(e,t){return i._handleDrag(e,t)},this.muFunc=function(e,t){return i._stopDrag(e,t)},this._delegateDragTracker=null,this.startEvent=t.startEvent||this.startEvent,this.updateEvent=t.updateEvent||this.updateEvent,this.stopEvent=t.stopEvent||this.stopEvent,this._dragHandlersInstalled=!1,this.attach(e)}function r(e,i){o.call(this,e,i),this._touchId=-1,this._eventTarget=null,this._tsFunc=null,this._tmFunc=null,this._teFunc=null,this._listenerOpts=!1,t.supportsPassiveEventListeners&&(this._listenerOpts={passive:!1})}function a(e,t){o.call(this,e,t),t=t||{},this._pointerId=-1,this._lastPosition=null,this._lastTime=0;var i=t.trackEvents||this.trackEvents;this._allowed={};for(var n=0;n<i.length;n++)this._allowed[i[n]||""]=!0}function s(e,t){o.call(this,e,t);var i=(t=t||{}).trackEvents||this.trackEvents;this._allowed={};for(var n=0;n<i.length;n++)this._allowed[i[n]||""]=!0;this._map={"":"mouse"},MouseEvent&&MouseEvent.MOZ_SOURCE_MOUSE&&(this._map[MouseEvent.MOZ_SOURCE_MOUSE]="mouse",this._map[MouseEvent.MOZ_SOURCE_TOUCH]="touch",this._map[MouseEvent.MOZ_SOURCE_PEN]="pen")}e.extend(o.prototype,{startEvent:"mousedown",updateEvent:"mousemove",stopEvent:"mouseup",attach:function(t){this._dragTracker=t,t&&(this._element=t.element,e(this._element).on(this.startEvent,this.mdFunc))},detach:function(){this._dragTracker&&(this._removeDragHandlers(),e(this._element).off(this.startEvent,this.mdFunc),this._element=null,this._dragTracker=null)},enable:function(){this._enabled=!0},disable:function(){this._enabled=!1,this._removeDragHandlers()},destroy:function(){this.detach()},_getCurrentTracker:function(){return this._delegateDragTracker||this._dragTracker},setDelegateTracker:function(e){this._delegateDragTracker=e},_clearDelegateTracker:function(){this._delegateDragTracker=null},_getNativeEvent:function(e){for(;e&&e.originalEvent;)e=e.originalEvent;return e},_startDrag:function(e){var t=this._getCurrentTracker(),i=!1;return this._enabled&&t&&(this._clearDelegateTracker(),i=t._startDrag(e,this.getPosition(e)),this._installDragHandlers()),i},_handleDrag:function(e){var t=!1;if(this._dragHandlersInstalled){var i=this._getCurrentTracker();this._enabled&&i&&(t=i._handleDrag(e,this.getPosition(e)))}return t},_stopDrag:function(e){var t=!1;if(this._dragHandlersInstalled){var i=this._getCurrentTracker();this._enabled&&i&&(t=i._stopDrag(e,this.getPosition(e)),this._removeDragHandlers())}return t},_installDragHandlers:function(){e(document).on(this.updateEvent,this.mmFunc).on(this.stopEvent,this.muFunc),this._dragHandlersInstalled=!0},_removeDragHandlers:function(){this._dragHandlersInstalled&&(e(document).off(this.updateEvent,this.mmFunc).off(this.stopEvent,this.muFunc),this._dragHandlersInstalled=!1),this._clearDelegateTracker()},getPosition:function(e){return{x:e.pageX,y:e.pageY}}}),o.nextId=1,i.inherit(r,o,{startEvent:"touchstart",updateEvent:"touchmove",stopEvent:"touchend",_wrapEventCallback:function(e){return function(t){var i=e.apply(this,arguments);return!1===i&&(t.preventDefault(),t.stopPropagation()),i}},_ensureCallbacksSetUp:function(){this._tsFunc||(this._tsFunc=this._wrapEventCallback(this.mdFunc),this._tmFunc=this._wrapEventCallback(this.mmFunc),this._teFunc=this._wrapEventCallback(this.muFunc))},attach:function(e){this._dragTracker=e,e&&(this._ensureCallbacksSetUp(),this._element=e.element,this._element&&(this._element.addEventListener(this.startEvent,this._tsFunc,this._listenerOpts),1==++r.dummyHandlerLock&&(document.addEventListener(this.updateEvent,r.dummyHandler,this._listenerOpts),document.addEventListener(this.stopEvent,r.dummyHandler,this._listenerOpts))))},detach:function(){this._dragTracker&&(this._removeDragHandlers(),this._element&&(this._element.removeEventListener(this.startEvent,this._tsFunc,this._listenerOpts),--r.dummyHandlerLock<1&&(document.removeEventListener(this.updateEvent,r.dummyHandler,this._listenerOpts),document.removeEventListener(this.stopEvent,r.dummyHandler,this._listenerOpts),r.dummyHandlerLock=0)),this._element=null,this._dragTracker=null)},_getTouchById:function(e,t,i){var n=this._getNativeEvent(e)[i||"changedTouches"];if(n)for(var o=0;o<n.length;o++)if(n[o].identifier===t)return n[o];return null},_ensureTouchIdValueIsValid:function(e){-1==this._touchId||this._getTouchById(e,this._touchId,"touches")||this._removeDragHandlers()},_startDrag:function(e){var t=void 0;if(this._ensureTouchIdValueIsValid(e),-1===this._touchId){var i=this._getNativeEvent(e),n=i&&i.changedTouches&&i.changedTouches[0];n&&(this._touchId=n.identifier,this._eventTarget=e.target,t=o.prototype._startDrag.call(this,e))}return t},_handleDrag:function(e){var t=void 0;return this._getTouchById(e,this._touchId)&&this._eventTarget===e.target&&(t=o.prototype._handleDrag.call(this,e)),t},_stopDrag:function(e){var t=void 0;return this._getTouchById(e,this._touchId)&&(t=o.prototype._stopDrag.call(this,e),this._touchId=-1),t},_installDragHandlers:function(){this._dragHandlersInstalled||(this._ensureCallbacksSetUp(),document.addEventListener(this.updateEvent,this._tmFunc,this._listenerOpts),document.addEventListener(this.stopEvent,this._teFunc,this._listenerOpts),document.addEventListener("touchcancel",this._teFunc,this._listenerOpts),this._dragHandlersInstalled=!0)},_removeDragHandlers:function(){this._touchId=-1,this._dragHandlersInstalled&&(document.removeEventListener(this.updateEvent,this._tmFunc,this._listenerOpts),document.removeEventListener(this.stopEvent,this._teFunc,this._listenerOpts),document.removeEventListener("touchcancel",this._teFunc,this._listenerOpts),this._dragHandlersInstalled=!1)},getPosition:function(e){var t=this._getTouchById(e,this._touchId);return{x:t&&t.pageX||0,y:t&&t.pageY||0}}}),r.dummyHandlerLock=0,r.dummyHandler=function(){},i.inherit(a,o,{startEvent:"pointerdown",updateEvent:"pointermove",stopEvent:"pointerup",trackEvents:["mouse","touch","pen"],_getPointerId:function(e){return this._getNativeEvent(e).pointerId},_canStartDrag:function(e){return-1===this._pointerId&&this._allowed[this._getNativeEvent(e).pointerType]},_startDrag:function(e){var t=void 0;return this._canStartDrag(e)&&(this._pointerId=this._getPointerId(e),this._lastPosition=this.getPosition(e),this._lastTime=Date.now(),t=o.prototype._startDrag.call(this,e)),t},_handleDrag:function(e){var t=void 0;if(this._dragHandlersInstalled&&this._pointerId===this._getPointerId(e)){var i=this._lastPosition,n=this._lastTime,r=this.getPosition(e),a=Date.now();this._lastTime=a,(i.x!=r.x||i.y!=r.y&&a-n>=16)&&(this._lastPosition=r,t=o.prototype._handleDrag.call(this,e))}return t},_stopDrag:function(e){var t=void 0;return this._dragHandlersInstalled&&this._pointerId===this._getPointerId(e)&&(this._pointerId=-1,t=o.prototype._stopDrag.call(this,e)),t},_installDragHandlers:function(){o.prototype._installDragHandlers.call(this),e(document).on("pointercancel",this.muFunc)},_removeDragHandlers:function(){this._pointerId=-1,e(document).off("pointercancel",this.muFunc),o.prototype._removeDragHandlers.call(this)},getPosition:function(e){return{x:(e=this._getNativeEvent(e)).pageX,y:e.pageY}}}),i.inherit(s,o,{trackEvents:["mouse","touch","pen"],_canStartDrag:function(e){return e=this._getNativeEvent(e),this._allowed[this._map[this._getNativeEvent(e).mozInputSource]||""]},_startDrag:function(e){var t=void 0;return this._canStartDrag(e)&&(t=o.prototype._startDrag.call(this,e)),t}});var l=function(t,i){var n=this;this.id=l.nextId++,this.element=t,this.options=e.extend({},l.prototype.defaultOptions,i),this.dragStarted=!1,this.enabled=!0,this.mdFunc=function(e,t){return n._startDrag(e,t)},this.mmFunc=function(e,t){return n._handleDrag(e,t)},this.muFunc=function(e,t){return n._stopDrag(e,t)},this.startX=0,this.startY=0,this.options.dragEventHandler?(this.dragEventHandler=this.options.dragEventHandler,this.dragEventHandler.attach(this)):this.dragEventHandler=this.createEventHandler()};return l.nextId=1,e.extend(l.prototype,{defaultOptions:{dragThreshold:5,ignoreX:!1,ignoreY:!1,dragStart:null,dragUpdate:null,dragStop:null,trackEvents:["mouse","touch","pen"],canUsePointerEvents:!0},createEventHandler:function(){var e=this.options.trackEvents;if(t.pointerEventsEnabled&&this.options.canUsePointerEvents)return new a(this,{trackEvents:e});if(t.supportsMozInputSource)return new s(this,{trackEvents:e});for(var i={},n=0;n<e.length;n++)i[e[n]||""]=!0;return i.mouse||i.touch?i.mouse?i.touch?new o(this,{startEvent:"vmousedown",updateEvent:"vmousemove",stopEvent:"vmouseup"}):new o(this):new r(this):null},enable:function(){this.dragEventHandler&&this.dragEventHandler.enable()},disable:function(){this.dragEventHandler&&this.dragEventHandler.disable()},destroy:function(){this.dragEventHandler&&(this.dragEventHandler.destroy(),this.dragEventHandler=null),this.element=null},dragStart:function(e,t){var i=this.options;i.dragStart&&i.dragStart(this,e,t)},dragUpdate:function(e,t){var i=this.options;i.dragUpdate&&i.dragUpdate(this,e,t)},dragStop:function(e,t){var i=this.options;i.dragStop&&i.dragStop(this,e,t)},_startDrag:function(e,t){return this.dragStarted=!1,this.startX=t.x,this.startY=t.y,!1},_handleDrag:function(e,t){var i=t.x-this.startX,n=t.y-this.startY,o=this.options;if(!this.dragStarted){if(!o.ignoreX&&Math.abs(i)<o.dragThreshold&&!o.ignoreY&&Math.abs(n)<o.dragThreshold)return!1;this.dragStarted=!0,this.dragStart(0,0)}return this.dragUpdate(o.ignoreX?0:i,o.ignoreY?0:n),!1},_stopDrag:function(e,t){if(this.dragStarted){var i=t.x-this.startX,n=t.y-this.startY,o=this.options;this.dragStop(o.ignoreX?0:i,o.ignoreY?0:n)}return this.dragStarted=!1,!1}}),t.DragTrackerEventHandler=o,t.DragTrackerTouchHandler=r,t.DragTrackerPointerHandler=a,t.DragTracker=l,l}.apply(t,n))||(e.exports=o)},1392:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(8),i(976),i(16),i(1393),i(1394)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d){"use strict";return i.View.extend({initialize:function(){t.bindAll(this,t.functionsIn(this)),this.TRANSITION_TIME=400,this._temporaryClasses=[],window.marvel.events.on("show-interstitial",this.handleShow),window.marvel.events.on("hide-interstitial",this.handleHide),window.marvel.events.on("interstitial-error",this.handleInterstitialError)},handleShow:function(e){this._quoteLoaderView||(this._quoteLoaderView=new a({location:"editor"})),e&&e.ignoreNextHideUnlessForce&&(this.ignoreNextHideUnlessForce=!0),this._isShowing?e.afterShowingDefer&&e.afterShowingDefer.resolve():(this._fnBeforeHiding=e.fnBeforeHiding,this._isShowing=!0,this.render(e.typeName,e.fauxscreen,e.showImmediately),e&&e.showImmediately?(window.marvel.events.trigger("spark-dialog-shown"),this.$el.addClass("show no-delay"),e.afterShowingDefer&&t.delay((function(){e.afterShowingDefer.resolve()}),this.TRANSITION_TIME)):t.delay(function(){window.marvel.events.trigger("spark-dialog-shown"),this.$el.addClass("show"),e.afterShowingDefer&&t.delay((function(){e.afterShowingDefer.resolve()}),this.TRANSITION_TIME)}.bind(this),1))},_doHide:function(){if(this._isShowing){var e;e=this._fnBeforeHiding?this._fnBeforeHiding():n.resolve();var i=function(){this._isShowing=!1,this._quoteLoaderView.clear(),window.marvel.events.trigger("spark-dialog-closed"),this.$el.removeClass("show"),this.$el.removeClass("no-delay"),t.each(this._temporaryClasses,function(e){this.$el.removeClass(e)}.bind(this)),this._temporaryClasses=[],t.delay(function(){this._quoteLoaderView.remove(),this.$el.remove(),window.marvel.events.trigger("editor-showing-interstitial-hidden")}.bind(this),10)}.bind(this);e.then(i,i).done()}},handleHide:function(e){if(this.ignoreNextHideUnlessForce){if(this.ignoreNextHideUnlessForce=!1,!e||!e.forceHide)return}else if(this._quoteLoaderView){var i=(new Date).getTime(),n=this._quoteLoaderView.timeLastQuoteShown();n&&i-n<10?t.delay(function(){this._doHide()}.bind(this),10-(i-n)):this._doHide()}},handleInterstitialError:function(e){(e.addClass&&(this._temporaryClasses.push(e.addClass),this.$el.addClass(e.addClass)),e.addElement$)&&this.$el.find(".error-detail").empty().append(e.addElement$)},render:function(t,i,n){this.$el=e(".mrvl-interstitial-wrapper"),this.$el&&this.$el[0]||(this.$el=e("<div></div>"),e("body").append(this.$el)),this.$el.attr("class","mrvl-interstitial-wrapper "+t),this.$el.attr("data-auto","mrvl-interstitial-wrapper"),this.$el.html(l.toString()),i?(this.$el.addClass("has-fauxholder"),this.$fauxholder=e('<div class="fauxholder"></div>'),i.class&&this.$fauxholder.addClass(i.class),this.$el.append(this.$fauxholder),this.$fauxholder.append(i.div$),i.hasOwnScrim||this.$fauxholder.append('<div class="fauxholder-scrim"></div>')):(this.$fauxholder&&this.$fauxholder.remove(),this.$fauxholder=null,this.$el.removeClass("has-fauxholder"),this.$el.find(".brand-name").text(s.getString("product-name")),this.quoteLoaderEl$=this.$el.find(".quotes"),this._quoteLoaderView.setElement(this.quoteLoaderEl$),this._quoteLoaderView.setAppCssId(t),this._quoteLoaderView.render())}})}.apply(t,n))||(e.exports=o)},1393:function(e,t){e.exports='<div class="mrvl-interstitial-splash md-modal">\n    <div class="splash-inner">\n      <div class="spinner"></div>\n      <div class="quotes"></div>\n      <div class="error-detail"></div>\n    </div>\n</div>\n'},1394:function(e,t,i){var n=i(1395);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},1395:function(e,t,i){var n=i(129);(e.exports=i(91)(!1)).push([e.i,".mrvl-interstitial-wrapper{position:fixed;top:0;left:100%;width:100%;height:100%;opacity:0;border-top:1px solid #ccc;background-color:#fff;z-index:9999}.mrvl-interstitial-wrapper.show{opacity:1;left:0;transition:all .4s}.mrvl-interstitial-wrapper.show.no-delay{transition:all none}.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .error-detail{display:block}.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .quotes,.mrvl-interstitial-wrapper.error-state .mrvl-interstitial-splash .spinner{display:none}.mrvl-interstitial-splash{position:relative;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;width:100%;height:100%;z-index:27;transition:opacity .4s}.mrvl-interstitial-splash .splash-inner{width:100%;height:155px;text-align:center}.mrvl-interstitial-splash .spinner{position:relative;margin:0 auto 45px;font-size:4.5px;text-indent:-9999em;border:1.1em solid #e2e6e7;border-left:1.1em solid #f6f7f8;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear;will-change:transform;border-radius:50%;width:60px;height:60px}.mrvl-interstitial-splash .spinner:after{border-radius:50%;width:10em;height:10em}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.mrvl-interstitial-splash .quotes{position:relative;width:100%}.mrvl-interstitial-splash .error-detail{display:none}.mrvl-interstitial-splash .error-detail .error-detail-image{background:url("+n(i(1396))+") no-repeat 50%;width:100%;height:72px;margin-bottom:40px;margin-left:11px}.mrvl-interstitial-splash .error-detail h3{font-size:32px;font-weight:800}.mrvl-interstitial-splash .error-detail p{display:inline-block;width:420px;line-height:1.5em;padding:20px 0 40px}.mrvl-interstitial-splash .error-detail button{margin:0 10px}.mrvl-interstitial-wrapper.has-fauxholder{background-color:rgba(0,0,0,.25);left:0}.mrvl-interstitial-wrapper.has-fauxholder .mrvl-interstitial-splash{display:none;width:50%;height:50%;background-color:hsla(0,0%,100%,.8);left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);border:2px solid #35414c;border-radius:8px;z-index:2001}.mrvl-interstitial-wrapper.has-fauxholder .mrvl-interstitial-splash .quote q{font-size:24px}.mrvl-interstitial-wrapper.has-fauxholder .fauxholder{position:absolute;width:100%;height:100%;top:0;left:0}.mrvl-interstitial-wrapper.has-fauxholder .fauxholder-scrim{z-index:2000;background-color:rgba(0,0,0,.1);width:100%;height:100%;position:absolute}",""])},1396:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWRpdF9GaWxlXy1fRmxhdCIgZGF0YS1uYW1lPSJFZGl0IEZpbGUgLSBGbGF0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MC40OSIgaGVpZ2h0PSI3My4xNTkiIHZpZXdCb3g9IjAgMCA3MC40OSA3My4xNTkiPgogIDxnIGlkPSJJY29ucyI+CiAgICA8ZyBpZD0iRWRpdC1GaWxlIj4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTY1NSIgZD0iTTU2LjA4LDE3LjQ0NiwzOC42MzMsMEgwVjcyLjI3OEg1Ni4wOFYxNy40NDYiIGZpbGw9IiNlZmVjZGUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgogICAgICA8cGF0aCBpZD0iRmlsbC0xNjU2IiBkPSJNMTAuMjQ2LDIzLjQ5Mkg0MS40QTEuMjQ2LDEuMjQ2LDAsMSwwLDQxLjQsMjFIMTAuMjQ2YTEuMjQ2LDEuMjQ2LDAsMSwwLDAsMi40OTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMjE2IDUuMTcpIiBmaWxsPSIjZDVkMGJiIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTY1NyIgZD0iTTEwLjI0NiwxNS40OTJIMjIuNzA5YTEuMjQ2LDEuMjQ2LDAsMSwwLDAtMi40OTJIMTAuMjQ2YTEuMjQ2LDEuMjQ2LDAsMSwwLDAsMi40OTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMjE2IDMuMikiIGZpbGw9IiNkNWQwYmIiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgogICAgICA8cGF0aCBpZD0iRmlsbC0xNjU4IiBkPSJNNDEuNCwyOUgxMC4yNDZhMS4yNDYsMS4yNDYsMCwxLDAsMCwyLjQ5Mkg0MS40QTEuMjQ2LDEuMjQ2LDAsMSwwLDQxLjQsMjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMjE2IDcuMTM5KSIgZmlsbD0iI2Q1ZDBiYiIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgICAgIDxwYXRoIGlkPSJGaWxsLTE2NTkiIGQ9Ik00MS40LDM3SDEwLjI0NmExLjI0NiwxLjI0NiwwLDEsMCwwLDIuNDkySDQxLjRBMS4yNDYsMS4yNDYsMCwxLDAsNDEuNCwzNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4yMTYgOS4xMDkpIiBmaWxsPSIjZDVkMGJiIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTY2MCIgZD0iTTQxLjQsNDVIMTAuMjQ2YTEuMjQ2LDEuMjQ2LDAsMSwwLDAsMi40OTJINDEuNEExLjI0NiwxLjI0NiwwLDEsMCw0MS40LDQ1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjIxNiAxMS4wNzgpIiBmaWxsPSIjZDVkMGJiIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTY2MSIgZD0iTTMxLDBWMTcuNDQ2SDQ4LjQ0N0wzMSwwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LjYzMykiIGZpbGw9IiNkNWQwYmIiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgogICAgICA8cGF0aCBpZD0iRmlsbC0xODQ0IiBkPSJNMzUuNjIsNDkuMjE0bC0uMDEuMDEtMi40NzgsOS4wODUsNS43OTEtNS43OTEtMy4zLTMuMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4xNTggMTIuMTE1KSIgZmlsbD0iI2VkZGNjNyIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgICAgIDxwYXRoIGlkPSJGaWxsLTE4NDUiIGQ9Ik01Ni4yNTksMzUuNzE2bC0xLjU1NC0xLjU1NGEyLjQ3NSwyLjQ3NSwwLDAsMC0zLjUsMGwtNC40NjMsNC40NjQsMy4zLDMuMyw2LjIxNC02LjIxMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEuNTEgOC4yMzIpIiBmaWxsPSIjZDg1YTRhIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTg0NiIgZD0iTTUyLjkwNSw0MC45bC0zLjMtMy4zTDM1LjEyOSw1Mi4wNzNsMy4zLDMuM0w1Mi45MDUsNDAuOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC42NSA5LjI1NikiIGZpbGw9IiNmMjljMjEiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPgogICAgICA8cGF0aCBpZD0iRmlsbC0xODQ3IiBkPSJNNDIuNjkzLDU1LjYyMWwuMDEtLjAxLTMuNzQ2LTMuNzQ2LTUuNzkxLDUuNzkxTDMzLDU4LjI2NGw5LjY5My0yLjY0MyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4xMjYgMTIuNzY4KSIgZmlsbD0iI2Q2YzRiMSIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgICAgIDxwYXRoIGlkPSJGaWxsLTE4NDgiIGQ9Ik01My4xNCw0NS4yMjQsNTcuNiw0MC43NjJhMi40NzQsMi40NzQsMCwwLDAsMC0zLjVsLTItMi02LjIxNCw2LjIxMiwzLjc0NywzLjc0NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIuMTYyIDguNjgyKSIgZmlsbD0iI2EzNDc0MCIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgICAgIDxwYXRoIGlkPSJGaWxsLTE4NDkiIGQ9Ik0zNy43OCw1NC43MjRsMy43NDYsMy43NDZMNTYsNDRsLTMuNzQ3LTMuNzQ2TDM3Ljc4LDU0LjcyNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOS4zMDMgOS45MDkpIiBmaWxsPSIjZTE4YzI1IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KICAgICAgPHBhdGggaWQ9IkZpbGwtMTg1MCIgZD0iTTMyLjUzOSw1OS43NDNhMS4yNDYsMS4yNDYsMCwwLDEtLjg4MS0yLjEyN2wyLjc1LTIuNzVhMS4yNDYsMS4yNDYsMCwwLDEsMS43NjIsMS43NjJsLTIuNzUsMi43NWExLjIzOCwxLjIzOCwwLDAsMS0uODgxLjM2NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNy43MDUgMTMuNDE3KSIgZmlsbD0iIzVlNWU1ZSIgZmlsbC1ydWxlPSJldmVub2RkIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"},1408:function(e,t,i){var n,o;n=[i(2516),i(2517)],void 0===(o=function(e,t){"use strict";function i(e,t){if(!e)return e;var i="string"==typeof e?e:e.name;return t&&i&&(i=String(i).toLowerCase()),i}function n(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}return{DEFAULT_THEME_NAME:"Crisp",has:function(t){return!!t&&n(i(t))in e},get:function(t){return e[n(i(t))]},getTypekitPreviewFonts:function(e){var n=i(e,!0);return t.previewSets[n]||null},getTypekitId:function(e){var n=i(e,!0);return t.kitIds[n]||null},usesOwnFonts:function(e){var t=this.get(i(e));return Boolean(t&&t.font_includes)}}}.apply(t,n))||(e.exports=o)},1409:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(510),i(258),i(558),i(1410)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";return a.extend({el:".conflict-dialog-overlay",events:{"click .pushButton":"_handlePushBtn","click .pullButton":"_handlePullBtn"},initialize:function(){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},setDatetime:function(e){this.datetime=o(e)},setData:function(e){this._data=e},getData:function(){return this._data},_handlePushBtn:function(){var e=this.getData()||{};marvel.logger.info("slate conflict resolve by push",{projectId:e.projectId,projectUrn:e.projectUrn}),this.trigger("conflict-dialog-push")},_handlePullBtn:function(){var e=this.getData()||{};marvel.logger.info("slate conflict resolve by pull",{projectId:e.projectId,projectUrn:e.projectUrn}),this.trigger("conflict-dialog-pull")},showOverlay:function(){this.trigger("conflict-dialog-show"),a.prototype.showOverlay.apply(this,arguments);var e=this.getData()||{};marvel.logger.info("slate conflict dialog shown",{projectId:e.projectId,projectUrn:e.projectUrn})},hideOverlay:function(){a.prototype.hideOverlay.apply(this,arguments),this.trigger("conflict-dialog-hide")},render:function(){this.$el.html()||this.$el.html(r.renderMustache(s.toString())),this.datetime$=this.datetime$||this.$el.find(".conflict-dialog-datetime");var e=this.datetime;return this.datetime$.text(r.format("conflict_dialog.date_time",{datetime:e})),this}})}.apply(t,n))||(e.exports=o)},1410:function(e,t){e.exports='<div class="conflict-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="conflict-dialog-shell mrvl-overlay-shell">\n    <h2 class="conflict-dialog-overlay-title dialog-title">{{locString.conflict_dialog.title}}</h2>\n\n    <div class="mrvl-overlay-content-shell">\n        <div class="mrvl-overlay-content">\n            <p>{{locString.conflict_dialog.message}}<span class="conflict-dialog-datetime"></span></p>\n            <br/>\n            <p>{{locString.conflict_dialog.message_advice}}</p>\n        </div>\n        <div class="mrvl-dlg-btn-acts buttons">\n            <button class="pullButton button confirm-btn mrvl-btn">{{locString.conflict_dialog.button.update}}</button>\n            <button class="pushButton button confirm-btn mrvl-btn">{{locString.conflict_dialog.button.keep}}</button>\n        </div>\n    </div>\n</div>\n'},1411:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(558),i(1684),i(81)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s=i.Model.extend({defaults:{}});return o.extend({events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new s,t.extend(this,i.Events),this.update(e),this.model.on("change:location",this.positionDialog())},onHide:function(){this.$el.find(".x-close-btn").removeClass("hide"),this.$el.find(".buttons").removeClass("hide"),this._ignoreCloseActions=!1},unclosable:function(){this.$el.find(".x-close-btn").addClass("hide"),this.$el.find(".buttons").addClass("hide"),this._ignoreCloseActions=!0},update:function(e){e&&t.extend(this,e),this.location&&this.model.set({location:this.location},{silent:!0})},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},positionDialog:function(){var e,t,i,n,o,r,a,s,l,d=this.$el.find(".mrvl-overlay-shell"),c=d.width(),p=d.height(),h=0;if(d.length>0&&this.location){for(n=d.parent();!h&&n.length;)"absolute"===(r=n.css("position"))||"relative"===r||"fixed"===r?(h=n.width(),o=n.height()):n=n.parent();i=(e=this.model.get("location")).x>=h/2?e.left-c/2-7:e.left+e.width+c/2+7,t=e.y-.75*p,t=Math.max(5,Math.min(t,o-p-5)),(a=d.find(".pointer"))&&(l=e.y-t-6,l=Math.max(4,Math.min(p-12,l)),a.css("top",l+"px"),s="auto"===a.css("left")||""===a.css("left")?a.css("right"):a.css("left"),e.x>=h/2?a.css({right:s,left:"auto"}).addClass("on-right"):a.css({left:s,right:"auto"}).removeClass("on-right")),d.css({top:t+"px",left:i+"px",position:"absolute"})}},render:function(){if(this.$el&&this.$el.length)if(this.template){if(this.$el.html(this.template.toString()),this.fields)for(var e in this.fields)this.fields.hasOwnProperty(e)&&this.$el.find("."+e).text(this.fields[e]);this.location&&this.positionDialog()}else this.$el.html("<p>This class needs to be extended or have an el and template defined to be useful</p>");return this}})}.apply(t,n))||(e.exports=o)},1412:function(e,t,i){var n,o;n=[i(0),i(2)],void 0===(o=function(e,t){"use strict";return{getValueFor:function(e){var i=String(t.history.fragment).split("/"),n=i.indexOf(e);if(-1!==n)return i[n+1]}}}.apply(t,n))||(e.exports=o)},1413:function(e,t,i){var n=i(528),o={templates:["ct_page_css","ct_text_props_css","ct_behaviors_css"],process:function(e,t,i){i.components.page={backgroundColor:n.convertColorToRGBA(t.backgroundColor)}}};n.registerCustomThemeComponent("page",o),e.exports=o},1414:function(e,t,i){var n=i(0),o=i(528),r=i(571),a={templates:["ct_title_section_css","ct_title_section_gradient_overlay_treatment_css","ct_title_section_border_box_treatment_css","ct_title_section_solid_box_treatment_css","ct_title_section_top_bottom_rule_treatment_css","ct_title_section_middle_rule_treatment_css","ct_title_section_vintage_treatment_css","ct_title_section_whimsy_treatment_css","ct_title_section_color_band_treatment_css","ct_title_section_header_padding_css","ct_title_section_header_view_padding_css"],process:function(e,t,i){var a=t.title,s=t.subtitle,l=o.getTextSettingsForComponent("title",a.text,e),d=o.getTextSettingsForComponent("subtitle",s.text,e);l.color=o.convertColorToRGBA(a.color),d.color=o.convertColorToRGBA(s.color),l.maxHeight=this._getAutoHeightTrigger(l),d.maxHeight=this._getAutoHeightTrigger(d);var c=t.treatment.type,p={},h={title:l,subtitle:d,treatment:p,useGradientOverlayTreatment:"gradient-overlay"===c,useBorderBoxTreatment:"border-box"===c,useSolidBoxTreatment:"solid-box"===c,useTopBottomRuleTreatment:"top-bottom-rule"===c,useMiddleRuleTreatment:"middle-rule"===c,useVintageTreatment:"vintage"===c,useWhimsyTreatment:"whimsy"===c,useColorBandTreatment:"color-band"===c},u=t.treatment;switch(c){case"top-bottom-rule":p.color=o.convertColorToRGBA(u.color);break;case"middle-rule":p.color=o.convertColorToRGBA(o.cloneColorWithAlpha(u.color,.75));break;case"whimsy":p.color=o.convertColorToRGBA(u.color),p.backgroundImage=r.getAssetAsCSSUrl("whimsy:title",p);break;case"border-box":p.borderColor=o.convertColorToRGBA(o.cloneColorWithAlpha(u.borderColor,.5)),p.backgroundColor=o.convertColorToRGBA(o.cloneColorWithAlpha(u.backgroundColor,.5));break;case"solid-box":p.backgroundColor=o.convertColorToRGBA(o.cloneColorWithAlpha(u.backgroundColor,.8));break;case"color-band":p.backgroundColor=o.convertColorToRGBA(o.cloneColorWithAlpha(u.backgroundColor,.3))}n.merge(h,o.getPaddingsForFont(l.fontFamily,"title",28,l.paddingShiftRatio)),i.components.titleSection=h},_getAutoHeightTrigger:function(e){var t=(e=e||{}).lineHeight||"1";return 3*parseFloat(t)+"em"}};o.registerCustomThemeComponent("titleSection",a),e.exports=a},1415:function(e,t,i){var n=i(0),o=i(528),r=i(571),a={templates:["ct_heading_css","ct_heading_single_rule_treatment_css","ct_heading_double_rule_treatment_css","ct_heading_image_rule_treatment_css"],process:function(e,t,i){var a=o.convertColorToRGBA(t.color),s=o.getTextSettingsForComponent("heading",t.text,e),l=t.treatment.type,d={},c={color:a,treatment:d,useNoTreatment:"none"===l,useSingleRuleTreatment:"single-rule"===l,useDoubleRuleTreatment:"double-rule"===l,useImageRuleTreatment:"whimsy"===l,textAlign:"left"};n.extend(c,s);var p=t.treatment;switch(l){case"single-rule":case"double-rule":d.color=o.convertColorToRGBA(o.cloneColorWithAlpha(p.color,.9));break;case"whimsy":d.color=o.convertColorToRGBA(o.cloneColorWithAlpha(p.color,.9)),d.backgroundImage=r.getAssetAsCSSUrl("whimsy:heading",d)}i.components.heading=c}};o.registerCustomThemeComponent("heading",a),e.exports=a},1416:function(e,t,i){var n=i(528);SubheadingCTC={templates:["ct_subheading_css"],process:function(e,t,i){var o=n.getTextSettingsForComponent("subheading",t.text,e);o.color=n.convertColorToRGBA(t.color),o.textAlign="left",i.components.subheading=o}},n.registerCustomThemeComponent("subheading",SubheadingCTC),e.exports=SubheadingCTC},1417:function(e,t,i){var n=i(528),o={templates:["ct_paragraph_css"],process:function(e,t,i){var o=n.getTextSettingsForComponent("paragraph",t.text,e);o.color=n.convertColorToRGBA(t.color),i.components.paragraph=o}};n.registerCustomThemeComponent("paragraph",o),e.exports=o},1418:function(e,t,i){var n=i(0),o=i(528),r=i(571),a={templates:["ct_unordered_list_css","ct_unordered_list_image_treatment_css"],process:function(e,t,i){var a=o.convertColorToRGBA(t.color),s=o.getTextSettingsForComponent("unordered-list",t.text,e),l=t.treatment.type,d={},c={color:a,treatment:d};n.extend(c,s);var p=t.treatment;switch(d.color=o.convertColorToRGBA(p.color||t.color),l){case"triangle":d.backgroundImage=r.getAssetAsCSSUrl("triangle",d);break;case"vbullet":d.backgroundImage=r.getAssetAsCSSUrl("vintage:unorderedlist",d);break;case"diamond":d.backgroundImage=r.getAssetAsCSSUrl("whimsy:unorderedlist",d);break;case"circle":default:d.color!=a&&(d.backgroundImage=r.getAssetAsCSSUrl("circle",d))}c.useImageTreatment=!!d.backgroundImage,i.components.unorderedList=c}};o.registerCustomThemeComponent("unorderedList",a),e.exports=a},1419:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_ordered_list_css","ct_ordered_list_colored_counter_treatment_css"],process:function(e,t,i){var r=o.convertColorToRGBA(t.color),a=o.getTextSettingsForComponent("ordered-list",t.text,e),s={},l={color:r,treatment:s};n.extend(l,a);var d=t.treatment||{};s.color=o.convertColorToRGBA(d.color||t.color),l.useColoredCounterTreatment=s.color!=r,i.components.orderedList=l}};o.registerCustomThemeComponent("orderedList",r),e.exports=r},1420:function(e,t,i){var n=i(0),o=i(528),r=i(571),a={templates:["ct_blockquote_css","ct_blockquote_quote_treatment_css","ct_blockquote_bottom_rule_treatment_css","ct_blockquote_top_bottom_rule_treatment_css","ct_blockquote_left_rule_treatment_css","ct_blockquote_color_band_treatment_css"],process:function(e,t,i){var a=o.convertColorToRGBA(t.color),s=o.getTextSettingsForComponent("blockquote",t.text,e),l=t.treatment.type,d={},c={color:a,treatment:d,useNoTreatment:"none"===l,useQuoteTreatment:"quote"===l,useBottomRuleTreatment:"bottom-rule"===l,useTopBottomRuleTreatment:"top-bottom-rule"===l,useLeftRuleTreatment:"left-rule"===l,useColorBandTreatment:"color-band"===l};n.extend(c,s);var p=t.treatment;switch(l){case"quote":d.color=o.convertColorToRGBA(o.cloneColorWithAlpha(p.color,.9)),d.backgroundImage=r.getAssetAsCSSUrl("luca:blockquote",d);break;case"bottom-rule":case"top-bottom-rule":case"left-rule":d.color=o.convertColorToRGBA(o.cloneColorWithAlpha(p.color,.9));break;case"color-band":d.backgroundColor=o.convertColorToRGBA(o.cloneColorWithAlpha(p.backgroundColor,.9))}i.components.blockquote=c}};o.registerCustomThemeComponent("blockquote",a),e.exports=a},1421:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_inline_image_css","ct_inline_image_caption_background_treatment_css","ct_inline_image_border_treatment_css"],process:function(e,t,i){var r=o.convertColorToRGBA(t.color),a=o.getTextSettingsForComponent("inline-image-caption",t.text,e),s=t.treatment.type,l={},d={color:r,treatment:l,useNoTreatment:"none"===s,useCaptionBackgroundTreatment:"caption-background"===s,useBorderTreatment:"image-border"===s};n.extend(d,a);var c=t.treatment;switch(s){case"caption-background":l.backgroundColor=o.convertColorToRGBA(c.backgroundColor);break;case"image-border":c.borderColor&&(l.borderColor=o.convertColorToRGBA(c.borderColor))}i.components.inlineImage=d}};o.registerCustomThemeComponent("inlineImage",r),e.exports=r},1422:function(e,t,i){var n=i(0),o=i(528),r=i(571),a={templates:["ct_button_css","ct_button_square_treatment_css","ct_button_rounded_treatment_css","ct_button_double_rounded_treatment_css","ct_button_pill_treatment_css","ct_button_triangle_treatment_css"],process:function(e,t,i){var a=o.convertColorToRGBA(t.color),s=o.convertColorToRGBA(t.hoverColor),l=o.getTextSettingsForComponent("button",t.text,e),d=t.treatment.type,c={},p={color:a,hoverColor:s,treatment:c,useSquareTreatment:"square-border"===d||"square-background"===d,useRoundedTreatment:"rounded-border"===d||"rounded-background"===d,useDoubleRoundedTreatment:"double-border"===d,usePillTreatment:"pill-border"===d||"pill-background"===d,useTriangleTreatment:"triangle"===d};n.extend(p,l);var h=t.treatment,u=14;switch(d){case"square-border":case"square-background":case"rounded-border":case"rounded-background":case"double-border":case"pill-border":case"pill-background":h.borderColor&&(c.borderColor=o.convertColorToRGBA(h.borderColor),c.hoverBorderColor=o.convertColorToRGBA(h.hoverBorderColor)),h.backgroundColor&&(c.backgroundColor=o.convertColorToRGBA(h.backgroundColor),c.hoverBackgroundColor=o.convertColorToRGBA(h.hoverBackgroundColor));break;case"triangle":c.color=o.convertColorToRGBA(h.color),c.hoverColor=o.convertColorToRGBA(h.hoverColor),c.backgroundImage=r.getAssetAsCSSUrl("triangle",{color:c.color}),c.hoverBackgroundImage=r.getAssetAsCSSUrl("triangle",{color:c.hoverColor}),u=4}n.merge(p,o.getPaddingsForFont(p.fontFamily,"button",u,p.paddingShiftRatio)),i.components.button=p}};o.registerCustomThemeComponent("button",a),e.exports=a},1423:function(e,t,i){var n=i(528),o={templates:["ct_inline_link_css"],process:function(e,t,i){var o=t.treatment.type;i.components.inlineLink={color:n.convertColorToRGBA(t.color),hoverColor:n.convertColorToRGBA(t.hoverColor),useNoTreatment:"none"===o,useUnderlineTreatment:"underline"===o,underlineOnHover:"none"===o&&t.treatment.underlineOnHover}}};n.registerCustomThemeComponent("inlineLink",o),e.exports=o},1424:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_full_width_image_css","ct_full_width_image_caption_background_treatment_css","ct_full_width_image_border_treatment_css"],process:function(e,t,i){var r=o.convertColorToRGBA(t.color),a=o.getTextSettingsForComponent("full-width-caption",t.text,e),s=t.treatment.type,l={},d={color:r,treatment:l,useNoTreatment:"none"===s,useCaptionBackgroundTreatment:"caption-background"===s,useBorderTreatment:"image-border"===s};n.extend(d,a);var c=t.treatment;switch(s){case"caption-background":l.backgroundColor=o.convertColorToRGBA(c.backgroundColor);break;case"image-border":c.borderColor&&(l.borderColor=o.convertColorToRGBA(c.borderColor))}i.components.fullWidthImage=d}};o.registerCustomThemeComponent("fullWidthImage",r),e.exports=r},1425:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_fill_screen_image_css"],process:function(e,t,i){var r=o.getTextSettingsForComponent("fill-screen-caption",t.text,e),a={color:o.convertColorToRGBA(t.color),backgroundColor:o.convertColorToRGBA(t.backgroundColor)};n.extend(a,r),i.components.fillScreenImage=a}};o.registerCustomThemeComponent("fillScreenImage",r),e.exports=r},1426:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_window_image_css"],process:function(e,t,i){var r=o.getTextSettingsForComponent("window-caption",t.text,e),a={color:o.convertColorToRGBA(t.color),backgroundColor:o.convertColorToRGBA(t.backgroundColor)};n.extend(a,r),i.components.windowImage=a}};o.registerCustomThemeComponent("windowImage",r),e.exports=r},1427:function(e,t,i){var n=i(0),o=i(528),r={templates:["ct_photo_grid_css","ct_photo_grid_caption_background_treatment_css","ct_photo_grid_border_treatment_css"],process:function(e,t,i){var r=o.convertColorToRGBA(t.color),a=o.getTextSettingsForComponent("inline-image-caption",t.text,e),s=t.treatment.type,l={},d={color:r,treatment:l,useNoTreatment:"none"===s,useCaptionBackgroundTreatment:"caption-background"===s,useBorderTreatment:"image-border"===s};n.extend(d,a);var c=t.treatment;switch(s){case"caption-background":l.backgroundColor=o.convertColorToRGBA(c.backgroundColor);break;case"image-border":c.borderColor&&(l.borderColor=o.convertColorToRGBA(c.borderColor))}i.components.photoGrid=d}};o.registerCustomThemeComponent("photoGrid",r),e.exports=r},1428:function(e,t,i){i(0);var n=i(528),o={templates:["ct_glideshow_css"],process:function(e,t,i){i.components.glideshow={backgroundColor:n.convertColorToRGBA(t.backgroundColor)}}};n.registerCustomThemeComponent("glideshow",o),e.exports=o},1429:function(e,t,i){var n=i(622),o=i(528),r=40,a=2,s=2,l={p:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},ol:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},ul:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},h3:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},h4:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},blockquote:{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},".link-button-wrapper":{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1},"div.image":{p:1,ol:1,ul:1,h3:1,h4:1,blockquote:1,".link-button-wrapper":1,"div.image":1}},d={templates:["ct_spacing_css"],process:function(e,t,i){i.components.spacing={spacingRules:this._getItemSpacingRules(e,t,i)}},_getItemSpacingRules:function(e,t,i){var o="."+(n.getUniqueName(e)||"custom")+"-theme",r="";return r+=this._getItemSpacingRulesScaledForMediaQuery(o),r+=this._getItemSpacingRulesScaledForMediaQuery(o,.5,"max-width: 767px")},_getItemSpacingRulesScaledForMediaQuery:function(e,t,i){var n="";t=t||1;var o=i?"  ":"",d=r,c=s,p=function(e,i){var n=Math.round(e*d*t);switch(i){case"rem":return h(n).toFixed(3)+"rem";case"px":default:return n+"px"}},h=function(e){return e/16};i&&(n+="@media ("+i+") {\n"),n+=o+e+" .content-spacer {\n",n+=o+"  height: "+h(a)+"rem;\n",n+=o+"}\n",n+=o+e+" .content-item-spacer {\n",n+=o+"  height: "+p(c,"rem")+";\n",n+=o+"}\n",n+=o+e+" .section .section-content .content-container {\n",n+=o+"  padding-top: "+p(.5*c,"rem")+";\n",n+=o+"  padding-bottom: "+p(.5*c,"rem")+";\n",n+=o+"}\n",n+=o+e+" .full-width-section .section-content .content-container {\n",n+=o+"  padding-top: 0;\n",n+=o+"  padding-bottom: 0;\n",n+=o+"}\n",n+=o+e+" .section.large-content-spacing-top .section-content .content-container {\n",n+=o+"  padding-top: "+p(c,"rem")+";\n",n+=o+"}\n",n+=o+e+" .section.large-content-spacing-bottom .section-content .content-container {\n",n+=o+"  padding-bottom: "+p(c,"rem")+";\n",n+=o+"}\n",n+=o+e+" .content-container > :first-child {\n",n+=o+"  margin-top: 0;\n",n+=o+"}\n",n+=o+e+" .content-container > :last-child {\n",n+=o+"  margin-bottom: 0;\n",n+=o+"}\n",n+=o+e+" ul,\n",n+=o+e+" ol {\n",n+=o+"  padding: 0\n",n+=o+"}\n",n+=o+e+" li {\n",n+=o+"  margin-bottom: "+p(.2,"rem")+";\n",n+=o+"}\n",n+=o+e+" li:last-child {\n",n+=o+"  margin-bottom: 0;\n",n+=o+"}\n";for(var u=l,g=Object.keys(u),m=0;m<g.length;m++){var f=g[m];n+=o+e+" .content-container "+f+" {\n",n+=o+"  margin-top: 0;\n",n+=o+"  margin-bottom: 0;\n",n+=o+"}\n";for(var v=u[f],b=Object.keys(v),w=0;w<b.length;w++){var k=b[w];n+=o+e+" .content-container "+k+" + "+f+"{\n",n+=o+"  margin-top: "+p(u[f][k],"rem")+";\n",n+=o+"}\n"}}return n+=o+e+" .photo-grid-section + .single-column-section h3:first-child,\n",n+=o+e+" .photo-grid-section + .single-column-section h4:first-child,\n",n+=o+e+" .photo-grid-section + .single-column-section blockquote:first-child {\n",n+=o+"  margin-top: "+p(1,"rem")+";\n",n+=o+"}\n",n+=o+e+" .photo-grid-section + .single-column-section blockquote:last-child {\n",n+=o+"  margin-top: "+p(1,"rem")+";\n",n+=o+"}\n",i&&(n+="}\n"),n}};o.registerCustomThemeComponent("spacing",d),e.exports=d},1430:function(e,t,i){i(622);var n={templates:["ct_column_css"],process:function(e,t,i){i.components.column={pageMargin:{superNarrow:Math.min(7,45),extraNarrow:Math.min(7,45),narrow:Math.min(12.5,45),default:20,wide:Math.min(25,45),extraWide:Math.min(30,45),superWide:Math.min(33,45)},glideshowColumn:{superNarrow:{width:Math.max(70,10),maxWidth:"none",margin:"18px 14px",padding:"31px 12px",centerAlignedWidth:75,centerAlignedMaxWidth:"900px"},extraNarrow:{width:Math.max(70,10),maxWidth:"none",margin:"18px 14px",padding:"31px 13px",centerAlignedWidth:75,centerAlignedMaxWidth:"900px"},narrow:{width:Math.max(60,10),maxWidth:"none",margin:"32px 32px",padding:"56px 32px",centerAlignedWidth:75,centerAlignedMaxWidth:"900px"},default:{width:50,maxWidth:"none",margin:"32px 32px",padding:"56px 32px",centerAlignedWidth:65,centerAlignedMaxWidth:"900px"},wide:{width:Math.max(40,10),maxWidth:"580px",margin:"32px 32px",padding:"56px 32px",centerAlignedWidth:65,centerAlignedMaxWidth:"900px"},extraWide:{width:Math.max(30,10),maxWidth:"580px",margin:"32px 80px",padding:"56px 32px",centerAlignedWidth:65,centerAlignedMaxWidth:"900px"},superWide:{width:Math.max(25,10),maxWidth:"580px",margin:"32px 80px",padding:"56px 32px",centerAlignedWidth:65,centerAlignedMaxWidth:"900px"}}}}};i(528).registerCustomThemeComponent("column",n),e.exports=n},1431:function(e,t,i){var n=i(528),o=i(571),r={templates:["ct_author_section_css"],process:function(e,t,i){var r=e.components.paragraph;if(r){var a=n.getTextSettingsForComponent("paragraph",r.text,e),s=r.color,l=n.cloneColorWithAlpha(s,.5),d=n.convertColorToRGBA(s),c=n.convertColorToRGBA(l);a.color=d,a.colorAlpha=c,a.appreciateIconUnfilled=o.getAssetAsCSSUrl("appreciate",{color:d}),a.appreciateIconUnfilledAlpha=o.getAssetAsCSSUrl("appreciate",{color:c}),a.appreciateIconFilled=o.getAssetAsCSSUrl("appreciate:filled",{color:d}),a.appreciateIconFilledAlpha=o.getAssetAsCSSUrl("appreciate:filled",{color:c}),i.components.authorSection=a}}};n.registerCustomThemeComponent("authorSection",r),e.exports=r},1432:function(e,t,i){var n=i(528),o={templates:["ct_credits_section_css"],process:function(e,t,i){var o=e.components.paragraph;o&&(i.components.creditsSection={color:n.convertColorToRGBA(o.color)})}};n.registerCustomThemeComponent("creditsSection",o),e.exports=o},1433:function(e,t,i){var n,o;n=[i(3),i(612),i(611)],void 0===(o=function(e,t,i){var n=function(t,i){if(this.options=e.extend({},n.prototype.defaultOptions,i),this._startTime=0,this._timer=0,this._callback=t,this._running=!1,this.options.easingFunc)this._easingFunc=this.options.easingFunc;else{var o=this.options.easing||"linear";this._easingFunc=this.easings[o]||this.easings.linear}var r=this;this._updateCallback=function(){r._handleUpdate()}};return e.extend(n.prototype,{defaultOptions:{useSetTimeout:!1,interval:1e3/60,duration:1e3,easing:"linear",easingFunc:null},easings:{linear:function(e,t,i,n,o){return i+(n-i)*t/o},"ease-in":function(e,t,i,n,o){return n*((t=t/o-1)*t*t+1)+i},"ease-out":function(e,t,i,n,o){return n*(t/=o)*t*t+i}},start:function(){this._running||(e(this).trigger("animator-start"),this._startTime=(new Date).getTime(),this._handleUpdate())},stop:function(){this._running=!1,this._timer&&(this.options.useSetTimeout?clearTimeout(this._timer):cancelAnimationFrame(this._timer),this._timer=0,e(this).trigger("animator-stop"))},_handleUpdate:function(){var t=this._startTime,i=(new Date).getTime()-t,n=this.options.duration;i=i>n?n:i;var o=this._easingFunc(0,i,0,1,n);e(this).trigger("animator-update",{interpolationConstant:o}),this._callback&&this._callback(o),i===n?(this.options.complete&&this.options.complete(),e(this).trigger("animator-complete"),this.stop()):this.options.useSetTimeout?this._timer=setTimeout(this._updateCallback,this.options.interval):this._timer=requestAnimationFrame(this._updateCallback)}}),t.Animator=n,n}.apply(t,n))||(e.exports=o)},1434:function(e,t,i){var n,o;n=[i(3),i(612),i(611),i(930),i(1242)],void 0===(o=function(e,t,i,n,o){var r=function(t,i){i=e.extend({},r.prototype.defaultOptions,i),o.call(this,t,i),this._lastDragEvent=null,this._lastDragPosition=null,this._delegateEventHandler=null,e(this.element).data(this.options.delegatePropertyName,this);var n=this.options.delegateElement;n&&(this.options.delegateElement=e(n)[0])};i.inherit(r,o),e.extend(r.prototype,{defaultOptions:e.extend({},o.prototype.defaultOptions,{delegatePropertyName:"wpDragTrackerDelegate",delegateElement:null,getDirectionFunc:null,delegateIsCompatibleFunc:null}),_startDrag:function(e,t){return this._lastDragEvent=e,this._lastDragPosition=t,r.prototype._super.prototype._startDrag.call(this,e,t)},_handleDrag:function(e,t){return this._lastDragEvent=e,this._lastDragPosition=t,r.prototype._super.prototype._handleDrag.call(this,e,t)},_stopDrag:function(e,t){if(this._lastDragEvent=null,this._lastDragPosition=null,this._delegateEventHandler=null,this.dragStarted&&a){var i=this._delegateEventHandler||this.dragEventHandler,n=i&&i._getNativeEvent(e);n&&"touch"===n.pointerType&&null!=n.pointerId&&a.push({pointerId:n.pointerId})}return r.prototype._super.prototype._stopDrag.call(this,e,t)},_trackerIsCompatible:function(e,t){var i=this.options.delegateIsCompatibleFunc;if(i)return i(this,e,t);var n=t||this.getDirection(),o=e.getDirection();return n===o||"both"===o},_findClosestDelegate:function(t,i){for(;t;){var n=e(t).data(this.options.delegatePropertyName);if(n&&this._trackerIsCompatible(n,i))return n;t=t.parentNode}return null},_handleDelegateHandOff:function(e,t){this._stopDrag(e,t),this._lastDragEvent=null,this._lastDragPosition=null,this._delegateEventHandler=null},delegateDrag:function(e){var t=null;if(this.dragStarted&&this._lastDragEvent&&(t=this._findClosestDelegate(this.options.delegateElement||this.element.parentNode,e))){var i=this._lastDragEvent,n=this._lastDragPosition,o=this._delegateEventHandler||this.dragEventHandler;this.blockDelegates(),this._handleDelegateHandOff(i,n),t._startDrag(i,n),t.dragStarted=!0,t.dragStart(0,0),t._handleDrag(i,n),o.setDelegateTracker(t),t._delegateEventHandler=o}return t},_getAncestorDelegates:function(){for(var t=this.options.delegateElement||this.element.parentNode,i=this.options.delegatePropertyName,n=[];t;){var o=e(t).data(i);o&&n.push(o),t=t.parentNode}return n},blockDelegates:function(e){for(var t=(e=e||this._getAncestorDelegates()).length,i=0;i<t;i++){var n=e[i];n._stopTracking&&n._stopTracking()}},_stopTracking:function(){(this._delegateEventHandler||this.dragEventHandler)._removeDragHandlers()},getDirection:function(){var e=this.options,t=e.getDirectionFunc;return ignoreX=e.ignoreX,ignoreY=e.ignoreY,t?t(this):ignoreX||ignoreY?ignoreX?"vertical":"horizontal":"both"}});var a=null;return t.pointerEventsEnabled&&(a=[],document.addEventListener("click",(function(e){var t=e.pointerId;if(null!=t&&"touch"===e.pointerType){for(var i=a.length,n=0;n<i;n++){var o=a[n];o&&o.pointerId===t&&(e.preventDefault(),e.stopPropagation())}a.length=0}}),!0)),t.DragTrackerDelegate=r,r}.apply(t,n))||(e.exports=o)},1435:function(e,t,i){var n,o;n=[i(3),i(930),i(677),i(978),i(1688)],void 0===(o=function(e,t,i,n,o){var r=i.build("Widget.MomentumScrollView",i,{_widgetName:"scrollview",defaultOptions:{useTransform:!1,maxVelocity:100,velocityDamper:.95,direction:void 0,delegateThreshold:1,delegateElement:null,trackEvents:["mouse","touch","pen"]},_attachBehavior:function(){var e=this,t=this.options;this.$element.css("overflow","hidden"),this._scrollLeft=0,this._scrollTop=0,this._direction=t.direction||void 0,this._directionLock=void 0,this.momentumStarted=!1,this.tracker=new o(this.$element[0],{trackEvents:t.trackEvents,delegateElement:t.delegateElement,maxVelocity:t.maxVelocity,velocityDamper:t.velocityDamper,getDirectionFunc:function(){return e._direction||"both"},dragStart:function(t,i,n){return e._handleDragStart(i,n)},dragUpdate:function(t,i,n){return e._handleDragUpdate(i,n)},dragStop:function(t,i,n){return e._handleDragStop(i,n)},momentumStart:function(t,i,n){return e._handleMomentumStart(i,n)},momentumStop:function(t,i,n){return e._handleMomentumStop(i,n)}})},scrollLeft:function(){return this.options.useTransform?this._scrollLeft:this.$element[0].scrollLeft},scrollTop:function(){return this.options.useTransform?this._scrollTop:this.$element[0].scrollTop},scrollWidth:function(){return this.$element[0].scrollWidth},scrollHeight:function(){return this.$element[0].scrollHeight},width:function(){return this.$element[0].offsetWidth},height:function(){return this.$element[0].offsetHeight},scrollTo:function(e,i){var n=this.$element[0],o=this.options.useTransform;if(n){var r=this.scrollWidth(),a=this.scrollHeight(),s=r-this.width(),l=a-this.height();if(e=s<=0||e<0?0:e>s?s:e,i=l<=0||i<0?0:i>l?l:i,this._scrollLeft=e,this._scrollTop=i,o){var d="translate3d("+(0-e)+"px,"+(0-i)+"px,0)";this._getElementsToScroll().css(t.vendorPrefix+"transform",d),this.$element.trigger("scroll")}else n.scrollLeft=e,n.scrollTop=i}},_getElementsToScroll:function(){return this.$element.children()},_handleDragStart:function(e,t){this.$element[0];this._scrollStartX=this.scrollLeft(),this._scrollStartY=this.scrollTop(),this._directionLock=void 0,this.momentumStarted=!1,this.scrollTo(this._scrollStartX-e,this._scrollStartY-t),this.$element.trigger("scroll-start",{dx:e,dy:t})},_isWithinAngleThreshold:function(e,t){return e&&Math.abs(Math.atan(t/e))*(180/Math.PI)<30},_handleDragUpdate:function(e,t){this.$element[0],this.options;var i=this._direction,n=this._directionLock;if(!n){var o=Math.abs(e),r=Math.abs(t);if(o<10&&r<10)return;if(this._isWithinAngleThreshold(o,r)?n="horizontal":this._isWithinAngleThreshold(r,o)&&(n="vertical"),i&&n&&i!=n&&this.tracker.delegateDrag(n))return void this._handleDragStop(e,t);this._directionLock=n=i||(n||"n"),this.tracker.blockDelegates()}var a=this._scrollStartX-("vertical"!=n?e:0),s=this._scrollStartY-("horizontal"!=n?t:0);this.scrollTo(a,s);var l=Math.abs(a-this.scrollLeft()),d=Math.abs(s-this.scrollTop()),c=this.options.delegateThreshold;!this.momentumStarted&&(l>c||d>c)&&this.tracker.delegateDrag("n"!=n&&n||i||"both")&&this._handleDragStop(e,t)},_handleDragStop:function(e,t){this.momentumStarted=!1,e="vertical"!=this._directionLock?e:0,t="horizontal"!=this._directionLock?t:0,this.scrollTo(this._scrollStartX-e,this._scrollStartY-t),this.$element.trigger("scroll-stop",{dx:e,dy:t})},_handleMomentumStart:function(e,t){this.momentumStarted=!0,this.$element.trigger("momentum-start",{dx:e,dy:t})},_handleMomentumStop:function(e,t){this.momentumStarted=!1,this.$element.trigger("momentum-stop",{dx:e,dy:t})}});return i.addWidgetConstructorAsjQueryPlugin("wpMomentumScrollView",r),i.SimpleMomentumScrollView=r,i.addWidgetConstructorAsjQueryPlugin("wpSimpleMomentumScrollView",r),r}.apply(t,n))||(e.exports=o)},1436:function(e,t,i){var n,o;n=[i(3),i(611),i(677)],void 0===(o=function(e,t,i){var n=i.build("Widget.PanelGroup",i,{_widgetName:"panel-group",defaultOptions:{defaultIndex:0,panelClass:"wp-panel",activeClass:"wp-panel-active",toggleStateEnabled:!1,tabGroups:null},_setUp:function(){var e=this;return this.tabGroups=[],this._tabCallback=function(t,i){e._handleTabSelect(t,i)},this.showLock=0,this.tabDriver=null,n.prototype._super.prototype._setUp.apply(this,arguments)},_attachBehavior:function(){this.activeElement=null,this.activeIndex=-1,this.$element.addClass(this.options.panelClass);var e=this.options.defaultIndex;"number"==typeof e&&e>=0&&this.showPanel(e),this.addTabGroup(this.options.tabGroups)},_getElementIndex:function(t){return t?e.inArray(t,this.$element.get()):-1},_getElementByIndex:function(e){return this.$element.eq(e)[0]},_getElement:function(e){return"number"==typeof e?this._getElementByIndex(e):e},_syncTabGroups:function(){for(var e=this.tabGroups,t=this.activeIndex,i=0;i<e.length;i++){var n=e[i];n!==this.tabDriver&&n.selectTab(t)}},showPanel:function(t){if(!this.showLock){++this.showLock;var i=this._getElement(t),n=this.activeElement,o=this.options.activeClass;if(i)if(i!==n){var r={panel:i,panelIndex:this._getElementIndex(i)};this.trigger("wp-panel-before-show",r),n&&this.hidePanel(n),e(i).addClass(o),this.activeElement=i,this.activeIndex=this._getElementIndex(i),this._syncTabGroups(),this.trigger("wp-panel-show",r)}else this.options.toggleStateEnabled&&this.hidePanel(i);--this.showLock}},hidePanel:function(t){var i="number"==typeof t?this.$element.eq(t)[0]:t;if(i){var n={panel:i,panelIndex:this._getElementIndex(i)};this.trigger("wp-panel-before-hide",n),e(i).removeClass(this.options.activeClass),i===this.activeElement&&(this.activeElement=null,this.activeIndex=-1),this.trigger("wp-panel-hide",n)}},_handleTabSelect:function(e,t){this.showLock||(this.tabDriver=e.target,this.showPanel(t.tabIndex),this.tabDriver=null)},addTabGroup:function(i){if(i){for(var n=(i=t.ensureArray(i)).length,o=0;o<n;o++){var r=i[o];-1===e.inArray(r,this.tabGroups)&&(this.tabGroups.push(r),r.bind("wp-tab-select",this._tabCallback))}++this.showLock,this._syncTabGroups(),--this.showLock}},removeTabGroup:function(i){for(var n=(i=t.ensureArray(i)).length,o=0;o<n;o++){var r=i[o];sets=this.tabGroups,loc=e.inArray(r,sets),-1!==loc&&sets.splice(loc,1)}}});return i.addMultiElementWidgetConstructorAsjQueryPlugin("wpPanelGroup",n),n}.apply(t,n))||(e.exports=o)},1437:function(e,t,i){var n,o;n=[i(3),i(611),i(677),i(1434),i(1436),i(1433),i(978)],void 0===(o=function(e,t,i,n,o,r,a){var s=function(t,i){i=e.extend({},s.prototype.defaultOptions,i),n.call(this,t,i)};t.inherit(s,n),e.extend(s.prototype,{defaultOptions:e.extend({},n.prototype.defaultOptions,{angleThreshold:30,direction:"horizontal"}),_startDrag:function(t,i){this._isNativeScroller=0!=e(t.target).closest(".scrollable").length,s.prototype._super.prototype._startDrag.call(this,t,i)},_handleDrag:function(e,t){var i=t.x-this.startX,n=t.y-this.startY,o=this.options;if(!this.dragStarted){var r=Math.abs(i),a=Math.abs(n);if(r>=o.dragThreshold||a>=o.dragThreshold){var l=360,d="horizontal"===o.direction,c=d?a:r,p=d?r:a;if(p>0&&(l=Math.abs(Math.atan(c/p))*(180/Math.PI)),l>o.angleThreshold)return this._isNativeScroller&&this._stopTracking(),this._isNativeScroller}}var h=s.prototype._super.prototype._handleDrag.call(this,e,t);return!this.dragStarted||h},_stopDrag:function(e,t){var i=s.prototype._super.prototype._stopDrag.call(this,e,t);return!this.dragStarted||i},getDirection:function(){return this.options.direction}});var l=i.build("Widget.SwipePanelGroup",o,{_widgetName:"swipe-panel-group",defaultOptions:{defaultIndex:0,direction:"horizontal",snapThreshold:0,duration:200,animateWithJS:!1,animationEnabled:!0,swipeEnabled:!0,easing:"ease-out",animateClass:"wp-animate",widgetClass:"wp-swipe-panel-group",viewClass:"wp-swipe-panel-group-view",panelClass:"wp-swipe-panel-group-panel",previousClass:"wp-previous",nextClass:"wp-next",allowDelegation:!0,delegateElement:null,trackEvents:["mouse","touch","pen"]},_setUp:function(i,n){n=e.extend({},this.defaultOptions,n);this.$clip=e(i);var o=this.$clip[0],r=t.scopedFind(o,"."+n.panelClass,n.widgetClass,o);return this.$view=t.scopedFind(o,"."+n.viewClass,n.widgetClass,o),this._blockShowPanel=!0,l.prototype._super.prototype._setUp.call(this,r,n)},_attachBehavior:function(){l.prototype._super.prototype._attachBehavior.apply(this,arguments);var e=this;this._blockShowPanel=!1,this._position=0,this._startPosition=0,this._snapPosition=0,this._lastDelta=0,this._tracker=new s(this.$clip[0],{direction:this.options.direction,trackEvents:this.options.trackEvents,delegateElement:this.options.delegateElement,dragStart:function(t,i,n){return e._handleDragStart(i,n)},dragUpdate:function(t,i,n){return e._handleDragUpdate(i,n)},dragStop:function(t,i,n){return e._handleDragStop(i,n)}}),this._isHorizontal="vertical"!==this.options.direction,this._animationInProgress=!1,this._animator=null,this._animationCompleteCB=function(t){if(!t||!t.target||t.target==e.$view[0])return e._handleTransitionEnd()},this.options.animateWithJS?(this._animStartPos=0,this._animDistance=0,this._animator=new r((function(t){e._setViewPosition(e._animStartPos+e._animDistance*t)}),{easing:this.options.easing,duration:this.options.duration,complete:this._animationCompleteCB})):this.$view.on("webkitTransitionEnd oTransitionEnd msTransitionEnd transitionend",this._animationCompleteCB)},_ready:function(){this._postShowPanel(this.options.defaultIndex)},_setUpBeforeAndAfterPanels:function(){var t=this.options,i=(this.$clip,this.$element),n=this.activeIndex,o=e(),r=e(),a=e();n>=0&&(r=i.eq(n),n>0&&(o=i.eq(n-1)),n<i.length&&(a=i.eq(n+1))),this.$clip.removeClass(t.animateClass);var s=t.activeClass+" "+t.previousClass+" "+t.nextClass,l=i.filter("."+t.activeClass+", ."+t.previousClass+", ."+t.nextClass);l.removeClass(s),this._setViewPosition(0),o.addClass(t.previousClass),r.addClass(t.activeClass),a.addClass(t.nextClass),0!=(l=l.filter((function(i){var n=e(this);return!n.hasClass(t.activeClass)&&!n.hasClass(t.previousClass)&&!n.hasClass(t.nextClass)}))).length&&this.trigger("wp-panels-dequeued",{dequeued:l}),this.trigger("wp-panels-queued",{before:o,after:a,active:r,queued:o.add(a)})},_setElementPosition:function(i,n,o){var r=this._isHorizontal?n:0,a=this._isHorizontal?0:n,s=e.extend({unit:"px"},o);t.setElementTransform(i,"translate3d("+r+s.unit+","+a+s.unit+",0)")},_setViewPosition:function(e,t){this._position=e,this._setElementPosition(this.$view,e,t)},_updateSnapPosition:function(e){var t=this._isHorizontal?this.$clip.width():this.$clip.height(),i=this._lastDelta;Math.abs(e)<this.options.snapThreshold?this._snapPosition=0:i<=0&&e<i?this._snapPosition=-t:i>=0&&e>i?this._snapPosition=t:e!=i&&(this._snapPosition=0);var n=this.activeIndex;(0===n&&this._snapPosition>0||n+1===this.$element.length&&this._snapPosition<0)&&(this._snapPosition=0)},_postShowPanel:function(e){l.prototype._super.prototype.showPanel.apply(this,arguments),this._setUpBeforeAndAfterPanels()},showPanel:function(t){if(!this._blockShowPanel&&("number"!=typeof t&&(t=this._getElementIndex(t)),t>-1&&t!==this.activeIndex)){var i=this._isHorizontal?this.$clip.width():this.$clip.height(),n=t>this.activeIndex,o=n?-i:i,r=n?this.options.nextClass:this.options.previousClass;this._snapIndex=t,this.$element.removeClass(r),e(this._getElement(t)).addClass(r),this.options.animationEnabled?this._animatePanels(o):this._handleTransitionEnd()}},_handleTransitionEnd:function(){this._postShowPanel(this._snapIndex),this._animationInProgress=!1},_handleDragStart:function(e,t){this.options.swipeEnabled&&(this._animationInProgress&&(this.options.animateWithJS&&this._animator.stop(),this._handleTransitionEnd()),this.$clip.removeClass(this.options.animateClass),this._lastDelta=0,this._startPosition=this._position,this._snapPosition=0,this._snapIndex=this.activeIndex,this._handleDragUpdate(e,t))},_handleDragUpdate:function(e,t){if(this.options.swipeEnabled){var i=this._isHorizontal?e:t,n=this.activeIndex;if(0===n&&i>0||n+1>=this.$element.length&&i<0){var o=this._snapPosition;if(this._snapPosition=0,this.options.allowDelegation&&this._tracker.delegateDrag())return void(this._animationInProgress=!1);this._snapPosition=o,i*=.4}this._tracker.blockDelegates(),this._updateSnapPosition(i),this._setViewPosition(this._startPosition+i),this._lastDelta=i}},_animatePanels:function(e){this._position;this._animationInProgress=!0,this.options.animateWithJS?(this._animator.stop(),this._animStartPos=this._position,this._animDistance=e-this._position,this._animator.start()):(this.$clip.addClass(this.options.animateClass),this._setViewPosition(e))},enableAnimation:function(){this.options.animationEnabled=!0},disableAnimation:function(){this.options.animationEnabled=!1},enableSwipe:function(){this.options.swipeEnabled=!0},disableSwipe:function(){this.options.swipeEnabled=!1},_handleDragStop:function(e,t){this.options.swipeEnabled&&(this._snapIndex=this.activeIndex,this._snapPosition>0?--this._snapIndex:this._snapPosition<0&&++this._snapIndex,this._animatePanels(this._snapPosition))}});return i.addWidgetConstructorAsjQueryPlugin("wpSwipePanelGroup",l),l}.apply(t,n))||(e.exports=o)},1682:function(e,t,i){var n={"./af":1113,"./af.js":1113,"./ar":1114,"./ar-dz":1115,"./ar-dz.js":1115,"./ar-kw":1116,"./ar-kw.js":1116,"./ar-ly":1117,"./ar-ly.js":1117,"./ar-ma":1118,"./ar-ma.js":1118,"./ar-sa":1119,"./ar-sa.js":1119,"./ar-tn":1120,"./ar-tn.js":1120,"./ar.js":1114,"./az":1121,"./az.js":1121,"./be":1122,"./be.js":1122,"./bg":1123,"./bg.js":1123,"./bm":1124,"./bm.js":1124,"./bn":1125,"./bn.js":1125,"./bo":1126,"./bo.js":1126,"./br":1127,"./br.js":1127,"./bs":1128,"./bs.js":1128,"./ca":1129,"./ca.js":1129,"./cs":1130,"./cs.js":1130,"./cv":1131,"./cv.js":1131,"./cy":1132,"./cy.js":1132,"./da":1133,"./da.js":1133,"./de":1134,"./de-at":1135,"./de-at.js":1135,"./de-ch":1136,"./de-ch.js":1136,"./de.js":1134,"./dv":1137,"./dv.js":1137,"./el":1138,"./el.js":1138,"./en-SG":1139,"./en-SG.js":1139,"./en-au":1140,"./en-au.js":1140,"./en-ca":1141,"./en-ca.js":1141,"./en-gb":1142,"./en-gb.js":1142,"./en-ie":1143,"./en-ie.js":1143,"./en-il":1144,"./en-il.js":1144,"./en-nz":1145,"./en-nz.js":1145,"./eo":1146,"./eo.js":1146,"./es":1147,"./es-do":1148,"./es-do.js":1148,"./es-us":1149,"./es-us.js":1149,"./es.js":1147,"./et":1150,"./et.js":1150,"./eu":1151,"./eu.js":1151,"./fa":1152,"./fa.js":1152,"./fi":1153,"./fi.js":1153,"./fo":1154,"./fo.js":1154,"./fr":1155,"./fr-ca":1156,"./fr-ca.js":1156,"./fr-ch":1157,"./fr-ch.js":1157,"./fr.js":1155,"./fy":1158,"./fy.js":1158,"./ga":1159,"./ga.js":1159,"./gd":1160,"./gd.js":1160,"./gl":1161,"./gl.js":1161,"./gom-latn":1162,"./gom-latn.js":1162,"./gu":1163,"./gu.js":1163,"./he":1164,"./he.js":1164,"./hi":1165,"./hi.js":1165,"./hr":1166,"./hr.js":1166,"./hu":1167,"./hu.js":1167,"./hy-am":1168,"./hy-am.js":1168,"./id":1169,"./id.js":1169,"./is":1170,"./is.js":1170,"./it":1171,"./it-ch":1172,"./it-ch.js":1172,"./it.js":1171,"./ja":1173,"./ja.js":1173,"./jv":1174,"./jv.js":1174,"./ka":1175,"./ka.js":1175,"./kk":1176,"./kk.js":1176,"./km":1177,"./km.js":1177,"./kn":1178,"./kn.js":1178,"./ko":1179,"./ko.js":1179,"./ku":1180,"./ku.js":1180,"./ky":1181,"./ky.js":1181,"./lb":1182,"./lb.js":1182,"./lo":1183,"./lo.js":1183,"./lt":1184,"./lt.js":1184,"./lv":1185,"./lv.js":1185,"./me":1186,"./me.js":1186,"./mi":1187,"./mi.js":1187,"./mk":1188,"./mk.js":1188,"./ml":1189,"./ml.js":1189,"./mn":1190,"./mn.js":1190,"./mr":1191,"./mr.js":1191,"./ms":1192,"./ms-my":1193,"./ms-my.js":1193,"./ms.js":1192,"./mt":1194,"./mt.js":1194,"./my":1195,"./my.js":1195,"./nb":1196,"./nb.js":1196,"./ne":1197,"./ne.js":1197,"./nl":1198,"./nl-be":1199,"./nl-be.js":1199,"./nl.js":1198,"./nn":1200,"./nn.js":1200,"./pa-in":1201,"./pa-in.js":1201,"./pl":1202,"./pl.js":1202,"./pt":1203,"./pt-br":1204,"./pt-br.js":1204,"./pt.js":1203,"./ro":1205,"./ro.js":1205,"./ru":1206,"./ru.js":1206,"./sd":1207,"./sd.js":1207,"./se":1208,"./se.js":1208,"./si":1209,"./si.js":1209,"./sk":1210,"./sk.js":1210,"./sl":1211,"./sl.js":1211,"./sq":1212,"./sq.js":1212,"./sr":1213,"./sr-cyrl":1214,"./sr-cyrl.js":1214,"./sr.js":1213,"./ss":1215,"./ss.js":1215,"./sv":1216,"./sv.js":1216,"./sw":1217,"./sw.js":1217,"./ta":1218,"./ta.js":1218,"./te":1219,"./te.js":1219,"./tet":1220,"./tet.js":1220,"./tg":1221,"./tg.js":1221,"./th":1222,"./th.js":1222,"./tl-ph":1223,"./tl-ph.js":1223,"./tlh":1224,"./tlh.js":1224,"./tr":1225,"./tr.js":1225,"./tzl":1226,"./tzl.js":1226,"./tzm":1227,"./tzm-latn":1228,"./tzm-latn.js":1228,"./tzm.js":1227,"./ug-cn":1229,"./ug-cn.js":1229,"./uk":1230,"./uk.js":1230,"./ur":1231,"./ur.js":1231,"./uz":1232,"./uz-latn":1233,"./uz-latn.js":1233,"./uz.js":1232,"./vi":1234,"./vi.js":1234,"./x-pseudo":1235,"./x-pseudo.js":1235,"./yo":1236,"./yo.js":1236,"./zh-cn":1237,"./zh-cn.js":1237,"./zh-hk":1238,"./zh-hk.js":1238,"./zh-tw":1239,"./zh-tw.js":1239};function o(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=r,e.exports=o,o.id=1682},1683:function(e,t,i){var n;void 0===(n=function(){return new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i")}.apply(t,[]))||(e.exports=n)},1684:function(e,t){e.exports='<div class="editor-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="editor-dialog-shell confirm-view-shell mrvl-overlay-shell">\n    <h2 class="title dialog-title"></h2>\n\n    <div class="mrvl-overlay-content-shell">\n        <div class="mrvl-overlay-content">\n            <p class="content"></p>\n            <p class="remark"></p>\n        </div>\n        <div class="mrvl-dlg-btn-acts buttons"></div>\n    </div>\n    <button class="x-close-btn">X</button>\n</div>\n'},1685:function(e){e.exports=JSON.parse('"/slate-web/empty-1824e112.html"')},1686:function(e){e.exports=JSON.parse('"/slate-web/preview-0dc542ea.html"')},1687:function(e,t,i){var n,o;n=[i(612)],void 0===(o=function(e){var t=function(){this.parentNode=null,this.firstChild=null,this.lastChild=null,this.previousSibling=null,this.nextSibling=null},i=t.prototype;return i.removeChild=function(e){if(e.parentNode===this){var t=e.previousSibling,i=e.nextSibling;this.firstChild===e&&(this.firstChild=i),this.lastChild===e&&(this.lastChild=t),t&&(t.nextSibling=i),i&&(i.previousSibling=t),e.parentNode=e.previousSibling=e.nextSibling=null}return e},i.appendChild=function(e){if(e&&(e.parentNode!==this||e!==this.lastChild)){var t=this.lastChild;e.parentNode&&e.parentNode.removeChild(e),t?(t.nextSibling=e,e.previousSibling=t):this.firstChild=e,this.lastChild=e,e.parentNode=this}return e},i.insertBefore=function(e,t){if(e&&e!==t)if(e.parentNode&&e.parentNode.removeChild(e),t){this.firstChild===t&&(this.firstChild=e);var i=t.previousSibling;e.previousSibling=i,e.nextSibling=t,t.previousSibling=e,i&&(i.nextSibling=e),e.parentNode=this}else this.appendChild(e);return e},i.insertAfter=function(e,t){return this.insertBefore(e,t&&t.nextSibling||null)},i.childNodes=function(){for(var e=[],t=this.firstChild;t;)e.push(t),t=t.nextSibling;return e},e.Node=t,t}.apply(t,n))||(e.exports=o)},1688:function(e,t,i){var n,o;n=[i(3),i(612),i(611),i(1434)],void 0===(o=function(e,t,i,n){var o=function(t,i){i=e.extend({},o.prototype.defaultOptions,i),n.call(this,t,i);var r=this;this._lastDX=0,this._lastDY=0,this._velocityX=0,this._velocityY=0,this._velocityTimer=0,this._vtCallback=function(){r._handleMomentumUpdate()}};return i.inherit(o,n),e.extend(o.prototype,{defaultOptions:e.extend({},n.prototype.defaultOptions,{momentumStart:null,momentumStop:null,useRequestAnimationFrame:!0,animationInterval:Math.round(1e3/60),velocityDamper:.95,minVelocityThreshold:.25,maxVelocity:1e3}),_startVelocityTimer:function(){this._stopVelocityTimer(),this.options.useRequestAnimationFrame?this._velocityTimer=requestAnimationFrame(this._vtCallback):this._velocityTimer=setTimeout(this._vtCallback,this.options.animationInterval)},_stopVelocityTimer:function(){this._velocityTimer&&(this.options.useRequestAnimationFrame?cancelAnimationFrame(this._velocityTimer):clearTimeout(this._velocityTimer),this._velocityTimer=0)},_dispatchDragUpdate:function(e,t){o.prototype._super.prototype.dragUpdate.call(this,e,t)},_dispatchDragStop:function(e,t){var i=0!=this._velocityTimer;this._stopVelocityTimer(),this._velocityX=0,this._velocityY=0,o.prototype._super.prototype.dragStop.call(this,e,t),i&&this.momentumStop(e,t)},_handleMomentumUpdate:function(){var e=this.options.velocityDamper,t=this.options.minVelocityThreshold,i=this._velocityX*e,n=this._velocityY*e;this._velocityX=Math.abs(i)<t?0:i,this._velocityY=Math.abs(n)<t?0:n,this._velocityX||this._velocityY?(this._lastDX+=this._velocityX,this._lastDY+=this._velocityY,this._dispatchDragUpdate(this._lastDX,this._lastDY),this._startVelocityTimer()):this._dispatchDragStop(this._lastDX,this._lastDY)},_startDrag:function(e,t){this._velocityTimer&&this._dispatchDragStop(this._lastDX,this._lastDY),o.prototype._super.prototype._startDrag.apply(this,arguments)},_handleDrag:function(e,t){var i=o.prototype._super.prototype._handleDrag.apply(this,arguments);return!this.dragStarted||i},_stopDrag:function(e,t){var i=this.dragStarted,n=o.prototype._super.prototype._stopDrag.apply(this,arguments);return!i||n},momentumStart:function(e,t){var i=this.options;i.momentumStart&&i.momentumStart(this,e,t)},momentumStop:function(e,t){var i=this.options;i.momentumStop&&i.momentumStop(this,e,t)},dragStart:function(e,t){o.prototype._super.prototype.dragStart.call(this,e,t),this._velocityX=0,this._velocityY=0,this._lastDX=e,this._lastDY=t},dragUpdate:function(e,t){var i=this.options.maxVelocity;this._dispatchDragUpdate(e,t);var n=e-this._lastDX,o=t-this._lastDY;n=n<0?Math.max(n,-i):Math.min(n,i),o=o<0?Math.max(o,-i):Math.min(o,i),this._velocityX=n,this._velocityY=o,this._lastDX=e,this._lastDY=t},dragStop:function(e,t){this._velocityX||this._velocityY?(this.momentumStart(e,t),this._startVelocityTimer()):this._dispatchDragStop(e,t)},_handleDelegateHandOff:function(e){this._velocityX=0,this._velocityY=0,o.prototype._super.prototype._handleDelegateHandOff.apply(this,arguments)}}),t.MomentumDragTracker=o,o}.apply(t,n))||(e.exports=o)},1689:function(e,t,i){var n,o;n=[i(3),i(677),i(1242)],void 0===(o=function(e,t,i){var n=t.build("Widget.Slider",t,{_widgetName:"slider",defaultOptions:{trackClassName:"wp-slider-track",trackFeedbackClassName:"wp-slider-track-feedback",thumbClassName:"wp-slider-thumb",useTransforms:!1},_attachBehavior:function(){var e=this,t=this.options;this.$track=this.$element.find("."+t.trackClassName),this.$trackFeedback=this.$element.find("."+t.trackFeedbackClassName),this.$thumb=this.$element.find("."+t.thumbClassName),this.percentage=0,this.position=0,this._resetConstraints(),this.tracker=new i(this.$thumb[0],{dragStart:function(t,i,n){e._handleDragStart(i,n)},dragUpdate:function(t,i,n){e._handleDragUpdate(i,n)},dragStop:function(t,i,n){e._handleDragStop(i,n)}})},_handleDragStart:function(e,t){this._resetConstraints(),this._startPos=this.position,this.trigger("wp-slider-drag-start",{position:this.position,percentage:this.percentage})},_handleDragUpdate:function(e,t){this.setPositionByPixel(this._startPos+e)},_handleDragStop:function(e,t){this._startPos=0,this.trigger("wp-slider-drag-stop",{position:this.position,percentage:this.percentage})},_resetConstraints:function(e){var t=this.$track.width(),i=this.$thumb.width();this.maxPos=t-i,this.setPositionByPixel(this.percentage*this.maxPos,e)},setPositionByPixel:function(e,t){e=(e=Math.round(e||0))<0?0:e>this.maxPos?this.maxPos:e,this._setThumbPosition(e,t)},setPositionByPercentage:function(e,t){this.percentage=e<0?0:e<1?e:1,this._setThumbPosition(Math.round(this.percentage*this.maxPos),t)},getPosition:function(){return this.position},getPositionAsPercentage:function(){return this.percentage},_setThumbPosition:function(e,t){if(this.percentage=e/this.maxPos,this.position=e,this.$trackFeedback.css("width",100*this.percentage+"%"),this.options.useTransforms){var i="translateX("+e+"px)";this.$thumb.css({webkitTransform:i,mozTransform:i,oTransform:i,msTransform:i,transform:i})}else this.$thumb.css("left",e+"px");(void 0===t||t)&&this.update()},update:function(){this._update(),this.trigger("wp-slider-update",{position:this.position,percentage:this.percentage})},_update:function(){}});return t.addWidgetConstructorAsjQueryPlugin("wpSlider",n),n}.apply(t,n))||(e.exports=o)},1690:function(e,t,i){var n,o;n=[i(3),i(677),i(1242)],void 0===(o=function(e,t,i){var n=t.build("Widget.Slider2d",t,{_widgetName:"slider2d",defaultOptions:{trackClassName:"wp-slider-track",thumbClassName:"wp-slider-thumb",ignoreY:!0,ignoreX:!1,useTransforms:!1},_attachBehavior:function(){var e=this,t=this.options;this.$track=this.$element.find("."+t.trackClassName),this.$thumb=this.$element.find("."+t.thumbClassName);var n=Math.round(this.$track.width()),o=Math.round(this.$track.height()),r=(Math.round(this.$thumb.width()),parseInt(this.$thumb.css("left"))||0),a=parseInt(this.$thumb.css("top"))||0,s=r/n,l=a/o;this.percentage={x:s,y:l},this.position={x:r,y:a},this._resetConstraints(),this.tracker=new i(this.$thumb[0],{dragStart:function(t,i,n){e._handleDragStart(i,n)},dragUpdate:function(t,i,n){e._handleDragUpdate(i,n)},dragStop:function(t,i,n){e._handleDragStop(i,n)}})},_handleDragStart:function(e,t){this._resetConstraints(),this._startPos={x:this.position.x,y:this.position.y},this.trigger("wp-slider-drag-start",{position:this.position,percentage:this.percentage})},_handleDragUpdate:function(e,t){this.options.ignoreY?this.setPositionByPixel(this._startPos.x+e,this._startPos.y):this.options.ignoreX?this.setPositionByPixel(this._startPos.x,this._startPos.y+t):this.setPositionByPixel(this._startPos.x+e,this._startPos.y+t)},_handleDragStop:function(e,t){this._startPos={x:0,y:0},this.trigger("wp-slider-drag-stop",{position:this.position,percentage:this.percentage})},_resetConstraints:function(e){var t=this.$track.width(),i=this.$track.height(),n=this.$thumb.outerWidth(),o=this.$thumb.outerHeight();this.maxPos={x:t-n,y:i-o},this.maxPos.x=this.maxPos.x<0?0:this.maxPos.x,this.maxPos.y=this.maxPos.y<0?0:this.maxPos.y,this.setPositionByPixel(this.percentage.x*this.maxPos.x,this.percentage.y*this.maxPos.y,e)},setPositionByPixel:function(e,t,i){e=(e=Math.round(e||0))<0?0:e>this.maxPos.x?this.maxPos.x:e,t=(t=Math.round(t||0))<0?0:t>this.maxPos.y?this.maxPos.y:t,this._setThumbPosition(e,t,i)},setPositionByPercentage:function(e,t,i){this.percentage.x=e<0?0:e<1?e:1,this.percentage.y=t<0?0:t<1?t:1,this._setThumbPosition(Math.round(this.percentage.x*this.maxPos.x),Math.round(this.percentage.y*this.maxPos.y),i)},getPosition:function(){return this.position},getPositionAsPercentage:function(){return this.percentage},_setThumbPosition:function(e,t,i){var n=this.maxPos.x,o=this.maxPos.y;e=e<0?0:e>n?n:e,t=t<0?0:t>o?o:t,this.position={x:e,y:t},this.percentage={x:n?e/n:0,y:o?t/o:0},this.options.useTransforms?WebPro.Utils.setElementTransform(this.$thumb,"translate3d("+e+"px,"+t+"px,0)"):this.$thumb.css({left:e+"px",top:t+"px"}),(void 0===i||i)&&this.update()},update:function(){this._update(),this.options.ignoreY?this.trigger("wp-slider-update",{position:this.position.x,percentage:this.percentage.x}):this.options.ignoreX?this.trigger("wp-slider-update",{position:this.position.y,percentage:this.percentage.y}):this.trigger("wp-slider-update",{positionX:this.position.x,positionY:this.position.y,percentageX:this.percentage.x,percentageY:this.percentage.y})},_update:function(){}});return t.addWidgetConstructorAsjQueryPlugin("wpSlider2d",n),n}.apply(t,n))||(e.exports=o)},1691:function(e,t,i){var n,o;n=[i(3),i(611),i(677),i(1241),i(1687),i(1435),i(1433)],void 0===(o=function(e,t,i,n,o,r,a){var s=function(){n.call(this),o.call(this),this._x=0,this._y=0,this._width=0,this._height=0};t.inherit(s,o),e.extend(s.prototype,n.prototype,{getPosition:function(){return{x:this._x,y:this._y}},setPosition:function(e,t){this._x=e,this._y=t},getWidth:function(){return this._width},setWidth:function(e){this._width=e},getHeight:function(){return this._height},setHeight:function(e){this.height=e},getBounds:function(){return{width:this.getWidth(),height:this.getHeight()}},setBounds:function(e,t){this.setWidth(e),this.setHeight(t)}});var l=function(t,i){s.call(this),this.options=e.extend({},i),this.$element=e(t)};t.inherit(l,s),e.extend(l.prototype,{_setTransform:function(e){this.$element.css({webkitTransform:e,mozTransform:e,oTransform:e,msTransform:e,transform:e})},_syncTransform:function(){this._setTransform("translate("+this._x+"px,"+this._y+"px)")},setPosition:function(e,t){this._x=e,this._y=t,this._syncTransform()},setWidth:function(e){this._width=e,this.$element.css("width",e+"px")},setHeight:function(e){this._height=e,this.$element.css("height",e+"px")},getWidth:function(){return this.$element.width()},getHeight:function(){return this.$element.height()}});var d=function(e,t){l.call(this,e,t),this._zoom=1};t.inherit(d,l),e.extend(d.prototype,{_syncTransform:function(){this._setTransform("translate("+this._x+"px,"+this._y+"px) scale("+this._zoom+","+this._zoom+")")},getZoomWidth:function(){return this.$element.width()*this._zoom},getZoomHeight:function(){return this.$element.height()*this._zoom},getZoomBounds:function(){return{width:this.getZoomWidth(),height:this.getZoomHeight()}},getZoom:function(){return this._zoom},setZoom:function(e){this._zoom=e,this._syncTransform(),this.trigger("zoom-changed")}});var c=function(t,i,n,o){o=e.extend({},this.defaultOptions,o),l.call(this,t,o);var a=this;this.$view=e(i),this.$image=e(n),this._zoomAnimation=null,this.scrollview=new r(this.$element,{useTransform:!1}),this.zoomView=new d(this.$image),this.zoomView.bind("zoom-changed",(function(){a._handleContentChanged()}))};t.inherit(c,l),e.extend(c.prototype,{defaultOptions:{padding:0},_getClipBounds:function(){return{width:this.$element.width(),height:this.$element.height()}},_setViewBounds:function(e,t){this.$view.css({width:e+"px",height:t+"px"})},_getZoomCenterPoint:function(){var e=this.scrollview,t=e.$element,i=t.width(),n=t.height(),o=this.zoomView,r=o.getZoom()||1,a=(o.getWidth(),o.getHeight(),o.getPosition()),s=a.x,l=a.y;return{x:(e.scrollLeft()+i/2-s)/r,y:(e.scrollTop()+n/2-l)/r}},getZoom:function(){return this.zoomView.getZoom()},setZoom:function(e,t){e=e>0?e:1;var i=(t=t||{}).x,n=t.y;if("number"!=typeof i||"number"!=typeof n){var o=this._getZoomCenterPoint();i=o.x,n=o.y}var r=this.scrollview,a=r.$element,s=a.width(),l=a.height(),d=this.zoomView.getPosition(),c=i*e+d.x-s/2,p=n*e+d.y-l/2;this.zoomView.setZoom(e),c=Math.round(c<0?0:c),p=Math.round(p<0?0:p),r.scrollTo(c,p)},setZoomAnimate:function(t,i){var n=this,o=getZoomCenterPoint(),r=this._zoomAnimation,s=this.zoomView.getZoom(),l=e.extend({duration:500},i);r&&r.stop();var d=l.complete;l.complete=function(){n._zoomAnimation=null,d&&d()},(r=this._zoomAnimation=new a((function(e){setZoomLevel(s+(t-s)*e,{x:o.x,y:o.y})}),l)).start()},_forceBrowserReflow:function(){return document.body.offsetHeight},scrollRectIntoView:function(t,i){var n=e.extend({padding:20,duration:500,zoomToFit:!1,canScaleUp:!1,zoomLevel:void 0,center:!0},i),o=this.scrollview,r=o.$element,s=o.scrollLeft(),l=o.scrollTop(),d=r.width(),c=r.height(),p=this.lastViewportWidth!=d||this.lastViewportHeight!=c,h=s,u=l,g=this.zoomView,m=g.getZoom(),f=t.width,v=t.height,b=m;n.zoomToFit?b=f<d&&v<c?n.canScaleUp?Math.min(d/f,c/v):1:Math.min(d/(f+n.padding),c/(v+n.padding)):n.zoomLevel&&(b=n.zoomLevel);var w=this._calculateViewZoomBounds(b),k=(g.getPosition(),t.x*b+w.imageX),x=t.y*b+w.imageY,y=f*b,S=v*b;h=Math.round(k-(d-y)/2);u=(u=Math.round(x-(c-S)/2))<0?0:u;var _=s!=(h=h<0?0:h)||l!=u,C=m!=b||p;this.lastViewportWidth=d,this.lastViewportHeight=c,n.center||!_||C||k>=s&&x>=l&&k+y<=s+d&&x+S<=l+c&&(_=!1);var T=this._zoomAnimation;if(T&&(T.stop(),this._zoomAnimation=null),_||C){var I=this,P=b-m,D=h-s,F=u-l;n.duration>0?(T=this._zoomAnimation=new a((function(e){C&&(g.setZoom(m+P*e),I._forceBrowserReflow()),_&&o.scrollTo(s+Math.round(D*e),l+Math.round(F*e))}),n)).start():(C&&(g.setZoom(b),I._forceBrowserReflow()),_&&o.scrollTo(h,u))}},getImageBounds:function(){return this.zoomView.getBounds()},_getImageZoomBounds:function(e){var t=this.zoomView.getBounds();return t.width*=e,t.height*=e,t},_calculateViewZoomBounds:function(e){var t=this._getClipBounds(),i=this._getImageZoomBounds(e),n=this.options.padding,o=i.width,r=i.height,a=Math.max(n,(t.width-o)/2),s=Math.max(n,(t.height-r)/2);return{width:2*a+o,height:2*s+r,imageX:a,imageY:s,imageWidth:o,imageHeight:r}},_handleContentChanged:function(){var e=this._calculateViewZoomBounds(this.getZoom());this.zoomView.setPosition(e.imageX,e.imageY),this._setViewBounds(e.width,e.height)}});var p=i.build("Widget.InteractiveImage",i,{defaultOptions:{clipClassName:"wp-interactive-image-clip",viewClassName:"wp-interactive-image-view",contentClassName:"wp-interactive-image-content"},_attachBehavior:function(){this.$clip=this.$element.find("."+this.options.clipClassName),0===this.$clip.length&&(this.$clip=this.$element),this.$view=this.$element.find("."+this.options.viewClassName),this.$image=this.$element.find("."+this.options.contentClassName),this.imageZoomView=new c(this.$clip,this.$view,this.$image)},getClipBounds:function(){return this.imageZoomView._getClipBounds()},getImageBounds:function(){return this.imageZoomView.getImageBounds()},getZoom:function(){return this.imageZoomView.getZoom()},setZoom:function(e,t){this.imageZoomView.setZoom(e,t)},cover:function(t){t=e.extend({padding:0,horizontalPosition:"center",verticalPosition:"center",complete:void 0,duration:500},t);var i=this.imageZoomView._getClipBounds(),n=this.imageZoomView.getImageBounds(),o=0,r=0,a=i.width,s=i.height,l=Math.max(a/n.width,s/n.height),d=n.width*l,c=n.height*l,p=t.horizontalPosition;"center"===p?o=(d-a)/2:"right"===p&&(o=d-a),"center"===t.verticalPosition?r=(c-s)/2:"bottom"===p&&(r=c-s),o/=d,r/=c,a/=d,s/=c,this.zoomAndCenterRect({x:o,y:r,width:a,height:s},{percentageValues:!0,padding:t.padding,complete:t.complete,duration:t.duration,canScaleUp:t.canScaleUp})},fitAndCenter:function(t){t=e.extend({padding:20,complete:void 0,duration:500},t),this.zoomAndCenterRect({x:0,y:0,width:1,height:1},{percentageValues:!0,padding:t.padding,complete:t.complete,duration:t.duration,canScaleUp:t.canScaleUp})},zoomAndCenter:function(t,i,n,o){o=e.extend({complete:void 0,padding:20,duration:500},o),t=t>0?t:1;var r=this.imageZoomView.getImageBounds(),a=i*r.width,s=n*r.height;this.imageZoomView.scrollRectIntoView({x:a,y:s,width:1,height:1},{zoomLevel:t,padding:o.padding,complete:o.complete,duration:o.duration})},zoomAndCenterRect:function(t,i){var n=e.extend({},t);if((i=e.extend({canScaleUp:!0,padding:20,complete:void 0,duration:500,percentageValues:!1},i)).percentageValues){var o=this.imageZoomView.getImageBounds();n.x=n.x*o.width,n.y=n.y*o.height,n.width=n.width*o.width,n.height=n.height*o.height}this.imageZoomView.scrollRectIntoView(n,{complete:i.complete,duration:i.duration,zoomToFit:!0,canScaleUp:i.canScaleUp,padding:i.padding,center:!0})}});return i.addWidgetConstructorAsjQueryPlugin("wpInteractiveImage",p),p}.apply(t,n))||(e.exports=o)},174:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2),i(393),i(7),i(8),i(10),i(4),i(175)],void 0===(o=function(e,t,n,o,r,a,s,l,d,c){"use strict";var p=new l.default({color:"rebeccapurple",name:"userProfileController"});return new(o.Model.extend({initUserProfile:function(){return this._currentUserProfile?n.resolve():(this._currentUserProfile=new r,this._currentUserProfile.initProfile({useFeaureFlags:!0,dataObj:{},profileId:"spark",type:"spark",logger:p}))},getChangedSettingsToSubmit:function(e){var i={};return t.each(e,function(e,n){"_"!==n.charAt(0)&&("object"!=typeof e||t.isArray(e)?i[n]=e:i[n]="featureFlipperChanges"!==n?this.getChangedSettingsToSubmit(e):e)}.bind(this)),i},setUserSettings:function(e){var i=n.defer();return t.each(e,function(e,t){"enableMarketing"===t&&console.log("try to save "+JSON.stringify(e))}.bind(this)),e=this.getChangedSettingsToSubmit(e),this._currentUserProfile.saveUpdatedProfileSettings(e).then((function(e){i.resolve(e)}),(function(e){i.reject(e)})),i.promise},refreshUserProfile:function(){if(this.userProfileDeferred){if(!this.userProfileDeferred.isFulfilled())return this.userProfileDeferred.promise;delete this.userProfileDeferred}return this.userProfileLoaded()},userProfileLoaded:function(){return this.userProfileDeferred||(this.userProfileDeferred=n.defer(),s.featuresLoaded().then(function(){this.initUserProfile().then(function(){this.userProfileDeferred.resolve(this._currentUserProfile)}.bind(this),function(e){window.marvel.logger.error("Failed to load user profile "+e.status,e),this.userProfileDeferred.reject(e.status)}.bind(this))}.bind(this)).done()),this.userProfileDeferred.promise},getGetNoticedSettings:function(){return this._currentUserProfile.getGetNoticedSettings()},getIsEDUAccount:function(){return this.userProfileLoaded().then(function(){return this._currentUserProfile.isEDUAccount()}.bind(this))},getProfileHomeSettings:function(){return this._getProfileHomeSettingsDefer||(this._getProfileHomeSettingsDefer=n.defer(),this.userProfileLoaded().then(function(){this._getProfileHomeSettingsDefer.resolve(this._currentUserProfile.getProfileHomeSettings())}.bind(this)).done()),this._getProfileHomeSettingsDefer.promise},getProfile:function(){return this._currentUserProfile},getProfileIfLoggedIn:function(){return a.isValid().then(function(){return this.userProfileLoaded().then(function(){return this._currentUserProfile}.bind(this),(function(e){}))}.bind(this),(function(){}))},editSettings:function(e){var i={mode:"edit"};return e&&t.assign(i,e),this._displaySettingsForEdit(i).then((function(e){e&&i.isFeatureFlipperRequest&&document.location.reload()}))},_getUserProfileView:function(){return this._getUserProfileViewDefer||(this._getUserProfileViewDefer=n.defer(),Promise.all([i.e("brand-kit-chooser-view~brand-kit-context-views~brand-kit-editor~slate-web~user-profile-view"),i.e("brand-kit-chooser-view~user-profile-view"),i.e("user-profile-view")]).then(function(e){var t=i(460);this._getUserProfileViewDefer.resolve(t)}.bind(this).bind(null,i)).catch(i.oe)),this._getUserProfileViewDefer.promise},_displaySettingsForEdit:function(e){return this._getUserProfileView().then(function(i){e.fieldIds||(e.fieldIds=["share-default-to-unlisted"],s.hasFeature("user-settings-allow-show-account-info")&&e.fieldIds.push("displayName","avatar","email","entitlement","usertype","udsData","safeSearch"));var o=n.defer();e=t.clone(e),this._mode=e.mode;var r=!1;return e.hideLoadingSpinner||i.showLoadingSpinner().then(function(e){r="canceled"===e}.bind(this)),this.userProfileLoaded().then(function(){return e.isFeatureFlipperRequest?void 0:this._currentUserProfile.emailListSettingsLoaded()}.bind(this)).then(function(a){if(!e.hideLoadingSpinner){if(r)return o.resolve();i.hideLoadingSpinner()}s.hasFeature("show-user-flag-image-source-stock")&&e.fieldIds.push("user-flag-image-source-stock"),t.each(c.imageServices.dooplo,function(t){s.hasFeature(c.imageServices.showFlagPrefixDooplo+t)&&e.fieldIds.push(c.imageServices.flagPrefixDooplo+t)}.bind(this));var l=e.fieldIds.indexOf("share-default-to-unlisted");-1!==l&&(this.getGetNoticedSettings().supported||e.fieldIds.splice(l,1));if(e.ignoreIfExisting&&this._currentUserProfile.lastModified)return o.resolve();var d=n.defer();e.userProfile=this._currentUserProfile,e.canEditNonBooleans=!1,e.closeDefer=d,"success"===a?e.fieldIds.push("spark-newsletter"):"unableToLoadEmailSettingsForQualifiedUser"===a&&(e.unableToLoadEmailSettingsForQualifiedUser=!0),i.editProfile(e).then(function(e){e?this.setUserSettings(e).then(function(e){d.resolve(!0),o.resolve(e)}.bind(this),function(e){o.reject(e)}.bind(this)):(d.resolve(!0),o.resolve())}.bind(this),(function(e){p.error("editProfile had error",e),o.reject(e)})).done()}.bind(this),(function(e){o.reject(e)})).done(),o.promise}.bind(this))}}))}.apply(t,n))||(e.exports=o)},175:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(128),i(10)],void 0===(o=function(e,t,i,n,o,r){"use strict";new r.default({color:"periwinkle",name:"imageUtils"});return new(i.Model.extend({imageServices:{nonDooplo:["stock"],dooplo:["flickr","unsplash","pixabay","the-noun-project","bing"],flagPrefixDooplo:"user-flag-image-source-dooplo-",showFlagPrefixDooplo:"show-user-flag-image-source-dooplo-"},_convertUrlToBlob:function(e,t,i){var r=n.defer(),a=new Image;return i&&a.setAttribute("crossOrigin","anonymous"),a.onload=function(e){var i=document.createElement("canvas"),n=i.getContext("2d");i.width=this.width,i.height=this.height,n.drawImage(this,0,0,this.width,this.height);try{r.resolve(o(i.toDataURL(t||"image/png")))}catch(e){r.reject(e)}},a.onerror=function(e){r.reject(e)},a.src=e,r.promise},convertUrlToBlob:function(e,t){return this._convertUrlToBlob(e,t,!1).then((function(e){return e}),function(i){return this._convertUrlToBlob(e,t,!0).then((function(e){return e}),(function(e){return n.reject(e)}))}.bind(this))},convertRenditionUrlToBlob:function(e,t,i){i=i||"jpg";var n=t;return e=e.replace("{format}",i).replace("{dimension}","width").replace("{size}",n),this.convertUrlToBlob(e).then(function(e){return e}.bind(this),function(e){return null}.bind(this))},getDataUrl:function(e){var t=n.defer(),i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0);try{t.resolve(e.toDataURL("image/png"))}catch(e){t.reject(e)}},i.onerror=function(e){t.reject(e)},i.src=e,t.promise}}))}.apply(t,n))||(e.exports=o)},2513:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(427),i(2520),i(2555),i(262),i(9),i(2568)],void 0===(o=function(e,t,i,n,o,r,a,s,l){"use strict";window.$=window.jQuery=e,window.slateStorage=n,window.slateEvents={postMessage:function(e){return d.receiveMessage(e)}},window.addEventListener("message",(function(e){"adobe-spark-page-editor"===e.data.__slateSource__&&d.receiveMessage(e.data)}));var d={theme:"",receiveMessage:function(e){return this.editSession?this.editSession.receiveMessage(e):void 0},_init:function(e){this.router=new l(e.subPage),this.router.on("route",this.handleRouter,this),this.editSession=new o(this.router)},initSimplePreview:function(e){this.editSession=new r(e)},handleRouter:function(e){switch(e){case"edit":this.editSession.closePreview();break;case"preview":this.editSession.showPreview()}},_beforeAppUnload:function(){var o=i.defer(),r=!1,l=!1;return t.delay(function(){r||(l=!0,marvel.events.trigger("mrvl-hide-global-nav"),e(".slate .saving-overlay").addClass("showing"),this.editSession.saveEditorCaretState(),this.editSession.restoreEditorCaretState(!0))}.bind(this),250),n.storageManager().waitForQuiet(n.currentDoc,function(e){return e.isMidCommit()||e._commitQueue.length>0||a.inProgress()||this.editSession.isSavingContent()||this.editSession.hasUnsavedContent()||this.editSession._isSavingTitleImage}.bind(this)).then(function(e){r=!0,s.clearProjectId(),l&&this.editSession._handleHidePopup(),o.resolve()}.bind(this)),o.promise},_remove:function(){this.router.off(),this.router.removePageHandlers(),this.editSession&&(this.editSession.destroy(),this.editSession=null,n.editorUnloadFinished())},getSlateThumbnailDataURL:function(e,t,i,n,o){var r=document.createElement("img");i&&(r.onload=function(){var i,a,s,l=r.width/r.height,d=e/t,c=document.createElement("canvas"),p=0,h=0;d<l?(i=t,a=Math.floor(i*l),p=Math.floor((e-a)/2)):(a=e,i=Math.floor(a/l),h=Math.floor((t-i)/2)),c.width=e,c.height=t,c.getContext("2d").drawImage(r,p,h,a,i);try{s=c.toDataURL("image/jpg"),console.log("Title image url = ",s),n(s)}catch(e){o&&o()}},r.onerror=function(e){o&&o()},r.src=i)}};return window.AppShell=d,d}.apply(t,n))||(e.exports=o)},2514:function(e,t,i){var n,o;n=[i(3),i(0),i(2515),i(1408),i(93),i(548),i(1),i(517),i(2518),i(2519),i(571),i(1112),i(266)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h){var u=!1,g=function(e,t){if("number"!=typeof e&&!e)throw new Error("Must call px with at least one string or number param");if("number"==typeof e)return e;if(-1!=e.search(/em/)&&!t)return 16*parseFloat(e);if(-1!=e.search(/^-?[0-9\.]*$/)&&t)return parseFloat(e)*t;if(-1!=e.search(/^-?[0-9\.]*$/)||-1!=e.search(/^-?[0-9\.]*px$/))return parseFloat(e);if(-1!=e.search(/\%/)&&"number"==typeof t)return parseFloat(e)/100*t;if(-1!=e.search(/em/)&&"number"==typeof t)return parseFloat(e)*t;throw new Error("Cannot convert "+e+" (with percentOf "+t+") to pixels")},m=function(){};return m.prototype={generate:function(t){console.log("[embed generate start]");var i,o,r,s=this,l=(t=t||{}).title||"",d=t.subtitle||"",c=t.backgroundImage,p=t.titlePosition||"center",h=t.imagePosition,u=t.authoringContext,g=(e(t.appendTo),e(t.el)),m=t.width,f=t.height;return a().then((function(){if(h){var e=h.split(" ");h={x:parseFloat(e[0])/100,y:parseFloat(e[1])/100}}r=n.get(t.theme)||t.theme;var a=p.replace(/^title-/,"").split("-"),l=a[0],d=a[1];return p={},2==a.length?(p.x=d,p.y=l):(p.x="top"!=l&&"bottom"!=l?l:"center",p.y="left"!=l&&"right"!=l?l:"center"),g.length?(s.canvas=i=g[0],o=s.ctx):(s.canvas=i=document.createElement("canvas"),i.width=m,i.height=f,s.ctx=o=i.getContext("2d"),i.className="generator"),o.fillStyle="#9aa6af",o.fillRect(0,0,m,f),s.loadFonts(r,u)})).then((function(){console.log("[embed generate fonts loaded]");var e=s.parseTheme(r);return console.log("[embed generate theme parsed ("+e.name+")]"),c?s.drawImage(c,h,m,f,e).thenResolve(e):e})).then((function(e){console.log("[embed generate bg image drawn]"),l="uppercase"==e.titleTextTransform?l.toUpperCase():l,d="uppercase"==e.subtitleTextTransform?d.toUpperCase():d;var t=s.computeBox(l,d,m,f,p,e);if(l||d||"vintage"==e.name)return s.drawGradientOverlay(t,m,f,p,e),s.drawTitleAndSubtitle(l,d,t,p,m,f,e).then((function(){if("whimsy"==e.name)return s.drawWhimsyGlyph(t,p,m,f,e)}))})).then((function(){return console.log("[embed generate done]"),i.toDataURL("image/jpeg")}))},computeBox:function(e,t,i,n,o,r){var a=this.ctx,s=!e.replace(/\s/g,"").length,d=!t.replace(/\s/g,"").length,c=o.x||"center",p=o.y||"center",h=g(r.titleHeaderMarginTop),u=g(r.titleHeaderMarginBottom),m=g(r.titleHeaderMarginLeft,i),f=g(r.titleHeaderMarginRight,i),v=g(r.titleHeaderPaddingTop),b=g(r.titleHeaderPaddingBottom),w=g(r.titleHeaderPaddingLeft,i);"center"==c&&r.titleHeaderPaddingLeftAlignedCenter&&(w=g(r.titleHeaderPaddingLeftAlignedCenter,i)),"left"==c&&r.titleHeaderPaddingLeftAlignedLeft&&(w=g(r.titleHeaderPaddingLeftAlignedLeft,i)),"right"==c&&r.titleHeaderPaddingLeftAlignedRight&&(w=g(r.titleHeaderPaddingLeftAlignedRight,i));var k=g(r.titleHeaderPaddingRight,i);"center"==c&&r.titleHeaderPaddingRightAlignedCenter&&(k=g(r.titleHeaderPaddingRightAlignedCenter,i)),"left"==c&&r.titleHeaderPaddingRightAlignedLeft&&(k=g(r.titleHeaderPaddingRightAlignedLeft,i)),"right"==c&&r.titleHeaderPaddingRightAlignedRight&&(k=g(r.titleHeaderPaddingRightAlignedRight,i));var x=g(r.titleBorderTopWidth),y=g(r.titleBorderBottomWidth),S=g(r.subtitleBorderTopWidth),_=g(r.subtitleBorderBottomWidth),C=g(r.titleFontSize),T=g(r.titleLineHeight,C),I=g(r.titleLineHeight),P=g(r.titleMaxHeight||1,1),D=g(r.subtitleFontSize),F=g(r.subtitleLineHeight,D),R=g(r.subtitleLineHeight),A=g(r.subtitleMaxHeight||1,1),B=g(r.titleMarginTop),L=g(r.titlePaddingTop),E=g(r.titlePaddingBottom),M=g(r.titleMarginBottom),z=g(r.subtitleMarginTop),U=g(r.subtitlePaddingTop),O=g(r.subtitlePaddingBottom),H=g(r.subtitleMarginBottom),$=i-m-w-k-f;r.titleHeaderMaxWidth&&($=g(r.titleHeaderMaxWidth,i));var W=$;r.titleMaxWidth&&(W=g(r.titleMaxWidth,$));var N=$;r.subtitleMaxWidth&&(N=g(r.subtitleMaxWidth,$));var j=a.font=r.titleFontStyle+" "+r.titleFontWeight+" "+r.titleFontSize+" "+r.titleFontFace,G=l.autoSizeText(e,g(r.titleFontSize),a,j,W,P,I);C=G.fontSize;var V=g(r.titleMaxHeight,C);T=I*C,j=l.swapFontSize(C,j);var q=l.getLines(a,e,W,j),X=Math.max.apply(void 0,q.map((function(e){return e.width}))),J=0;s||(J=x+L+q.length*T+E+y);var Y=a.font=r.subtitleFontStyle+" "+r.subtitleFontWeight+" "+r.subtitleFontSize+" "+r.subtitleFontFace;D=l.autoSizeText(t,g(r.subtitleFontSize),a,Y,N,A,R,G.scale).fontSize;var Q=g(r.subtitleMaxHeight,D);F=R*D,Y=l.swapFontSize(D,Y);var Z,K=l.getLines(a,t,N,Y),ee=Math.max.apply(void 0,K.map((function(e){return e.width})));Z=d?0:s?K.length*F:S+U+K.length*F+O+_;var te,ie=Math.max(X,ee),ne=m+w+ie+k+f,oe=h+v+(te=s&&d?0:s?Z:d?J:B+J+M+z+Z+H)+b+u,re=w+ie+k,ae=v+te+b,se=0;switch(c){case"left":se=0;break;case"center":se=(i-ne)/2;break;case"right":se=i-ne}var le=0;switch(p){case"top":le=0;break;case"center":le=(n-oe)/2;break;case"bottom":le=n-oe}for(var de=le+h,ce=se+m,pe=ce+w,he=de+v,ue=[],ge=0,me=q.length;ge<me;ge++)ue[ge]=0;var fe=[];for(ge=0,me=K.length;ge<me;ge++)fe[ge]=0;switch(c){case"center":for(ge=0,me=Math.max(K.length,q.length);ge<me;ge++){var ve=q[ge];ve&&(ue[ge]=(ie-ve.width)/2);var be=K[ge];be&&(fe[ge]=(ie-be.width)/2)}break;case"right":for(ge=0,me=q.length;ge<me;ge++)ue[ge]=ie-q[ge].width;for(ge=0,me=K.length;ge<me;ge++)fe[ge]=ie-K[ge].width}var we=[];for(ge=0,me=ue.length;ge<me;ge++)we[ge]=pe+ue[ge];var ke=Math.min.apply(void 0,we),xe=he+B+L,ye=0,Se={"top-bottom-rule":{base:-10,max:10},"middle-rule":{base:0,max:10},"solid-box":{base:-20,max:10},"border-box":{base:-20,max:10},"color-band":{base:-20,max:10}};if(r.titleTreatment&&Se[r.titleTreatment]){var _e=Se[r.titleTreatment],Ce=_e.base,Te=_e.max;r.titlePaddingShiftRatio>.5?ye=Ce+Te*((r.titlePaddingShiftRatio-.5)/.5):r.titlePaddingShiftRatio<.5?ye=Ce+Te*(0-(.5-r.titlePaddingShiftRatio)/.5):r.titlePaddingShiftRatio&&(ye=0)}var Ie=[];for(ge=0,me=fe.length;ge<me;ge++)Ie[ge]=pe+fe[ge];return{outerBoxTop:le,outerBoxLeft:se,outerBoxWidth:ne,outerBoxHeight:oe,boxTop:de,boxLeft:ce,boxWidth:re,boxHeight:ae,innerTop:he,innerLeft:pe,innerWidth:ie,innerHeight:te,titleFontSize:C,titleTextOffset:ye,titleTop:xe,titleLeft:ke,titleLefts:we,titleWidth:X,titleHeight:J,titleMaxWidth:W,titleMaxHeight:V,subtitleFontSize:D,subtitleTop:he+(s?0:B+L+J+E+M+z+U),subtitleLeft:Math.min.apply(void 0,Ie),subtitleLefts:Ie,subtitleWidth:ee,subtitleHeight:Z,subtitleMaxWidth:N,subtitleMaxHeight:Q}},drawGradientOverlay:function(e,t,i,n,o){var r,a=this.ctx,s=n.y||"center",l=s.charAt(0).toUpperCase()+s.slice(1),d=0,c=0,p=0,h=parseInt(o["gradientAngleAligned"+l]),u=o.gradientStops[s];if(a.save(),u){var m;if(o.gradientFull)m=0,0,90==h&&(d=t),a.rect(0,0,t,i),r=a.createLinearGradient(0,p,d,c);else{m=g(o["gradientTopAligned"+l]||"0%",e.boxHeight);var f=g(o["gradientBottomAligned"+l]||"0%",e.boxHeight);0!==h&&-270!==h||(p=e.boxTop,c=e.boxTop+e.boxHeight),p+=m,c-=f,a.rect(0,p,t,c-p),r=a.createLinearGradient(d,c,0,p)}if(u){for(var v=0,b=u.length;v<b;v++){var w=u[v];r.addColorStop(w.percent,w.color)}a.fillStyle=r,a.fill()}a.restore()}else if(o.titleHeaderBackground){g(o.titleHeaderMarginLeft,t),g(o.titleHeaderMarginRight,t),g(o.titleHeaderMarginTop),g(o.titleHeaderMarginBottom),g(o.titleHeaderPaddingLeft,t),g(o.titleHeaderPaddingRight,t),g(o.titleHeaderPaddingTop),g(o.titleHeaderPaddingBottom);var k=e.boxLeft,x=e.boxTop,y=e.boxWidth,S=e.boxHeight;if("wesley"==o.name&&(k=0,y=t),a.fillStyle=o.titleHeaderBackground,a.fillRect(k,x,y,S),o.titleHeaderBorderWidth&&o.titleHeaderBorderColor){a.fillStyle=o.titleHeaderBorderColor;var _=g(o.titleHeaderBorderWidth);a.fillRect(k,x,y,_),a.fillRect(k,x+S-_,y,_),a.fillRect(k,x+_,_,S-2*_),a.fillRect(k+y-_,x+_,_,S-2*_)}}},drawTitleAndSubtitle:function(e,t,i,n,o,s,d){n.y,n.x;var c,p=!e.replace(/\s/g,"").length,h=!t.replace(/\s/g,"").length,u=this.ctx,m=[];if(!d.titleTextShadow0X&&d.titleTextShadowX)m=[{x:g(d.titleTextShadowX,i.titleFontSize),y:g(d.titleTextShadowY,i.titleFontSize),blur:g(d.titleTextShadowBlur,i.titleFontSize)||0,color:d.titleTextShadowColor}];else for(c=0;d["titleTextShadow"+c+"X"];)m.push({x:g(d["titleTextShadow"+c+"X"]||0,i.titleFontSize),y:g(d["titleTextShadow"+c+"Y"]||0,i.titleFontSize),blur:g(d["titleTextShadow"+c+"Blur"]||0,i.titleFontSize),color:d["titleTextShadow"+c+"Color"]||"transparent"}),c++;var f=[];if(!d.subtitleTextShadow0X&&d.subtitleTextShadowX)f=[{x:g(d.subtitleTextShadowX,i.subtitleFont),y:g(d.subtitleTextShadowY,i.subtitleFont),blur:g(d.subtitleTextShadowBlur,i.subtitleFont)||0,color:d.subtitleTextShadowColor}];else for(c=0;d["subtitleTextShadow"+c+"X"];)f.push({x:g(d["subtitleTextShadow"+c+"X"]||0,i.subtitleFont),y:g(d["subtitleTextShadow"+c+"Y"]||0,i.subtitleFont),blur:g(d["subtitleTextShadow"+c+"Blur"]||0,i.subtitleFont),color:d["subtitleTextShadow"+c+"Color"]||"transparent"}),c++;"nightcap"==d.name&&h?u.textBaseline="hanging":"wesley"==d.name?u.textBaseline="hanging":"tereza"==d.name&&h?u.textBaseline="hanging":"whimsy"==d.name&&h?u.textBaseline="hanging":"crisp"!=d.name||p||h?(d.name,u.textBaseline="top"):u.textBaseline="hanging";g(d.titleHeaderPaddingLeft,o),g(d.titleHeaderPaddingRight,o);var v=u.font=d.titleFontStyle+" "+d.titleFontWeight+" "+i.titleFontSize+"px "+d.titleFontFace,b=u.font=d.subtitleFontStyle+" "+d.subtitleFontWeight+" "+i.subtitleFontSize+"px "+d.subtitleFontFace;return a.all([r.fontCanvas(this.canvas,this.canvas.width,this.canvas.height,v),r.fontCanvas(this.canvas,this.canvas.width,this.canvas.height,b)]).then((function(){var n,o,r,a,s,p,h=g(d.titleLineHeight,i.titleFontSize),b=l.getLines(u,e,i.titleMaxWidth,v),w=i.titleLefts;if(d.titleBorderTopColor&&(a=g(d.titleBorderTopWidth),s=i.titleLeft,p=i.innerTop,u.fillStyle=d.titleBorderTopColor,u.fillRect(s,p,i.titleWidth,a)),d.titleBorderBottomColor&&(a=g(d.titleBorderBottomWidth),s=i.titleLeft,p=i.innerTop+g(d.titlePaddingTop)+i.titleHeight+g(d.titlePaddingBottom),u.fillStyle=d.titleBorderBottomColor,u.fillRect(s,p,i.titleWidth,a)),u.fillStyle=d.titleFontColor,m.length)for(c=0,k=m.length;c<k;c++)for(o=m[c],u.shadowOffsetX=o.x,u.shadowOffsetY=o.y,u.shadowBlur=o.blur,u.shadowColor=o.color,r=0,x=b.length;r<x;r++)n=b[r].text,u.fillStyle=k-c==1?d.titleFontColor:d.titleHeaderBackground||"transparent",u.fillText(n,w[r],i.titleTop+r*h+i.titleTextOffset);else for(u.shadowColor="transparent",c=0,k=b.length;c<k;c++)n=b[c].text,u.fillText(n,w[c],i.titleTop+c*h+i.titleTextOffset);u.fillStyle=d.subtitleFontColor;var k,x,y=u.font=d.subtitleFontStyle+" "+d.subtitleFontWeight+" "+i.subtitleFontSize+"px "+d.subtitleFontFace,S=g(d.subtitleLineHeight,i.subtitleFontSize),_=l.getLines(u,t,i.subtitleMaxWidth,y),C=i.subtitleLefts;if(d.subtitleBorderTopColor){var T=g(d.subtitleBorderTopWidth);u.fillStyle=d.subtitleBorderTopColor,u.fillRect(i.subtitleLeft,i.subtitleTop+i.subtitleHeight-T,i.subtitleWidth,T)}if(d.subtitleBorderBottomColor){var I=g(d.subtitleBorderBottomWidth);u.fillStyle=d.subtitleBorderBottomColor,u.fillRect(i.subtitleLeft,i.subtitleTop+i.subtitleHeight-I,i.subtitleWidth,I)}if("crisp"!=d.name&&"wesley"!=d.name||(u.textBaseline="top"),f.length)for(c=0,k=f.length;c<k;c++)for(o=f[c],u.shadowOffsetX=o.x,u.shadowOffsetY=o.y,u.shadowBlur=o.blur,u.shadowColor=o.color,r=0,x=_.length;r<x;r++)n=_[r].text,u.fillStyle=k-c==1?d.subtitleFontColor:d.titleHeaderBackground||"transparent",u.fillText(n,C[r],i.subtitleTop+r*S);else for(u.shadowColor="transparent",c=0,k=_.length;c<k;c++)n=_[c].text,u.fillText(n,C[c],i.subtitleTop+c*S)}))},drawWhimsyGlyph:function(e,t,i,n,o){var r=a.defer(),s=this.ctx,l=(t.y,t.x),d=e.innerLeft,p=e.innerTop+e.innerHeight+16;"center"==l?d=(i-375)/2:"right"==l&&(d=e.innerLeft+e.innerWidth-375);var h=new Image,u=o.whimsyGlyphColor||"#fff";return h.src=c.getAssetAsCSSUrl("whimsy:title",{color:u}).replace(/url\('?/,"").replace(/'?\)$/,""),h.onload=function(){s.drawImage(h,d,p,375,15.3),r.resolve()},r.promise},preloadImage:function(e){var t=a.defer(),i=new Image;return i.src=e,i.onload=function(){t.resolve(i)},i.onerror=function(){t.reject(new Error("Load error in preloadImage:"+e))},t.promise},drawImage:function(e,t,i,n,o){var r=this.ctx;return this.preloadImage(e).then((function(e){var a=e.width,s=e.height,l=a/s,d=i/n;d<=l?a=(s=n)*l:d>l&&(s=(a=i)/l);var c=t.x,p=t.y,h=a*c,u=s*p,g=i*c,m=n*p,f=Math.round(Math.min(g-h,h-g)),v=Math.round(Math.min(m-u,u-m));if(r.drawImage(e,f,v,a,s),"vintage"==o.name){for(var b=r.getImageData(0,0,i,n),w=b.data,k=0,x=w.length;k<x;k+=4){var y=.3*w[k]+.59*w[k+1]+.11*w[k+2];w[k]=y,w[k+1]=y,w[k+2]=y}r.putImageData(b,0,0,0,0,i,n)}}))},loadFonts:function(e,r){var s=a.defer(),l=n.getTypekitPreviewFonts(e.name),d=n.getTypekitId(e.name);if(l)u||(window.TypekitPreview.setup({auth_id:"slte",auth_token:"Hik3Pm6JnhEwLxQ0zehfgHbPDnVkFnfVeM5Dl15HLM9Nvtt1z6Zcx%2FCrp%2Ba6IPG%2F4rar1RfQpMk18PnaqVj5UR3JusyvaDexkb4zuYwE6edbEtYVoeY8I0RGujcBA982%2FgXgDjNyLWrd6f8i%2FsbDs1mQLbIorXyId0bC0yU2kZo%3D"}),u=!0),window.TypekitPreview.load(l,{active:function(){s.resolve()},inactive:function(e){s.reject(e)}});else if(d)i.load({typekit:{id:d},active:function(){s.resolve()},inactive:function(e){s.reject(e)}});else{var c=[],p=[],g=[];o.inject().then((function(){return o.getFontRegistry()})).then((function(n){for(var o in e.components)if(e.components.hasOwnProperty(o)){var a,l=e.components[o];for(var d in l)if(l.hasOwnProperty(d)){var u=l[d];u.text&&"object"==typeof u.text&&(a=u.text)&&a.fontFamily&&c.push(a.fontFamily)}(a=l.text)&&a.fontFamily&&c.push(a.fontFamily)}for(var m=n.sparkfonts,f=0,v=c.length;f<v;f++){var b=c[f];for(var w in m)if(m.hasOwnProperty(w)){var k=m[w];k.cssName==b&&p.push(k.typekitSubgroupKitId)}}p=t.uniq(p),g=h.getCustomFontsInTheme(r,e);var x=p.length+g.length,y={},S=0;console.log("[embed generate fonts identified: "+JSON.stringify(p)+"]");var _=function(e){y[e]||(console.log("[embed generate loaded font "+e+"]"),y[e]=!0,S++),S>=x&&s.resolve()};x?(t.each(p,(function(e){console.log("[embed generate loading font "+e+"]"),i.load({typekit:{id:e},fontactive:function(){_(e)},active:function(){_(e)},fontinactive:function(t){console.log("[embed generate font error "+e+" "+t+"]"),s.reject(t)},inactive:function(t){console.log("[embed generate load font error "+e+" "+t+"]"),s.reject(t)}})})),t.each(g,(function(e){console.log("[embed generate loading brand font "+e.getId()+"]"),e.loadFont().then((function(){_(e.getId())}))}))):s.resolve()}))}return s.promise},parseTheme:function(e){var i,o=(e.name||"").toLowerCase();if(n.usesOwnFonts(e)&&(i=d[o]))return i;i={name:o};var r,a,l=d.crisp,c=e.components.titleSection;if(c){var h,u=c.title,g=c.subtitle,m=c.treatment;if(m){var f=m.type;i.titleTreatment=f;var v={"middle-rule":.75,"border-box":.5,"solid-box":.8,"color-band":.3}[f]||1,b={"border-box":.5}[f]||1;if("border-box"==f||"solid-box"==f||"color-band"==f){i.titleTextShadowX="2px",i.titleTextShadowY="2px",i.titleTextShadowBlur="2px",i.titleTextShadowColor="rgba(0,0,0,0.25)";var w=m.backgroundColor;w&&(w=m.backgroundColor.value,i.titleHeaderBackground="rgba("+w.r+","+w.g+","+w.b+","+v+")");var k=m.borderColor;k&&(k=m.borderColor.value,i.titleHeaderBorderColor="rgba("+k.r+","+k.g+","+k.b+","+b+")")}if("border-box"==f?(l=d.nightcap,i.titleHeaderBorderWidth="2px"):"solid-box"==f?(l=d.nightcap,i.titleHeaderBorderWidth="0px"):"color-band"==f&&(l=d.wesley,i.titleHeaderBorderWidth="0px"),"top-bottom-rule"==f&&(l=d.luca,(r=m.color)&&(a="rgba("+(r=m.color.value).r+","+r.g+","+r.b+","+v+")",i.titleBorderTopColor=a,i.titleBorderBottomColor=a)),"middle-rule"==f&&(l=d.baldwin,(r=m.color)&&(a="rgba("+(r=m.color.value).r+","+r.g+","+r.b+","+v+")",i.titleBorderBottomColor=a,i.titleBorderBottomWidth="3px"),i.titlePaddingBottom="16px"),"whimsy"==f&&(l=d.whimsy,i.name="whimsy",r=m.color)){r=m.color.value;var x=s.rgbToHex(r);i.whimsyGlyphColor=x}"vintage"==f&&(l=d.vintage)}if(u){var y=u.text.fontFamily||"futura-pt";(h=p[y])&&(i.titlePaddingShiftRatio=h.data.title.paddingShiftRatio,i.titleFontSize=h.data.title.fontSize),i.titleFontFace=y,i.titleFontWeight=u.text.fontWeight,i.titleFontStyle=u.text.fontStyle,i.titleTextTransform=u.text.textTransform;var S=u.color.value;i.titleFontColor="rgb("+S.r+","+S.g+","+S.b+")"}if(g){var _=g.text.fontFamily||"futura-pt";(h=p[_])&&(i.subtitlePaddingShiftRatio=h.data.subtitle.paddingShiftRatio,i.subtitleFontSize=h.data.subtitle.fontSize),i.subtitleFontFace=_,i.subtitleFontWeight=g.text.fontWeight,i.subtitleFontStyle=g.text.fontStyle,i.subtitleTextTransform=g.text.textTransform;var C=g.color.value;i.subtitleFontColor="rgb("+C.r+","+C.g+","+C.b+")"}}return t.defaults(i,l)}},{generate:function(){var e=new m;return e.generate.apply(e,arguments)}}}.apply(t,n))||(e.exports=o)},2515:function(e,t,i){var n;void 0===(n=function(){return function(e,t,i){function n(e,t,i){return e.call.apply(e.bind,arguments)}function o(e,t,i){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function r(e,t,i){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};function s(e,t){this.K=e,this.w=t||e,this.G=this.w.document}function l(e,i,n){(e=e.G.getElementsByTagName(i)[0])||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(n,e.lastChild)}function d(e,t,i){t=t||[],i=i||[];for(var n=e.className.split(/\s+/),o=0;o<t.length;o+=1){for(var r=!1,a=0;a<n.length;a+=1)if(t[o]===n[a]){r=!0;break}r||n.push(t[o])}for(t=[],o=0;o<n.length;o+=1){for(r=!1,a=0;a<i.length;a+=1)if(n[o]===i[a]){r=!0;break}r||t.push(n[o])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(e,t){for(var i=e.className.split(/\s+/),n=0,o=i.length;n<o;n++)if(i[n]==t)return!0;return!1}function p(e){if("string"==typeof e.na)return e.na;var t=e.w.location.protocol;return"about:"==t&&(t=e.K.location.protocol),"https:"==t?"https:":"http:"}function h(e,t){var i=e.createElement("link",{rel:"stylesheet",href:t,media:"all"}),n=!1;i.onload=function(){n||(n=!0)},i.onerror=function(){n||(n=!0)},l(e,"head",i)}function u(t,i,n,o){var r=t.G.getElementsByTagName("head")[0];if(r){var a=t.createElement("script",{src:i}),s=!1;return a.onload=a.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&r.removeChild(a))},r.appendChild(a),e.setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),o||5e3),a}return null}function g(e,t){this.Y=e,this.ga=t}function m(e,t,i,n){this.c=null!=e?e:null,this.g=null!=t?t:null,this.D=null!=i?i:null,this.e=null!=n?n:null}s.prototype.createElement=function(e,t,i){if(e=this.G.createElement(e),t)for(var n in t)t.hasOwnProperty(n)&&("style"==n?e.style.cssText=t[n]:e.setAttribute(n,t[n]));return i&&e.appendChild(this.G.createTextNode(i)),e};var f=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;function v(e){var t=null,i=null,n=null,o=null;return(e=f.exec(e))&&(null!==e[1]&&e[1]&&(t=parseInt(e[1],10)),null!==e[2]&&e[2]&&(i=parseInt(e[2],10)),null!==e[3]&&e[3]&&(n=parseInt(e[3],10)),null!==e[4]&&e[4]&&(o=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new m(t,i,n,o)}function b(e,t,i,n,o,r,a,s){this.N=e,this.k=s}function w(e){this.a=e}m.prototype.compare=function(e){return this.c>e.c||this.c===e.c&&this.g>e.g||this.c===e.c&&this.g===e.g&&this.D>e.D?1:this.c<e.c||this.c===e.c&&this.g<e.g||this.c===e.c&&this.g===e.g&&this.D<e.D?-1:0},m.prototype.toString=function(){return[this.c,this.g||"",this.D||"",this.e||""].join("")},b.prototype.getName=function(){return this.N};var k=new b("Unknown",0,0,0,0,0,0,new g(!1,!1));function x(e){var t=_(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):""!=(e=_(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1))?("Mac_PowerPC"==e?e="Macintosh":"PlayStation"==e&&(e="Linux"),e):"Unknown"}function y(e){if((t=_(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2))||(t=_(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=_(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=_(e.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var t=t.split(/\s/),i=0;i<t.length;i+=1)if(/^[\d\._]+$/.test(t[i]))return t[i];return(e=_(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function S(e){var t=x(e),i=v(y(e)),n=v(_(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),o="Unknown",r=new m;r="Unknown";return/OPR\/[\d.]+/.test(e.a)?o="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?o="Chrome":/Silk\/\d/.test(e.a)?o="Silk":"BlackBerry"==t||"Android"==t?o="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?o="PhantomJS":-1!=e.a.indexOf("Safari")?o="Safari":-1!=e.a.indexOf("AdobeAIR")?o="AdobeAIR":-1!=e.a.indexOf("PlayStation")&&(o="BuiltinBrowser"),"BuiltinBrowser"==o?r="Unknown":"Silk"==o?r=_(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==o?r=_(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?r=_(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==o?r=_(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==o?r=_(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==o&&(r=_(e.a,/PhantomJS\/([\d.]+)/,1)),r=v(r),new b(o,0,0,0,0,0,0,new g("AdobeAIR"==o?2<r.c||2==r.c&&5<=r.g:"BlackBerry"==t?10<=i.c:"Android"==t?2<i.c||2==i.c&&1<i.g:526<=n.c||525<=n.c&&13<=n.g,536>n.c||536==n.c&&11>n.g))}function _(e,t,i){return(e=e.match(t))&&e[i]?e[i]:""}function C(e){this.ma=e||"-"}function T(e,t){this.N=e,this.Z=4,this.O="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.O=i[1],this.Z=parseInt(i[2],10))}function I(e){return e.O+e.Z}function P(e){var t=4,i="n",n=null;return e&&((n=e.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=e.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?t=7:/[1-9]00/.test(n[1])&&(t=parseInt(n[1].substr(0,1),10)))),i+t}function D(e,t){this.d=e,this.q=e.w.document.documentElement,this.Q=t,this.j="wf",this.h=new C("-"),this.ha=!1!==t.events,this.F=!1!==t.classes}function F(e){if(e.F){var t=c(e.q,e.h.e(e.j,"active")),i=[],n=[e.h.e(e.j,"loading")];t||i.push(e.h.e(e.j,"inactive")),d(e.q,i,n)}R(e,"inactive")}function R(e,t,i){e.ha&&e.Q[t]&&(i?e.Q[t](i.getName(),I(i)):e.Q[t]())}function A(){this.C={}}function B(e,t){this.d=e,this.I=t,this.o=this.d.createElement("span",{"aria-hidden":"true"},this.I)}function L(e,t){var i,n=e.o;i=[];for(var o=t.N.split(/,\s*/),r=0;r<o.length;r++){var a=o[r].replace(/['"]/g,"");-1==a.indexOf(" ")?i.push(a):i.push("'"+a+"'")}i=i.join(","),o="normal","o"===t.O?o="oblique":"i"===t.O&&(o="italic"),n.style.cssText="display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+i+";font-style:"+o+";font-weight:"+t.Z+"00;"}function E(e){l(e.d,"body",e.o)}function M(e,t,i,n,o,r,a,s){this.$=e,this.ka=t,this.d=i,this.m=n,this.k=o,this.I=s||"BESbswy",this.v={},this.X=r||3e3,this.ca=a||null,this.H=this.u=this.t=null,this.t=new B(this.d,this.I),this.u=new B(this.d,this.I),this.H=new B(this.d,this.I),L(this.t,new T("serif",I(this.m))),L(this.u,new T("sans-serif",I(this.m))),L(this.H,new T("monospace",I(this.m))),E(this.t),E(this.u),E(this.H),this.v.serif=this.t.o.offsetWidth,this.v["sans-serif"]=this.u.o.offsetWidth,this.v.monospace=this.H.o.offsetWidth}w.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=x(this);var t=v(y(this)),i=null,n=_(this.a,/Trident\/([\d\w\.]+)/,1);i=-1!=this.a.indexOf("MSIE")?v(_(this.a,/MSIE ([\d\w\.]+)/,1)):v(_(this.a,/rv:([\d\w\.]+)/,1));""!=n&&v(n),e=new b("MSIE",0,0,0,0,0,0,new g("Windows"==e&&6<=i.c||"Windows Phone"==e&&8<=t.c,!1))}else if(-1!=this.a.indexOf("Opera"))e:if(e=v(_(this.a,/Presto\/([\d\w\.]+)/,1)),v(y(this)),null!==e.c||v(_(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))e=v(_(this.a,/Opera Mini\/([\d\.]+)/,1)),e=new b("OperaMini",0,0,0,x(this),0,0,new g(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&null!==(e=v(_(this.a,/Version\/([\d\.]+)/,1))).c){e=new b("Opera",0,0,0,x(this),0,0,new g(10<=e.c,!1));break e}e=null!==(e=v(_(this.a,/Opera[\/ ]([\d\.]+)/,1))).c?new b("Opera",0,0,0,x(this),0,0,new g(10<=e.c,!1)):new b("Opera",0,0,0,x(this),0,0,new g(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?e=S(this):/AppleWeb(K|k)it/.test(this.a)?e=S(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new m,v(y(this)),t=!1,-1!=this.a.indexOf("Firefox")?(e="Firefox",t=3<=(t=v(_(this.a,/Firefox\/([\d\w\.]+)/,1))).c&&5<=t.g):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),i=v(_(this.a,/rv:([^\)]+)/,1)),t||(t=1<i.c||1==i.c&&9<i.g||1==i.c&&9==i.g&&2<=i.D),e=new b(e,0,0,0,x(this),0,0,new g(t,!1))):e=k;return e},C.prototype.e=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.ma)},T.prototype.getName=function(){return this.N},B.prototype.remove=function(){var e=this.o;e.parentNode&&e.parentNode.removeChild(e)};var z={sa:"serif",ra:"sans-serif",qa:"monospace"};function U(e,t,i){for(var n in z)if(z.hasOwnProperty(n)&&t===e.v[z[n]]&&i===e.v[z[n]])return!0;return!1}function O(e){var t=e.t.o.offsetWidth,i=e.u.o.offsetWidth;t===e.v.serif&&i===e.v["sans-serif"]||e.k.ga&&U(e,t,i)?a()-e.oa>=e.X?e.k.ga&&U(e,t,i)&&(null===e.ca||e.ca.hasOwnProperty(e.m.getName()))?H(e,e.$):H(e,e.ka):function(e){setTimeout(r((function(){O(this)}),e),50)}(e):H(e,e.$)}function H(e,t){e.t.remove(),e.u.remove(),e.H.remove(),t(e.m)}function $(e,t,i,n){this.d=t,this.A=i,this.S=0,this.ea=this.ba=!1,this.X=n,this.k=e.k}function W(e,t,i,n,o){if(i=i||{},0===t.length&&o)F(e.A);else for(e.S+=t.length,o&&(e.ba=o),o=0;o<t.length;o++){var a=t[o],s=i[a.getName()],l=e.A,c=a;l.F&&d(l.q,[l.h.e(l.j,c.getName(),I(c).toString(),"loading")]),R(l,"fontloading",c),l=null,(l=new M(r(e.ia,e),r(e.ja,e),e.d,a,e.k,e.X,n,s)).start()}}function N(e){0==--e.S&&e.ba&&(e.ea?((e=e.A).F&&d(e.q,[e.h.e(e.j,"active")],[e.h.e(e.j,"loading"),e.h.e(e.j,"inactive")]),R(e,"active")):F(e.A))}function j(e){this.K=e,this.B=new A,this.pa=new w(e.navigator.userAgent),this.a=this.pa.parse(),this.U=this.V=0,this.R=this.T=!0}function G(e,t,i){this.P=e||t+V,this.s=[],this.W=[],this.fa=i||""}M.prototype.start=function(){this.oa=a(),L(this.t,new T(this.m.getName()+",serif",I(this.m))),L(this.u,new T(this.m.getName()+",sans-serif",I(this.m))),O(this)},$.prototype.ia=function(e){var t=this.A;t.F&&d(t.q,[t.h.e(t.j,e.getName(),I(e).toString(),"active")],[t.h.e(t.j,e.getName(),I(e).toString(),"loading"),t.h.e(t.j,e.getName(),I(e).toString(),"inactive")]),R(t,"fontactive",e),this.ea=!0,N(this)},$.prototype.ja=function(e){var t=this.A;if(t.F){var i=c(t.q,t.h.e(t.j,e.getName(),I(e).toString(),"active")),n=[],o=[t.h.e(t.j,e.getName(),I(e).toString(),"loading")];i||n.push(t.h.e(t.j,e.getName(),I(e).toString(),"inactive")),d(t.q,n,o)}R(t,"fontinactive",e),N(this)},j.prototype.load=function(e){this.d=new s(this.K,e.context||this.K),this.T=!1!==e.events,this.R=!1!==e.classes;var t=new D(this.d,e),i=[],n=e.timeout;t.F&&d(t.q,[t.h.e(t.j,"loading")]),R(t,"loading");i=this.B;var o,a=this.d,l=[];for(o in e)if(e.hasOwnProperty(o)){var c=i.C[o];c&&l.push(c(e[o],a))}for(i=l,this.U=this.V=i.length,e=new $(this.a,this.d,t,n),n=0,o=i.length;n<o;n++)(a=i[n]).L(this.a,r(this.la,this,a,t,e))},j.prototype.la=function(e,t,i,n){var o=this;n?e.load((function(e,t,n){!function(e,t,i,n,o){var r=0==--e.V;(e.R||e.T)&&setTimeout((function(){W(t,i,n||null,o||null,r)}),0)}(o,i,e,t,n)})):(e=0==--this.V,this.U--,e&&0==this.U?F(t):(this.R||this.T)&&W(i,[],{},null,e))};var V="//fonts.googleapis.com/css";function q(e){this.s=e,this.da=[],this.M={}}G.prototype.e=function(){if(0==this.s.length)throw Error("No fonts to load!");if(-1!=this.P.indexOf("kit="))return this.P;for(var e=this.s.length,t=[],i=0;i<e;i++)t.push(this.s[i].replace(/ /g,"+"));return e=this.P+"?family="+t.join("%7C"),0<this.W.length&&(e+="&subset="+this.W.join(",")),0<this.fa.length&&(e+="&text="+encodeURIComponent(this.fa)),e};var X={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Y={i:"i",italic:"i",n:"n",normal:"n"},Q=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Z(e,t){this.a=new w(navigator.userAgent).parse(),this.d=e,this.f=t}q.prototype.parse=function(){for(var e=this.s.length,t=0;t<e;t++){var i=this.s[t].split(":"),n=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var r;if(r=[],a=i[1])for(var a,s=(a=a.split(",")).length,l=0;l<s;l++){var d;if((d=a[l]).match(/^[\w-]+$/)){var c=void 0;if(null==(d=Q.exec(d.toLowerCase())))c="";else{if(c=void 0,null==(c=d[1])||""==c)c="4";else{var p=J[c];c=p||(isNaN(c)?"4":c.substr(0,1))}c=[null==(d=d[2])||""==d?"n":Y[d],c].join("")}d=c}else d="";d&&r.push(d)}0<r.length&&(o=r),3==i.length&&(r=[],0<(i=(i=i[2])?i.split(","):r).length&&(i=X[i[0]])&&(this.M[n]=i))}for(this.M[n]||(i=X[n])&&(this.M[n]=i),i=0;i<o.length;i+=1)this.da.push(new T(n,o[i]))}};var K={Arimo:!0,Cousine:!0,Tinos:!0};function ee(e,t){this.d=e,this.f=t,this.p=[]}function te(e,t){this.d=e,this.f=t,this.p=[]}function ie(e,t){this.d=e,this.f=t,this.p=[]}function ne(e,t){this.d=e,this.f=t}Z.prototype.L=function(e,t){t(e.k.Y)},Z.prototype.load=function(e){var t=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?function(e,t){!function i(){e.G.body?t():setTimeout(i,0)}()}(t,r(this.aa,this,e)):this.aa(e)},Z.prototype.aa=function(e){for(var t=this.d,i=new G(this.f.api,p(t),this.f.text),n=this.f.families,o=n.length,r=0;r<o;r++){var a=n[r].split(":");3==a.length&&i.W.push(a.pop());var s="";2==a.length&&""!=a[1]&&(s=":"),i.s.push(a.join(s))}(n=new q(n)).parse(),h(t,i.e()),e(n.da,n.M,K)},ee.prototype.J=function(e){var t=this.d;return p(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(t.w.location.hostname||t.K.location.hostname)+"/"+e+".js"},ee.prototype.L=function(e,t){var i=this.f.id,n=this.d.w,o=this;i?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[i]=function(e,i){for(var n=0,r=i.fonts.length;n<r;++n){var a=i.fonts[n];o.p.push(new T(a.name,P("font-weight:"+a.weight+";font-style:"+a.style)))}t(e)},u(this.d,this.J(i),(function(e){e&&t(!1)}))):t(!1)},ee.prototype.load=function(e){e(this.p)},te.prototype.J=function(e){var t=p(this.d);return(this.f.api||t+"//use.typekit.net")+"/"+e+".js"},te.prototype.L=function(e,t){var i=this.f.id,n=this.d.w,o=this;i?u(this.d,this.J(i),(function(e){if(e)t(!1);else{if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=0;i<e.length;i+=2)for(var r=e[i],a=e[i+1],s=0;s<a.length;s++)o.p.push(new T(r,a[s]));try{n.Typekit.load({events:!1,classes:!1})}catch(e){}}t(!0)}}),2e3):t(!1)},te.prototype.load=function(e){e(this.p)},ie.prototype.L=function(e,t){var i=this,n=i.f.projectId,o=i.f.version;if(n){var r=i.d.w;u(this.d,i.J(n,o),(function(o){if(o)t(!1);else{if(r["__mti_fntLst"+n]&&(o=r["__mti_fntLst"+n]()))for(var a=0;a<o.length;a++)i.p.push(new T(o[a].fontfamily));t(e.k.Y)}})).id="__MonotypeAPIScript__"+n}else t(!1)},ie.prototype.J=function(e,t){return p(this.d)+"//"+(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+e+".js"+(t?"?v="+t:"")},ie.prototype.load=function(e){e(this.p)},ne.prototype.load=function(e){var t,i,n=this.f.urls||[],o=this.f.families||[],r=this.f.testStrings||{};for(t=0,i=n.length;t<i;t++)h(this.d,n[t]);for(n=[],t=0,i=o.length;t<i;t++){var a=o[t].split(":");if(a[1])for(var s=a[1].split(","),l=0;l<s.length;l+=1)n.push(new T(a[0],s[l]));else n.push(new T(a[0]))}e(n,r)},ne.prototype.L=function(e,t){return t(e.k.Y)};var oe=new j(this);return oe.B.C.custom=function(e,t){return new ne(t,e)},oe.B.C.fontdeck=function(e,t){return new ee(t,e)},oe.B.C.monotype=function(e,t){return new ie(t,e)},oe.B.C.typekit=function(e,t){return new te(t,e)},oe.B.C.google=function(e,t){return new Z(t,e)},this.WebFont||(this.WebFont={},this.WebFont.load=r(oe.load,oe),this.WebFontConfig&&oe.load(this.WebFontConfig)),this.WebFont}(window,document)}.apply(t,[]))||(e.exports=n)},2516:function(e,t,i){(function(e){window.lucaThemeMap={Baldwin:{version:"1.1",name:"Baldwin",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"middle-rule",color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},title:{text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.02},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"league-gothic",fontWeight:"300",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.45},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.28},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},subheading:{text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.38},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},blockquote:{treatment:{type:"color-band",backgroundColor:{mode:"RGB",value:{r:232,g:231,b:231},alpha:1,assetId:""}},text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,role:"none",fontScale:1.28},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},button:{treatment:{type:"rounded-border",borderColor:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:106,g:106,b:106},alpha:1,assetId:""}},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:1.11},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:106,g:106,b:106},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:102,g:132,b:172},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:64,g:88,b:121},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.44},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.5,assetId:""}},windowImage:{text:{fontFamily:"league-gothic",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",fontScale:1.44},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.5,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:68,g:68,b:68},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}},font_includes:[{method:"script",src:"baldwin-fonts.gz.js",path:"themes"}]},Bruce:{version:"1.1",name:"Bruce",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:239,g:239,b:239},alpha:1,assetId:""}},titleSection:{treatment:{type:"solid-box",backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},title:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.7},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.94},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.87},color:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},subheading:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.9,role:"none"},color:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.94},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.94},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.94},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},blockquote:{treatment:{type:"color-band",backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.85},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},inlineImage:{treatment:{type:"caption-background",backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,lineHeightScale:.83},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},button:{treatment:{type:"square-border",borderColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:221,g:3,b:55},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:1.04},color:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:221,g:3,b:55},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:81,g:115,b:180},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:31,g:57,b:107},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"caption-background",backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:1.16},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.88},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.88,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"caption-background",backgroundColor:{mode:"RGB",value:{r:146,g:2,b:36},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:1.17},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:239,g:239,b:239},alpha:.9,assetId:""}}}},Chic:{version:"1.1",name:"Chic",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:229,g:229,b:231},alpha:1,assetId:""}},titleSection:{treatment:{type:"gradient-overlay"},title:{text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none",fontScale:1.19,lineHeightScale:.77},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none",fontScale:1.21,lineHeightScale:.88},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Regular",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none",fontScale:.8},color:{mode:"RGB",value:{r:65,g:73,b:95},alpha:1,assetId:""}},subheading:{text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,fontScale:1,role:"none"},color:{mode:"RGB",value:{r:65,g:73,b:95},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,fontScale:.96},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,fontScale:.96},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,fontScale:.96},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},blockquote:{treatment:{type:"top-bottom-rule",color:{mode:"RGB",value:{r:217,g:217,b:217},alpha:1,assetId:""}},text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none",lineHeightScale:1.05,fontScale:1.01},color:{mode:"RGB",value:{r:65,g:73,b:95},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},button:{treatment:{type:"triangle",color:{mode:"RGB",value:{r:65,g:73,b:95},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:96,g:108,b:140},alpha:1,assetId:""}},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,fontScale:1.1,role:"none"},color:{mode:"RGB",value:{r:65,g:73,b:95},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:96,g:108,b:140},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:106,g:118,b:150},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:106,g:118,b:150},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:65,g:72,b:96},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"ltc-bodoni-175",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"LTC Bodoni 175",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:65,g:72,b:96},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0},color:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:229,g:229,b:231},alpha:.9,assetId:""}}}},Crisp:{version:"1.1",name:"Crisp",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"gradient-overlay"},title:{text:{fontFamily:"proxima-nova",fontWeight:"100",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Thin",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1.2,lineHeightScale:.91,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Light",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1.1,lineHeightScale:1.07},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1.2,lineHeightScale:.92,role:"none"},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},subheading:{text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},blockquote:{treatment:{type:"left-rule",color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},text:{fontFamily:"proxima-nova-condensed",fontWeight:"300",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Light Italic",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none",fontScale:1.42,lineHeightScale:.83},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},button:{treatment:{type:"rounded-border",borderColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:38,g:38,b:38},alpha:1,assetId:""}},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1.06},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:38,g:38,b:38},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:82,g:159,b:198},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:31,g:91,b:122},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"proxima-nova",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,fontScale:1.01},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}},font_includes:[{method:"script",src:"crisp-fonts.gz.js",path:"themes"}]},Luca:{version:"1.1",name:"Luca",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"top-bottom-rule",color:{mode:"RGB",value:{r:236,g:98,b:98},alpha:1,assetId:""}},title:{text:{fontFamily:"pt-sans-narrow",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,fontScale:.78},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"lato",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1,lineHeightScale:.95},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"single-rule",color:{mode:"RGB",value:{r:236,g:98,b:98},alpha:1,assetId:""}},text:{fontFamily:"pt-sans-narrow",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,fontScale:.89},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},subheading:{text:{fontFamily:"pt-sans-narrow",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",lineHeightScale:1,fontScale:1.02},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",lineHeightScale:1,fontScale:1.02},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",lineHeightScale:1,fontScale:1.02},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},blockquote:{treatment:{type:"quote",color:{mode:"RGB",value:{r:238,g:103,b:100},alpha:1,assetId:""}},text:{fontFamily:"pt-sans-narrow",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Sans Narrow",paddingShiftRatio:0,role:"none",lineHeightScale:.97},color:{mode:"RGB",value:{r:238,g:103,b:100},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.04},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},button:{treatment:{type:"pill-border",borderColor:{mode:"RGB",value:{r:236,g:98,b:98},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:228,g:30,b:30},alpha:1,assetId:""}},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:1.08},color:{mode:"RGB",value:{r:236,g:98,b:98},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:228,g:30,b:30},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:102,g:132,b:172},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:64,g:88,b:121},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:1.04,role:"none"},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"lato",fontWeight:"300",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Light",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.89},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:236,g:98,b:78},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"lato",fontWeight:"300",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Light",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:.89},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:236,g:98,b:78},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.04},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}}},Nightcap:{version:"1.1",name:"Nightcap",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:51,g:51,b:51},alpha:1,assetId:""}},titleSection:{treatment:{type:"border-box",borderColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1},backgroundColor:{mode:"RGB",value:{r:19,g:19,b:19},alpha:1,assetId:""}},title:{text:{fontFamily:"raleway",fontWeight:"900",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Raleway",paddingShiftRatio:0,role:"none",fontScale:1.01},color:{mode:"RGB",value:{r:248,g:246,b:244},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"raleway",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Raleway",paddingShiftRatio:0,role:"none",fontScale:1.14},color:{mode:"RGB",value:{r:248,g:246,b:244},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"raleway",fontWeight:"900",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Raleway",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},subheading:{text:{fontFamily:"raleway",fontWeight:"900",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Heavy",fontSubgroup:"Raleway",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.98,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.98,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.98,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},blockquote:{treatment:{type:"top-bottom-rule",color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},text:{fontFamily:"spark-voltage",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Voltage",paddingShiftRatio:0},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},button:{treatment:{type:"triangle",color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:191,g:187,b:182},alpha:1,assetId:""}},text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.25},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:191,g:187,b:182},alpha:1,assetId:""}},inlineLink:{treatment:{type:"none",underlineOnHover:!1},color:{mode:"RGB",value:{r:166,g:193,b:209},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:114,g:189,b:233},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"spark-voltage",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Voltage",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:51,g:51,b:51},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"spark-voltage",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Voltage",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:51,g:51,b:51},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:227,g:225,b:223},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:51,g:51,b:51},alpha:.9,assetId:""}}}},Storybook:{version:"1.1",name:"Storybook",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:234,g:229,b:235},alpha:1,assetId:""}},titleSection:{treatment:{type:"gradient-overlay"},title:{text:{fontFamily:"spark-storybook",fontWeight:"100",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"Local Brewery",paddingShiftRatio:0,role:"none",fontScale:2.18,lineHeightScale:.65},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"600",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,role:"none",lineHeightScale:.9,letterSpacing:"3px",fontScale:.72},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"spark-storybook",fontWeight:"100",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"Local Brewery",paddingShiftRatio:0,role:"none",fontScale:2,lineHeightScale:.64},color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""}},subheading:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"600",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,letterSpacing:"3px",fontScale:.53},color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none",fontScale:.9},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none",fontScale:.9},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0,role:"none",fontScale:.9},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},blockquote:{treatment:{type:"left-rule",color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""}},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.9},color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},button:{treatment:{type:"rounded-border",borderColor:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:125,g:124,b:128},alpha:1,assetId:""}},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:125,g:124,b:128},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:149,g:139,b:152},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:109,g:100,b:112},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.83},color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:234,g:229,b:235},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.83},color:{mode:"RGB",value:{r:95,g:78,b:107},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:234,g:229,b:235},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"proxima-nova",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Proxima Nova",paddingShiftRatio:0},color:{mode:"RGB",value:{r:87,g:86,b:89},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:234,g:229,b:235},alpha:.9,assetId:""}}},font_includes:[{method:"script",src:"storybook-fonts.gz.js",path:"themes"}]},Tereza:{version:"1.1",name:"Tereza",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:242,g:241,b:235},alpha:1,assetId:""}},titleSection:{treatment:{type:"solid-box",backgroundColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},title:{text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.82},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.94},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.96},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},subheading:{text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Bold",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"calluna",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Calluna",paddingShiftRatio:0,fontScale:1.11},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"calluna",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Calluna",paddingShiftRatio:0,fontScale:1.11},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"calluna",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Calluna",paddingShiftRatio:0,fontScale:1.11},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},blockquote:{treatment:{type:"color-band",backgroundColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},text:{fontFamily:"calluna",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Calluna",paddingShiftRatio:0,fontScale:.95},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},inlineImage:{treatment:{type:"image-border"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.09},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},button:{treatment:{type:"square-border",borderColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:26,g:209,b:255},alpha:1,assetId:""}},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:26,g:209,b:255},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.09},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.84},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"lato",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Bold",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:.84},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:163,b:204},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"image-border"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0,fontScale:1.09,role:"none"},color:{mode:"RGB",value:{r:0,g:163,b:204},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:242,g:241,b:235},alpha:.9,assetId:""}}}},Trek:{version:"1.1",name:"Trek",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"gradient-overlay"},title:{text:{fontFamily:"spark-local-brewery-four",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Local Brewery Four",paddingShiftRatio:0,fontScale:1.26},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,role:"none",fontScale:1.03,lineHeightScale:.91},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"spark-local-brewery-four",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Local Brewery Four",paddingShiftRatio:0,fontScale:1.09},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},subheading:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"600",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Semibold Italic",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.93,role:"none"},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.95},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.95},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:.95},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},blockquote:{treatment:{type:"left-rule",color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},text:{fontFamily:"spark-local-brewery-four",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Local Brewery Four",paddingShiftRatio:0,lineHeightScale:.93},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},button:{treatment:{type:"rounded-border",borderColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:38,g:38,b:38},alpha:1,assetId:""}},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0,fontScale:1.13},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:38,g:38,b:38},alpha:1,assetId:""}},inlineLink:{treatment:{type:"none",underlineOnHover:!1},color:{mode:"RGB",value:{r:47,g:108,b:143},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:118,g:167,b:196},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"spark-local-brewery-four",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Local Brewery Four",paddingShiftRatio:0},color:{mode:"RGB",value:{r:0,g:0,b:0},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"spark-local-brewery-four",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Local Brewery Four",paddingShiftRatio:0,fontScale:1},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"adobe-caslon-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Adobe Caslon Pro",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}}},Vintage:{version:"1.1",name:"Vintage",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"vintage"},title:{text:{fontFamily:"spark-voltage",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Voltage",paddingShiftRatio:0,role:"none",fontScale:1.05},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"double-rule",color:{mode:"RGB",value:{r:225,g:216,b:224},alpha:1,assetId:""}},text:{fontFamily:"clarendon-text-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Clarendon Text Pro",paddingShiftRatio:0,role:"none",fontScale:.9},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},subheading:{text:{fontFamily:"clarendon-text-pro",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Clarendon Text Pro",paddingShiftRatio:0,fontScale:.96},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},unorderedList:{treatment:{type:"vbullet",color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},blockquote:{treatment:{type:"color-band",backgroundColor:{mode:"RGB",value:{r:230,g:223,b:229},alpha:1,assetId:""}},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"italic",textTransform:"none",assetId:"",fontFace:"Light Italic",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.91},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},button:{treatment:{type:"double-border",borderColor:{mode:"RGB",value:{r:225,g:216,b:224},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:192,g:173,b:190},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:225,g:216,b:224},alpha:1,assetId:""},hoverBackgroundColor:{mode:"RGB",value:{r:192,g:173,b:190},alpha:1,assetId:""}},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:1.03},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:160,g:136,b:152},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.91},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.3,assetId:""}},windowImage:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.91},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.3,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}}},Wesley:{version:"1.1",name:"Wesley",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"color-band",backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},title:{text:{fontFamily:"futura-pt",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Futura PT",paddingShiftRatio:0,fontScale:.78,role:"none"},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"futura-pt",fontWeight:"800",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Heavy",fontSubgroup:"Futura PT",paddingShiftRatio:0,fontScale:1.05,lineHeightScale:.99},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"futura-pt",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Futura PT",paddingShiftRatio:0,fontScale:.84,role:"none"},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},subheading:{text:{fontFamily:"futura-pt",fontWeight:"800",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Futura PT",paddingShiftRatio:0,fontScale:.83},color:{mode:"RGB",value:{r:80,g:80,b:80},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},blockquote:{treatment:{type:"top-bottom-rule",color:{mode:"RGB",value:{r:232,g:233,b:236},alpha:1,assetId:""}},text:{fontFamily:"futura-pt",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Heavy",fontSubgroup:"Futura PT",paddingShiftRatio:0,role:"none",fontScale:.71,lineHeightScale:1.29},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},button:{treatment:{type:"pill-background",backgroundColor:{mode:"RGB",value:{r:220,g:221,b:225},alpha:1,assetId:""},hoverBackgroundColor:{mode:"RGB",value:{r:179,g:181,b:190},alpha:1,assetId:""}},text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0,role:"none",fontScale:1.06},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:111,g:121,b:139},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:47,g:53,b:63},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0,fontScale:1},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"futura-pt",fontWeight:500,fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Medium",fontSubgroup:"Futura PT",paddingShiftRatio:0,role:"headline-font",fontScale:1.06},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"futura-pt",fontWeight:500,fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Medium",fontSubgroup:"Futura PT",paddingShiftRatio:0,fontScale:1.07,role:"headline-font"},color:{mode:"RGB",value:{r:16,g:33,b:61},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"pt-serif",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"PT Serif",paddingShiftRatio:0},color:{mode:"RGB",value:{r:17,g:26,b:11},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}}},Whimsy:{version:"1.1",name:"Whimsy",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:241,g:245,b:245},alpha:1,assetId:""}},titleSection:{treatment:{type:"whimsy",color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},title:{text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none",fontScale:1.06},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.9,lineHeightScale:1.13},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"whimsy",color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""}},text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""}},subheading:{text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none",fontScale:.93},color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.94},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},unorderedList:{treatment:{type:"diamond"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.94},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none",fontScale:.94},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},blockquote:{treatment:{type:"quote",color:{mode:"RGB",value:{r:191,g:220,b:222},alpha:1,assetId:""}},text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none",fontScale:.87},color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},button:{treatment:{type:"rounded-border",borderColor:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""},hoverBorderColor:{mode:"RGB",value:{r:24,g:244,b:246},alpha:1,assetId:""}},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:24,g:244,b:246},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:7,g:185,b:187},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:6,g:141,b:143},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:126,g:157,b:153},alpha:.8,assetId:""}},windowImage:{text:{fontFamily:"spark-wanderlust-shine",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Wanderlust Shine",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:126,g:157,b:153},alpha:.8,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"acumin-pro-semi-condensed",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Acumin Pro Semi Condensed",paddingShiftRatio:0,role:"none"},color:{mode:"RGB",value:{r:34,g:34,b:34},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:241,g:245,b:245},alpha:.9,assetId:""}}}},Wiper:{version:"1.1",name:"Wiper",customFontsUsed:[],components:{page:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},titleSection:{treatment:{type:"gradient-overlay"},title:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},subtitle:{text:{fontFamily:"lato",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Light",fontSubgroup:"Lato",paddingShiftRatio:0,role:"none",fontScale:1.09},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}}},heading:{treatment:{type:"none"},text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},subheading:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},paragraph:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},unorderedList:{treatment:{type:"circle"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},orderedList:{text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},blockquote:{treatment:{type:"quote",color:{mode:"RGB",value:{r:206,g:203,b:206},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"uppercase",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0,fontScale:.75},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},inlineImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},button:{treatment:{type:"rounded-background",backgroundColor:{mode:"RGB",value:{r:61,g:52,b:57},alpha:1,assetId:""},hoverBackgroundColor:{mode:"RGB",value:{r:102,g:87,b:96},alpha:1,assetId:""}},text:{fontFamily:"museo-slab",fontWeight:"300",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"300",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""}},inlineLink:{treatment:{type:"underline"},color:{mode:"RGB",value:{r:82,g:159,b:198},alpha:1,assetId:""},hoverColor:{mode:"RGB",value:{r:31,g:91,b:122},alpha:1,assetId:""}},fullWidthImage:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},fillScreenImage:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.3,assetId:""}},windowImage:{text:{fontFamily:"museo-slab",fontWeight:"700",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"700",fontSubgroup:"Museo Slab",paddingShiftRatio:0},color:{mode:"RGB",value:{r:255,g:255,b:255},alpha:1,assetId:""},backgroundColor:{mode:"RGB",value:{r:0,g:0,b:0},alpha:.3,assetId:""}},photoGrid:{treatment:{type:"none"},text:{fontFamily:"lato",fontWeight:"400",fontStyle:"normal",textTransform:"none",assetId:"",fontFace:"Regular",fontSubgroup:"Lato",paddingShiftRatio:0},color:{mode:"RGB",value:{r:61,g:52,b:58},alpha:1,assetId:""}},glideshow:{backgroundColor:{mode:"RGB",value:{r:255,g:255,b:255},alpha:.9,assetId:""}}}}},e&&(e.exports=window.lucaThemeMap)}).call(this,i(44)(e))},2517:function(e,t){e.exports={kitIds:{baldwin:"qja1fkh",crisp:"rbi5aua",storybook:"ndl6wht"},previewSets:{baldwin:[{id:"hmqz",variations:["i4","i7","n4","n7"],css_name:"adobe-caslon-pro",name:"Adobe Caslon Pro"},{id:"kmpm",variations:["n4"],css_name:"league-gothic",name:"League Gothic"}],crisp:[{id:"vcsm",variations:["i1","i3","i4","i6","n1","n3","n4","n6"],css_name:"proxima-nova",name:"Proxima Nova"},{id:"mtyl",variations:["i3"],css_name:"proxima-nova-condensed",name:"Proxima Nova Condensed"}],storybook:null}}},2518:function(e,t,i){var n,o;n=[i(3)],void 0===(o=function(e){return{getTextWidthDOM:function(t,i){var n=e("<span>").text(t).css({font:i,float:"left","white-space":"nowrap"}).css({visibility:"hidden"}).appendTo(e("body")),o=n.width();return n.remove(),o},getContentDimensions:function(e,t,i,n,o){var r=this.getLines(e,t,n,i);return{width:Math.max.apply(void 0,r.map((function(e){return e.width}))),height:r.length*o}},swapFontSize:function(e,t){return t.replace(/([0-9\-\.]*)px/,e+"px")},autoSizeText:function(e,t,i,n,o,r,a,s){var l=t,d=a*l,c=r*l,p=1;for(1!=(s=s||1)&&(l*=p=s)<10&&(p=(l=10)/t);l&&l>10;){var h={width:o,height:c},u=this.getContentDimensions(i,e,this.swapFontSize(l,n),o,d),g=u.width>0?u.width:1,m=u.height>0?u.height:1,f=h.width,v=h.height,b=Math.min(f/g,v/m)||1;if(b>=1||g-f<=1&&m-v<=1)break;(l*=b)<10&&(b=(l=10)/t),p*=b,d=a*l,c=r*l}return{fontSize:l,scale:p}},getLines:function(e,t,i,n){var o=(t=t.toString()).split(" "),r=[],a=o[0],s=i;if(e.font=n,1==o.length)return[{text:a,width:this.getTextWidthDOM(a,n)}];for(var l=1;l<o.length;l++){var d=o[l];if(this.getTextWidthDOM(a+" "+d,n)<s?a+=" "+d:(r.push({text:a,width:this.getTextWidthDOM(a,n)}),a=d),l===o.length-1){r.push({text:a,width:this.getTextWidthDOM(a,n)});break}}return r}}}.apply(t,n))||(e.exports=o)},2519:function(e){e.exports=JSON.parse('{"crisp":{"name":"crisp","titleHeaderMarginTop":"0","titleHeaderMarginBottom":"0","titleHeaderMarginLeft":"0","titleHeaderMarginRight":0,"titleHeaderPaddingTop":"64px","titleHeaderPaddingBottom":"64px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"100","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"8px","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"300","subtitleFontStyle":"normal","gradientTopAlignedCenter":"-100%","gradientStops":{"center":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.25)","percent":0.25},{"color":"rgba(0,0,0,0.50)","percent":0.5},{"color":"rgba(0,0,0,0.25)","percent":0.75},{"color":"rgba(0,0,0,0)","percent":1}],"top":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.5)","percent":1}],"bottom":[{"color":"rgba(0,0,0,0.5)","percent":0},{"color":"rgba(0,0,0,0)","percent":1}]},"gradientBottomAlignedCenter":"-100%","gradientAngleAlignedCenter":"-270deg","gradientStop0ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop0PercentAlignedCenter":"0%","gradientStop1ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop1PercentAlignedCenter":"25%","gradientStop2ColorAlignedCenter":"rgba(0,0,0,0.50)","gradientStop2PercentAlignedCenter":"50%","gradientStop3ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop3PercentAlignedCenter":"75%","gradientStop4ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop4PercentAlignedCenter":"100%","gradientTopAlignedTop":"-48px","gradientBottomAlignedTop":"-50%","gradientAngleAlignedTop":"-270deg","gradientStop0ColorAlignedTop":"rgba(0,0,0,0)","gradientStop0PercentAlignedTop":"0%","gradientStop1ColorAlignedTop":"rgba(0,0,0,0.5)","gradientStop1PercentAlignedTop":"100%","gradientTopAlignedBottom":"-50%","gradientBottomAlignedBottom":"-48px","gradientAngleAlignedBottom":"-270deg","gradientStop0ColorAlignedBottom":"rgba(0,0,0,0.5)","gradientStop0PercentAlignedBottom":"0%","gradientStop1ColorAlignedBottom":"rgba(0,0,0,0)","gradientStop1PercentAlignedBottom":"100%","titleFontFace":"\\"proxima-nova\\",Helvetica,serif","subtitleFontFace":"\\"proxima-nova\\",Helvetica,serif","titleTextShadowX":"1px","subtitleTextShadowX":"1px","titleTextShadowY":"1px","subtitleTextShadowY":"1px","titleTextShadowBlur":"2px","subtitleTextShadowBlur":"2px","titleTextShadowColor":"rgba(0,0,0,0.25)","subtitleTextShadowColor":"rgba(0,0,0,0.25)","titleLineHeight":"1","titleHeaderPaddingRightAlignedLeft":"15%","titleHeaderPaddingLeftAlignedCenter":"10%","titleHeaderPaddingRightAlignedCenter":"10%","titleHeaderPaddingLeftAlignedRight":"15%","titleMaxHeight":"3em","titleFontSize":"96px","subtitleMaxHeight":"3.75em","subtitleFontSize":"24px","subtitleTextTransform":"uppercase","subtitleLineHeight":"1.25"},"nightcap":{"name":"nightcap","titleHeaderMarginTop":"32px","titleHeaderMarginBottom":"32px","titleHeaderMarginLeft":"4%","titleHeaderMarginRight":"4%","titleHeaderPaddingTop":"32px","titleHeaderPaddingBottom":"32px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"#e3e1df","titleFontWeight":"normal","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"24px","subtitleMarginBottom":0,"subtitleFontColor":"#e3e1df","subtitleFontWeight":"300","subtitleFontStyle":"normal","gradientStops":{},"titleHeaderMaxWidth":"80%","titleHeaderBackground":"rgba(0,0,0,0.5)","titleHeaderBorderWidth":"1px","titleHeaderBorderColor":"rgba(255,255,255,0.5)","titleTextShadowX":"1px","subtitleTextShadowX":"1px","titleTextShadowY":"1px","subtitleTextShadowY":"1px","titleTextShadowBlur":"2px","subtitleTextShadowBlur":"2px","titleTextShadowColor":"rgba(0,0,0,0.25)","subtitleTextShadowColor":"rgba(0,0,0,0.25)","titleLineHeight":"1","titleFontFace":"\\"azo-sans-uber\\",sans-serif","titleMaxHeight":"3em","titleFontSize":"68px","subtitleMaxHeight":"3.75em","subtitleFontFace":"\\"azo-sans-web\\",sans-serif","subtitleFontSize":"24px","subtitleLineHeight":"1.25"},"tereza":{"name":"tereza","titleHeaderMarginTop":"32px","titleHeaderMarginBottom":"32px","titleHeaderMarginLeft":"4%","titleHeaderMarginRight":"4%","titleHeaderPaddingTop":"32px","titleHeaderPaddingBottom":"32px","titleHeaderPaddingLeft":"35.2px","titleHeaderPaddingRight":"35.2px","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"bold","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"0.7em","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"300","subtitleFontStyle":"normal","titleHeaderMaxWidth":"45%","gradientStops":{},"titleHeaderBackground":"#00a3cc","titleMaxHeight":"3em","titleFontFace":"calluna-sans,serif","titleFontSize":"56px","titleLineHeight":"1","titleTextTransform":"uppercase","titleTextShadow0X":"0","titleTextShadow0Y":".005em","titleTextShadow0Color":"#68C7CF","titleTextShadow1X":"-.005em","titleTextShadow1Y":"0","titleTextShadow1Color":"#68C7CF","titleTextShadow2X":"-.005em","titleTextShadow2Y":".010em","titleTextShadow2Color":"#68C7CF","titleTextShadow3X":"-.010em","titleTextShadow3Y":".005em","titleTextShadow3Color":"#68C7CF","titleTextShadow4X":"-.010em","titleTextShadow4Y":".015em","titleTextShadow4Color":"#68C7CF","titleTextShadow5X":"-.015em","titleTextShadow5Y":".010em","titleTextShadow5Color":"#68C7CF","titleTextShadow6X":"-.015em","titleTextShadow6Y":".020em","titleTextShadow6Color":"#68C7CF","titleTextShadow7X":"-.020em","titleTextShadow7Y":".015em","titleTextShadow7Color":"#68C7CF","titleTextShadow8X":"-.020em","titleTextShadow8Y":".025em","titleTextShadow8Color":"#68C7CF","titleTextShadow9X":"-.025em","titleTextShadow9Y":".020em","titleTextShadow9Color":"#68C7CF","titleTextShadow10X":"-.025em","titleTextShadow10Y":".030em","titleTextShadow10Color":"#68C7CF","titleTextShadow11X":"-.030em","titleTextShadow11Y":".025em","titleTextShadow11Color":"#68C7CF","titleTextShadow12X":"-.030em","titleTextShadow12Y":".035em","titleTextShadow12Color":"#68C7CF","titleTextShadow13X":"-.035em","titleTextShadow13Y":".030em","titleTextShadow13Color":"#68C7CF","titleTextShadow14X":"-.035em","titleTextShadow14Y":".040em","titleTextShadow14Color":"#68C7CF","titleTextShadow15X":"-.040em","titleTextShadow15Y":".035em","titleTextShadow15Color":"#68C7CF","titleTextShadow16X":"-.040em","titleTextShadow16Y":".045em","titleTextShadow16Color":"#68C7CF","titleTextShadow17X":"-.045em","titleTextShadow17Y":".040em","titleTextShadow17Color":"#68C7CF","titleTextShadow18X":"-.045em","titleTextShadow18Y":".050em","titleTextShadow18Color":"#68C7CF","titleTextShadow19X":"-.050em","titleTextShadow19Y":".045em","titleTextShadow19Color":"#68C7CF","subtitleMaxHeight":"3.6em","subtitleFontFace":"calluna-sans,serif","subtitleFontSize":"26.4px","subtitleLineHeight":"1.2","subtitleTextTransform":"uppercase"},"whimsy":{"name":"whimsy","titleHeaderMarginTop":0,"titleHeaderMarginBottom":0,"titleHeaderMarginLeft":0,"titleHeaderMarginRight":0,"titleHeaderPaddingTop":"64px","titleHeaderPaddingBottom":"64px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"normal","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"16px","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"300","subtitleFontStyle":"normal","gradientTopAlignedCenter":"-100%","gradientStops":{"center":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.25)","percent":0.25},{"color":"rgba(0,0,0,0.50)","percent":0.5},{"color":"rgba(0,0,0,0.25)","percent":0.75},{"color":"rgba(0,0,0,0)","percent":1}],"top":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.5)","percent":1}],"bottom":[{"color":"rgba(0,0,0,0.5)","percent":0},{"color":"rgba(0,0,0,0)","percent":1}]},"gradientBottomAlignedCenter":"-100%","gradientAngleAlignedCenter":"-270deg","gradientStop0ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop0PercentAlignedCenter":"0%","gradientStop1ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop1PercentAlignedCenter":"25%","gradientStop2ColorAlignedCenter":"rgba(0,0,0,0.50)","gradientStop2PercentAlignedCenter":"50%","gradientStop3ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop3PercentAlignedCenter":"75%","gradientStop4ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop4PercentAlignedCenter":"100%","gradientTopAlignedTop":"-48px","gradientBottomAlignedTop":"-50%","gradientAngleAlignedTop":"-270deg","gradientStop0ColorAlignedTop":"rgba(0,0,0,0)","gradientStop0PercentAlignedTop":"0%","gradientStop1ColorAlignedTop":"rgba(0,0,0,0.5)","gradientStop1PercentAlignedTop":"100%","gradientTopAlignedBottom":"-50%","gradientBottomAlignedBottom":"-48px","gradientAngleAlignedBottom":"-270deg","gradientStop0ColorAlignedBottom":"rgba(0,0,0,0.5)","gradientStop0PercentAlignedBottom":"0%","gradientStop1ColorAlignedBottom":"rgba(0,0,0,0)","gradientStop1PercentAlignedBottom":"100%","titleTextShadowX":"1px","subtitleTextShadowX":"1px","titleTextShadowY":"1px","subtitleTextShadowY":"1px","titleTextShadowBlur":"2px","subtitleTextShadowBlur":"2px","titleTextShadowColor":"rgba(0,0,0,0.25)","subtitleTextShadowColor":"rgba(0,0,0,0.25)","subtitleLineHeight":"1","titleHeaderPaddingRightAlignedLeft":"15%","titleHeaderPaddingLeftAlignedCenter":"10%","titleHeaderPaddingRightAlignedCenter":"10%","titleHeaderPaddingLeftAlignedRight":"15%","titleMaxHeight":"3.3em","titleFontFace":"\\"pacific-northwest-letters\\",serif","titleFontSize":"104px","titleLineHeight":"1.1","subtitleMaxHeight":"3em","subtitleFontFace":"source-sans-pro,Helvetica,sans-serif","subtitleFontSize":"30.4px","subtitleTextTransform":"uppercase"},"wesley":{"name":"wesley","titleHeaderMarginTop":"64px","titleHeaderMarginBottom":"64px","titleHeaderMarginLeft":0,"titleHeaderMarginRight":0,"titleHeaderPaddingTop":"32px","titleHeaderPaddingBottom":"32px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"#10213d","titleFontWeight":"bold","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"12px","subtitleMarginBottom":0,"subtitleFontColor":"#10213d","subtitleFontWeight":"bold","subtitleFontStyle":"normal","titleHeaderBackground":"rgba(255,255,255,.4)","gradientStops":{},"titleHeaderPaddingRightAlignedLeft":"15%","titleHeaderPaddingLeftAlignedCenter":"10%","titleHeaderPaddingRightAlignedCenter":"10%","titleHeaderPaddingLeftAlignedRight":"15%","titleMaxHeight":"3em","titleFontFace":"futura-pt","titleFontSize":"60px","titleLineHeight":"1","titleTextTransform":"uppercase","subtitleMaxHeight":"3.6em","subtitleFontFace":"futura-pt","subtitleFontSize":"28.8px","subtitleLineHeight":"1.2"},"luca":{"name":"luca","titleHeaderMarginTop":0,"titleHeaderMarginBottom":0,"titleHeaderMarginLeft":0,"titleHeaderMarginRight":0,"titleHeaderPaddingTop":"64px","titleHeaderPaddingBottom":"64px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":"3px","titleBorderBottomWidth":"3px","titleHeaderWidth":"100%","titlePaddingTop":6,"titlePaddingBottom":6,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"400","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"16px","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"300","subtitleFontStyle":"normal","gradientStops":{"center":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.25)","percent":0.25},{"color":"rgba(0,0,0,0.50)","percent":0.5},{"color":"rgba(0,0,0,0.25)","percent":0.75},{"color":"rgba(0,0,0,0)","percent":1}],"top":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.5)","percent":1}],"bottom":[{"color":"rgba(0,0,0,0.5)","percent":0},{"color":"rgba(0,0,0,0)","percent":1}]},"gradientTopAlignedCenter":"-100%","gradientBottomAlignedCenter":"-100%","gradientAngleAlignedCenter":"-270deg","gradientStop0ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop0PercentAlignedCenter":"0%","gradientStop1ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop1PercentAlignedCenter":"25%","gradientStop2ColorAlignedCenter":"rgba(0,0,0,0.50)","gradientStop2PercentAlignedCenter":"50%","gradientStop3ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop3PercentAlignedCenter":"75%","gradientStop4ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop4PercentAlignedCenter":"100%","gradientTopAlignedTop":"-48px","gradientBottomAlignedTop":"-50%","gradientAngleAlignedTop":"-270deg","gradientStop0ColorAlignedTop":"rgba(0,0,0,0)","gradientStop0PercentAlignedTop":"0%","gradientStop1ColorAlignedTop":"rgba(0,0,0,0.5)","gradientStop1PercentAlignedTop":"100%","gradientTopAlignedBottom":"-50%","gradientBottomAlignedBottom":"-48px","gradientAngleAlignedBottom":"-270deg","gradientStop0ColorAlignedBottom":"rgba(0,0,0,0.5)","gradientStop0PercentAlignedBottom":"0%","gradientStop1ColorAlignedBottom":"rgba(0,0,0,0)","gradientStop1PercentAlignedBottom":"100%","titleBorderTopColor":"#ec6262","titleBorderBottomColor":"#ec6262","titleFontFace":"pt-sans-narrow,source-sans-pro,Helvetica,sans-serif","titleFontSize":"72px","titleLineHeight":"1","titleMaxHeight":"3em","titleMaxWidth":"80%","subtitleMaxWidth":"80%","subtitleMaxHeight":"3.9em","subtitleFontFace":"source-sans-pro,Helvetica,sans-serif","subtitleFontSize":"28px","subtitleLineHeight":"1.3"},"baldwin":{"name":"baldwin","titleHeaderMarginTop":0,"titleHeaderMarginBottom":0,"titleHeaderMarginLeft":0,"titleHeaderMarginRight":0,"titleHeaderPaddingTop":"64px","titleHeaderPaddingBottom":"64px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":"3px","titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":"4px","titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"normal","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"19.2px","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"300","subtitleFontStyle":"normal","gradientStops":{"center":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.25)","percent":0.25},{"color":"rgba(0,0,0,0.50)","percent":0.5},{"color":"rgba(0,0,0,0.25)","percent":0.75},{"color":"rgba(0,0,0,0)","percent":1}],"top":[{"color":"rgba(0,0,0,0)","percent":0},{"color":"rgba(0,0,0,0.5)","percent":1}],"bottom":[{"color":"rgba(0,0,0,0.5)","percent":0},{"color":"rgba(0,0,0,0)","percent":1}]},"titleTextShadowX":"1px","subtitleTextShadowX":"1px","titleTextShadowY":"1px","subtitleTextShadowY":"1px","titleTextShadowBlur":"2px","subtitleTextShadowBlur":"2px","titleTextShadowColor":"rgba(0,0,0,0.25)","subtitleTextShadowColor":"rgba(0,0,0,0.25)","titleHeaderPaddingRightAlignedLeft":"15%","titleHeaderPaddingLeftAlignedCenter":"10%","titleHeaderPaddingRightAlignedCenter":"10%","titleHeaderPaddingLeftAlignedRight":"15%","gradientTopAlignedCenter":"-100%","gradientBottomAlignedCenter":"-100%","gradientAngleAlignedCenter":"-270deg","gradientStop0ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop0PercentAlignedCenter":"0%","gradientStop1ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop1PercentAlignedCenter":"25%","gradientStop2ColorAlignedCenter":"rgba(0,0,0,0.50)","gradientStop2PercentAlignedCenter":"50%","gradientStop3ColorAlignedCenter":"rgba(0,0,0,0.25)","gradientStop3PercentAlignedCenter":"75%","gradientStop4ColorAlignedCenter":"rgba(0,0,0,0)","gradientStop4PercentAlignedCenter":"100%","gradientTopAlignedTop":"-48px","gradientBottomAlignedTop":"-50%","gradientAngleAlignedTop":"-270deg","gradientStop0ColorAlignedTop":"rgba(0,0,0,0)","gradientStop0PercentAlignedTop":"0%","gradientStop1ColorAlignedTop":"rgba(0,0,0,0.5)","gradientStop1PercentAlignedTop":"100%","gradientTopAlignedBottom":"-50%","gradientBottomAlignedBottom":"-48px","gradientAngleAlignedBottom":"-270deg","gradientStop0ColorAlignedBottom":"rgba(0,0,0,0.5)","gradientStop0PercentAlignedBottom":"0%","gradientStop1ColorAlignedBottom":"rgba(0,0,0,0)","gradientStop1PercentAlignedBottom":"100%","titleFontFace":"league-gothic,\'Helvetica\',\'Arial\',sans-serif","titleFontSize":"80px","titleLineHeight":"1","titleTextTransform":"uppercase","titleMaxHeight":"3em","titleBorderBottomColor":"rgba(255,255,255,0.75)","subtitleFontFace":"league-gothic,\'Helvetica\',\'Arial\',sans-serif","subtitleFontSize":"32px","subtitleTextTransform":"uppercase","subtitleLineHeight":"1.25","subtitleMaxHeight":"3.75em"},"vintage":{"name":"vintage","titleHeaderMarginTop":0,"titleHeaderMarginBottom":0,"titleHeaderMarginLeft":0,"titleHeaderMarginRight":0,"titleHeaderPaddingTop":"64px","titleHeaderPaddingBottom":"64px","titleHeaderPaddingLeft":"5%","titleHeaderPaddingRight":"5%","titleBorderTopWidth":0,"titleBorderBottomWidth":0,"titleHeaderWidth":"100%","titlePaddingTop":0,"titlePaddingBottom":0,"titleMarginTop":0,"titleMarginBottom":0,"titleFontColor":"white","titleFontWeight":"normal","titleFontStyle":"normal","subtitleBorderTopWidth":0,"subtitleBorderBottomWidth":0,"subtitlePaddingTop":0,"subtitlePaddingBottom":0,"subtitleMarginTop":"16px","subtitleMarginBottom":0,"subtitleFontColor":"white","subtitleFontWeight":"400","subtitleFontStyle":"normal","subtitleFontFace":"source-sans-pro,sans-serif","gradientStops":{"center":[{"color":"rgba(62,146,187,0.4)","percent":0},{"color":"transparent","percent":0.5},{"color":"rgba(216,87,65,0.2)","percent":1}],"top":[{"color":"rgba(62,146,187,0.4)","percent":0},{"color":"transparent","percent":0.5},{"color":"rgba(216,87,65,0.2)","percent":1}],"bottom":[{"color":"rgba(62,146,187,0.4)","percent":0},{"color":"transparent","percent":0.5},{"color":"rgba(216,87,65,0.2)","percent":1}]},"gradientFull":"absolute","gradientAngleAlignedCenter":"90deg","gradientAngleAlignedTop":"90deg","gradientAngleAlignedBottom":"90deg","gradientStop0ColorAlignedCenter":"rgba(62,146,187,0.4)","gradientStop0ColorAlignedTop":"rgba(62,146,187,0.4)","gradientStop0ColorAlignedBottom":"rgba(62,146,187,0.4)","gradientStop0PercentAlignedCenter":"0","gradientStop0PercentAlignedTop":"0","gradientStop0PercentAlignedBottom":"0","gradientStop1ColorAlignedCenter":"transparent","gradientStop1ColorAlignedTop":"transparent","gradientStop1ColorAlignedBottom":"transparent","gradientStop1PercentAlignedCenter":"50%","gradientStop1PercentAlignedTop":"50%","gradientStop1PercentAlignedBottom":"50%","gradientStop2ColorAlignedCenter":"rgba(216,87,65,0.2)","gradientStop2ColorAlignedTop":"rgba(216,87,65,0.2)","gradientStop2ColorAlignedBottom":"rgba(216,87,65,0.2)","gradientStop2PercentAlignedCenter":"100%","gradientStop2PercentAlignedTop":"100%","gradientStop2PercentAlignedBottom":"100%","titleTextShadowX":"1px","subtitleTextShadowX":"1px","titleTextShadowY":"1px","subtitleTextShadowY":"1px","titleTextShadowBlur":"2px","subtitleTextShadowBlur":"2px","titleTextShadowColor":"rgba(0,0,0,0.25)","subtitleTextShadowColor":"rgba(0,0,0,0.25)","titleHeaderPaddingRightAlignedLeft":"15%","titleHeaderPaddingLeftAlignedCenter":"10%","titleHeaderPaddingRightAlignedCenter":"10%","titleHeaderPaddingLeftAlignedRight":"15%","titleMaxHeight":"3em","titleFontFace":"spark-voltage,sans-serif","titleFontSize":"83.2px","titleLineHeight":"1.1","subtitleMaxHeight":"3.6em","subtitleFontSize":"32px","subtitleLineHeight":"1.2"}}')},2520:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(56),i(427),i(1408),i(660),i(2521),i(2525),i(2526),i(128),i(4),i(1409),i(2527),i(2529),i(2531),i(2533),i(2534),i(2536),i(2538),i(1411),i(2539),i(2541),i(2542),i(2544),i(386),i(2546),i(2547),i(2548),i(2549),i(262),i(38),i(174),i(63),i(930),i(611),i(2550),i(14),i(9),i(370),i(2552),i(266),i(258),i(2553),i(622),i(1685),i(2554),i(1686),i(661),i(30),i(655),i(577)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v,b,w,k,x,y,S,_,C,T,I,P,D,F,R,A,B,L,E,M,z,U,O,H,$,W,N,j,G,V,q,X,J,Y,Q){"use strict";window.Mustache=n,M=window.Render;var Z=".previewButton, .uploadButton, .settingsButton, .presentButton, .collabStatusButton",K=marvel.features.hasFeature("enable-custom-fonts"),ee=marvel.features.hasFeature("enable-custom-fonts-subsets"),te=0,ie=36e5;function ne(e,t){var i;if(t=Array.isArray(t)?t:[t],e)for(i=0;e.images&&i<e.images.length;i++){var n=t[i];n&&n.license&&(e.images[i].license={photo_name:n.title,owner:n.owner.name,source_name:n.source.name,source_url:n.context?n.context.href:n.source.href,type:n.license.short_name,image_id:n.image_id})}}function oe(e,t){"#"===e[0]?e="rgba("+(i=ColorUtils.hexToRgb(e)).r+","+i.g+","+i.b+",1)":"rgb("===e.slice(0,4)&&(e="rgba("+e.slice(4,-1)+",1)");var i,n=e.lastIndexOf(",");return 0!==e.indexOf("rgba(")||-1===n?e:(i=e.slice(0,n+1))+t+")"}function re(){return L.isChrome}function ae(){marvel.logger.traceflow("baton-timeout","Restarting Present mode inactivity timeout"),se(),te=setTimeout((function(){te=0,marvel.logger.traceflow("baton-timeout","onInactivityTimeout"),o.currentDoc.getMyApp().endLongUserActivity("release-lock")}),ie)}function se(){te&&(clearTimeout(te),te=0)}function le(n){var a=this;this.slateModel=new l;this.formattingToolbarModel=new y,this.router=n,this.editorIsInitialized=!1,this.editorIsReady=!1,this.editorRefreshed=!1,this.syncInProgress=!1,this.slateModel.set("pushInProgress",!1),this.imageProcessingBatchCount=0,this.resetThumbnailFlag=!1,this.pendingImages=new d([],{storage:o,debugEnabled:!1}),this.pendingImages.on("add remove",this._handlePushChange,this),this.pendingImages.on("save-context",this._handleSaveContext,this),this.pendingImages.on("delete-context",this._handleDeleteContext,this),this.pendingImages.on("image-response",this._handlePendingImageResponse,this),this.pendingImages.on("image-error",this._handlePendingImageError,this),this.Fullscreen=N,this.showToolbar(".slate .main-toolbar");var s=this.$slateEle=e(".slate");this.editorWindow=s.find("iframe.editor")[0].contentWindow,this._handleConflict=this._handleConflict.bind(this),o.on("update-conflict",this._handleConflict);var c=s.find(".settingsButton"),h=s.find(".settings-flyout-overlay"),u=s.find(".settings-flyout"),g=s.find(".header-footer-toggle"),m=s.find(".undoButton"),f=s.find(".redoButton");this._handleUndo=this._handleUndo.bind(this),this._handleRedo=this._handleRedo.bind(this),m.on("click",this._handleUndo),f.on("click",this._handleRedo);var v,b=s.find(".setting-google-analytics"),k=b.find(".google-analytics-id-input"),x=b.find(".google-analytics-id-input-error"),S=s.find(".setting-cookie-banner"),T=S.find(".cookie-banner-toggle"),I=s.find(".setting-cookie-banner-text-controls"),P=I.find(".cookie-banner-text"),D=I.find(".cookie-banner-consent-button-text"),F=marvel.features.hasFeature("entitle-brand-kit"),B=A.getProfile().getSetting("show-user-flag-image-source-dooplo-bing");function L(e){v=e.target}c.addClass("showing"),e(h).on("click",(function(t){if(e(t.target).hasClass("settings-flyout-overlay")&&v===t.target){if(t.preventDefault(),t.stopPropagation(),h.removeClass("showing"),o.getData("cookieBannerEnabled"))(!o.getData("cookieBannerText")||!o.getData("cookieBannerConsentCTA"))&&(ce("visible-toggle-off"),o.setData("cookieBannerEnabled",!1));document.removeEventListener("mousedown",L,!0)}})),marvel.features.hasFeature("inactivity-timeout-15-seconds")&&(ie=2e4);var E=s.find(".newFeatureCoachmark"),z=s.find(".newFeatureCoachmark > .coachmarkAction"),G=s.find(".new-feature-overlay"),q=(s.find(".newFeatureCoachmark .coachmarkText"),s.find(".lmsTurnInButton")),X=s.find(".lmsAttachButton"),J=s.find(".canvasLmsButton > .new-tag"),Z=s.find(".newFeatureCoachmark .coachmarkText.canvas"),te=s.find(".googleDriveButton"),ne=s.find(".newFeatureCoachmark .coachmarkText.google-drive");function oe(){a._hideSubmenus(),Y.default.showModal({type:"slate",id:o.currentDoc.attributes.id},{syncInProgress:this.syncInProgress})}function ae(e,t){var i=e.offset(),n=t.outerWidth()/2,o=e.outerWidth()/2;t.css({top:i.top+57+"px",left:i.left-n+o+"px"})}te.on("click",(function(){a._hideSubmenus();var e=o.currentDoc;Q.saveToDrive(e).then(function(e){logger.debug("[slate] GoogleApiController saved success with Google Drive File ID",e)}.bind(this),function(e){logger.error("[slate] Error with handleSaveToGoogleDrive",e)}.bind(this))})),this._centerNewFeatureCoachMark=function(){ae(Pe,E)},this._showNewFeatureText=function(e){switch(e){case"canvas":return void Z.removeClass("hide");case"google-drive":return void ne.removeClass("hide");default:return}}.bind(this),this._toggleNewFeatureCoachmark=function(e){!0===e?(G.addClass("showing"),this._centerNewFeatureCoachMark(),window.addEventListener("resize",this._centerNewFeatureCoachMark)):(G.removeClass("showing"),window.removeEventListener("resize",this._centerNewFeatureCoachMark))}.bind(this),G.on("click",this._toggleNewFeatureCoachmark),this._showLMSNewBadge=function(e){Y.default.shouldShowNewBadge().then(function(e){e&&(this._showNewFeatureText("canvas"),this._toggleNewFeatureCoachmark(!0),J.removeClass("hide"))}.bind(this))}.bind(this),marvel.events.on("editor-ready",this._showLMSNewBadge),this._showGDriveCoachmark=function(){marvel.features.hasFeature("google-drive-ui")&&(te.removeClass("hide"),Q.showSaveCTA()&&(this._showNewFeatureText("google-drive"),this._toggleNewFeatureCoachmark(!0),this._centerNewFeatureCoachMark(),window.addEventListener("resize",this._centerNewFeatureCoachMark),e(z).on("click",this._toggleNewFeatureCoachmark)))}.bind(this),marvel.events.on("editor-ready",this._showGDriveCoachmark),Y.default.isLMSUser().then(function(t){t&&(X.on("click",oe),q.on("click",oe),e(z).on("click",this._toggleNewFeatureCoachmark),e(Pe).on("click",this._toggleNewFeatureCoachmark),Y.default.getAccountType().then((function(e){"teacher"===e&&X.removeClass("hide"),"student"===e&&q.removeClass("hide")})))}.bind(this)),c.on("click",(function(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousedown",L,!0),U.trackEvent("project:settingsPressed",a.getBrandingAnalytics({trigger:"page:settings:headerfooter"}),"slate:editor"),h.addClass("showing");var t=c.offset(),i=u.outerWidth()/2,n=c.outerWidth()/2;u.css({top:t.top+57+"px",left:t.left-i+n+"px"})})),g.on("click",(function(e){if(U.trackEvent("project:settings:headerTogglePressed",a.getBrandingAnalytics({trigger:"page:settings:headerfooter"}),"slate:editor"),F)if(a.authContext&&a.authContext.activated()){g.toggleClass("checked");var t=g.hasClass("checked");o.setData("headerDisabled",!t);var i=a.slateModel.get("docModel");o.checkAndSetBranded(i.theme),a._triggerSave()}else U.trackEvent("viewedOnboarding",a.getBrandingAnalytics({trigger:"page:settings:headerfooter"}),"slate:editor"),marvel.events.trigger("spark-show-onboarding-dialog",{touchpointName:"page:settings:headerfooter"});else U.trackEvent("clickedMerchandisingCTA",a.getBrandingAnalytics({trigger:"page:settings:headerfooter"}),"slate:editor"),C.showMerchPopover({touchpointName:"page:settings:headerfooter",anchorLocation:e.target.getBoundingClientRect(),secondaryBtnTitle:""}).done();return!1}));var se=F&&!B,le=!F&&!B;function de(){U.trackEvent("clickedMerchandisingCTA",a.getBrandingAnalytics({trigger:"page:settings:gacookiebanner"}),"slate:editor"),C.showMerchPopover({touchpointName:"page:settings:gacookiebanner",$element:k,logo:"/images/onboarding/ga_upgrade.png",parentCssToAdd:"gacookiebanner",secondaryBtnTitle:""}).done()}function ce(e){S.removeClass("showing enabled").addClass({"visible-grayed-out":"showing","visible-toggle-on":"showing enabled","visible-toggle-off":"showing enabled"}[e||""]||""),"visible-toggle-on"===e?(T.addClass("checked"),P.val(o.getData("cookieBannerText")),D.val(o.getData("cookieBannerConsentCTA")),I.addClass("showing")):(T.removeClass("checked"),I.removeClass("showing"))}function pe(e){e=(e||"").trim();/^UA-\d{4,10}-\d{1,4}$/g.test(e)?(k.removeClass("error"),x.removeClass("showing"),o.setData("googleAnalyticsId",e),k.val(e),ce(o.getData("cookieBannerEnabled")?"visible-toggle-on":"visible-toggle-off")):(e?(k.addClass("error"),x.addClass("showing")):(k.val("").removeClass("error"),x.removeClass("showing")),o.setData("googleAnalyticsId",null),ce("visible-grayed-out"))}if(ce("hidden"),(le||se)&&(b.addClass("showing"),k.prop("readonly",le),le?(ce("visible-grayed-out"),b.on("click",de),S.on("click",de)):se&&pe(o.getData("googleAnalyticsId"))),k.on("click",(function(){U.trackEvent("project:settings:googleAnalyticsTrackingPressed",{contextData:["projectId"],sparkFormat:"page"},"slate:editor")})),se){function he(e,t){var i=(e.val()||"").trim();o.setData(t,i),a._triggerSave()}T.on("click",(function(e){if(U.trackEvent("project:settings:cookieBannerTogglePressed",{contextData:["projectId"],sparkFormat:"page"},"slate:editor"),S.hasClass("enabled")){var t=o.getData("cookieBannerEnabled");if(t){var i=(P.val()||"").trim(),n=(D.val()||"").trim();o.setData("cookieBannerText",i),o.setData("cookieBannerConsentCTA",n)}o.setData("cookieBannerEnabled",!t),ce(t?"visible-toggle-off":"visible-toggle-on"),a._triggerSave()}})),k.change((function(e){pe(k.val()),a._triggerSave()})),P.change((function(e){he(P,"cookieBannerText")})),D.change((function(e){he(D,"cookieBannerConsentCTA")}))}var ue=function(){return se&&!!o.getData("googleAnalyticsId")};if(s.find("iframe.editor").on("mousewheel",(function(){})),s.find("iframe.preview").on("mousewheel",(function(){})),s.find(".cancelButton").on("click",(function(){return a.sendMessageToEditor("modal-cancel",{}),e(this).prop("disabled",!0),a.showToolbar(".slate .main-toolbar"),s.find(".photo-picker").removeClass("showing"),setTimeout((function(){s.find(".editor-wrapper").removeClass("modal")}),100),!1})).prop("disabled",!0),marvel.features.hasFeature("slate-debug-embed")){var ge=this.slateModel,me=s.find(".debugEmbedButton");me.addClass("show"),me.on("vclick",(function(){var e=ge.getTitleImageURL(),t=e&&-1==e.search(/^blob/)&&-1==e.search(/db_thumbnails/)&&-1==e.search(/rendition/)&&-1==e.search(/\/thumb/);(e=t?e:"")&&-1==e.indexOf(a.baseUrl)&&(e=a.baseUrl+"/"+e);var i=a.getThemeObject();o.debugEmbedImage(ge.getTitle(),ge.getSubtitle(),ge.getTitleAlignment(),e,ge.getTitleImageAlignment(),j.isBuiltInTheme(i)?o.getData("themeName"):i,a.authContext)}))}if(marvel.features.hasFeature("slate-debug-locale")){var fe=s.find(".debugLocButton"),ve=s.find(".slate-debug-submenu-items"),be="button showing",we=function(t){var i=e(t.target).data("imageErrorCode");this._showImageErrorDialog(i,i)}.bind(this),ke=Object.keys(this._imageErrorCodeToType).concat("default"),xe=(t.each(ke,(function(t){ve.append(e("<div>").addClass(be).data("imageErrorCode",t).text("Image Error: "+t).click(we))})),function(t){var i=e(t.target);this._showImageCreatingPreviewErrorDialog(i.data("total"),i.data("failed"))}.bind(this));ve.append(e("<div>").addClass(be).data({failed:1,total:1}).text("Image Preview Creation Error: single (1/1)").click(xe)),ve.append(e("<div>").addClass(be).data({failed:2,total:3}).text("Image Preview Creation Error: some (2/3)").click(xe)),ve.append(e("<div>").addClass(be).data({failed:3,total:3}).text("Image Preview Creation Error: all (3/3)").click(xe)),fe.addClass("show"),fe.on("vclick",(function(){a._showSubmenu(".slate-debug-submenu-overlay");var e=s.find(".slate-debug-submenu");ae(fe,e)})),ve.append(e("<div>").addClass(be).text("Show Fatal Error Dialog").click((function(){a.displayFatalErrorDialog({error:"Fail to load Page project."})})))}s.find(".doneButton").on("click",(function(){return a.sendMessageToEditor("modal-done",{uuid:"",source:"foobar",event:"begin-modal"}),a.showToolbar(".slate .main-toolbar"),setTimeout((function(){s.find(".editor-wrapper").removeClass("modal")}),100),!1})),this._handleKeyDown=this._handleKeyDown.bind(this),document.addEventListener("keydown",this._handleKeyDown),this._handleBeforeUnload=this._handleBeforeUnload.bind(this),window.addEventListener("beforeunload",this._handleBeforeUnload);var ye=s.find(".toolbars, .formatting-toolbar");this._handleFormattingToolbarUp=null,this.cleanupFormattingToolbarListeners=function(){this._handleFormattingToolbarUp&&(e(window).off("mouseup",this._handleFormattingToolbarUp),e(this.editorWindow).off("mouseup",this._handleFormattingToolbarUp))},ye.mousedown(function(t){if(this.editorIsReady){var i=e(t.target);this.cleanupFormattingToolbarListeners(),this._handleFormattingToolbarUp=function(t){var n=i.closest(".formatting-toolbar").length>0,o=e(t.target).closest(".formatting-toolbar").length>0,r=!0;n&&o&&(a.retainToolbarOnNextInput=!0,r=!1),a.restoreEditorCaretState(r),this.cleanupFormattingToolbarListeners()}.bind(this),e(window).on("mouseup",this._handleFormattingToolbarUp),e(this.editorWindow).on("mouseup",this._handleFormattingToolbarUp)}}.bind(this)),s.find(".homeButton").on("vclick",(function(){marvel.navigate("/",{trigger:!0})})),s.find(".hamburgerButton").on("vclick",(function(){return marvel.events.trigger("mrvl-show-global-nav"),!1})),s.find(".getInspiredButton").on("click",function(){return a.editorIsReady&&(a.imagePickerView&&a.imagePickerView.hide(),a.themePicker&&a.themePicker.hide(),a.getInspiredView?a.getInspiredView.isShowing()?a.getInspiredView.hide(function(){a.sendMessageToEditor("panel-closed",{})}.bind(this)):a.getInspiredView.show(function(){a.sendMessageToEditor("panel-opened",{})}.bind(this)):a._handleDisplayGetInspiredPanel()),!1}.bind(this)),s.find(".themesButton").on("click",function(){return!a.hasUnsavedContent()&&a.editorIsReady&&(a.imagePickerView&&a.imagePickerView.hide(),a.getInspiredView&&a.getInspiredView.hide(function(){a.sendMessageToEditor("panel-closed",{})}.bind(this)),a.themePicker.toggle()),!1}.bind(this)),this.updateMainToolbarState(),s.find(".theme-picker .close-button").on("vclick",(function(){return a.themePicker.hide(),!1})),this._handleSyncStart=function(){a.syncInProgress=!0,this.updateMainToolbarState()}.bind(this),marvel.events.on("sync-start",this._handleSyncStart),this._handleSyncStop=function(){a.syncInProgress=!1,this.updateMainToolbarState()}.bind(this),marvel.events.on("sync-stop",this._handleSyncStop);var Se=this.$previewButton=s.find(".previewButton"),_e=s.find(".presentButton"),Ce=s.find(".printButton"),Te=this.$collabStatusBtn=s.find(".collabStatusButton");re()?s.addClass("print-supported"):(Ce.addClass("disabled"),s.addClass("print-unsupported")),a._isPrintEnabled()&&Ce.removeClass("hide").on("vclick",function(e){e.preventDefault(),e.stopPropagation(),this._hideSubmenus(),re()&&this._printPage("printButton")}.bind(this)),Se.on("click",(function(){o.currentDoc.isNew()||a.hasUnsavedContent()||o.currentDoc.getRoutableId().then((function(e){a.router.navigateToPreview(e)})).done()})),_e.on("click",(function(e){return a.showPreview(e,{presentMode:!0})}));var Ie=s.find(".shareButton"),Pe=s.find(".uploadButton"),De=s.find(".inviteButton");Pe.on("click",(function(){a._showSubmenu(".slate-share-submenu-overlay");var e=s.find(".slate-share-submenu");return ae(Pe,e),!1})),Ie.on("vclick",(function(){return a._hideSubmenus(),!a.hasUnsavedContent()&&a.editorIsReady&&(a.hasBrokenImages?alert(W.getString("share_submenu.error.photos")):a._handleShare()),!1})),De.on("vclick",(function(){a._hideSubmenus(),a._handleInvite("project")})),Te.on("click",(function(){a._handleInvite("projectHeader")}));var Fe=o.currentDoc.getCollaboration();Fe&&"NONE"!==Fe&&Te.addClass("shared-document"),this._updateOnCollabStatusChange=function(e){if(o.currentDoc===e.composite){var t=e.collab.collaborators.length+e.collab.invitations.length>0;Te.toggleClass("shared-document",t)}},marvel.events.on("document-collaboration-changed",this._updateOnCollabStatusChange),this._spinnerView=new _,o.useProgressEvents=!0,o.extendPublishAnalytics=function(e){var i=a.slateModel,n=this.getDocument(),r=0,s=0,l=0,d=0,c=0,p=0,h=0,u=0,g=0,m=0,f=0,v=0;e.themename=o.getData("themeName"),e.isTitlePresent=(!!i.getTitle()).toString(),e.isSubtitlePresent=(!!i.getSubtitle()).toString(),e.isTitleImagePresent=!1,t.each(n.pages[0].sections,function(i,n){"photo-grid"==i.type?d++:"card-flipbook"==i.type?c++:"split-layout"==i.type?p++:"title"==i.type?t.each(i.content_items,function(t){"img"==t.type&&(e.isTitleImagePresent=!0)}.bind(this)):"content"==i.type&&t.each(i.content_items,function(e){if("a"==e.type){var i=e.settings;if(t.isArray(i))for(var n=0;n<i.length;n++)if(i[n])if("embedded"==i[n].key&&1==!!i[n].value){g++;var o,r=a.sendMessageToEditor("get-url-info",{url:e.href},!0);if(r&&(o=r.embedURL),o){var s=H.getEmbedType(o);s==H.embedTypes.YOUTUBE?m++:s==H.embedTypes.SPARK_VIDEO?v++:s==H.embedTypes.VIMEO&&f++;break}}else h++}}.bind(this)),t.each(i.content_items,function(e){if(e.text){r++;var i=e.text.replace(/[^a-zA-Z\s]/g,"");s+=i.split(/[\s]+/).length,t.each(e.markups,function(e){e&&"a"===e.type&&u++}.bind(this))}else e.image?l++:""!==e.text&&console.log("UNHANDLED "+JSON.stringify(e))}.bind(this))}.bind(this)),e.isTitleImagePresent=e.isTitleImagePresent.toString(),e.imageCount=l.toString(),e.photoGridCount=d.toString(),e.glideShowCount=c.toString(),e.contextualData1="splitLayoutCount:"+p.toString(),e.contextualData2="hasGoogleAnalyticsId:"+ue(),e.textSectionCount=r.toString(),e.wordCount=s.toString(),e.linkCount=h.toString(),e.inlineLinkCount=u.toString(),e.videoCount=g.toString(),e.vimeoCount=f.toString(),e.youtubeCount=m.toString(),e.sparkVideoCount=v.toString()},o.prePublish=function(){var e=a.slateModel,t=e.getTitleImageURL(),i=t&&-1==t.search(/^blob/)&&-1==t.search(/db_thumbnails/)&&-1==t.search(/rendition/)&&-1==t.search(/\/thumb/);(t=i?t:"")&&-1==t.indexOf(a.baseUrl)&&(t=a.baseUrl+"/"+t);var n=a.getThemeObject();return o.setEmbedImage(e.getTitle(),e.getSubtitle(),e.getTitleAlignment(),t,e.getTitleImageAlignment(),j.isBuiltInTheme(n)?o.getData("themeName"):n,a.authContext).then((function(){return a.saveDocumentAndUpdateToolbar(a.slateModel.get("docModel"),{isPublishing:!0})})).catch((function(e){marvel.logger.error(e)}))},o.doPublish=function(e,t,n){var r,s,l=i.defer(),d={},c=o.getDocument();c=a._addPageAssetCredits(c),window.issueJSON=c,window.issueJSON.cdn_base_url=p.lucacdn,window.issueJSON.cdn_version=O.getRuntimeVersion(),window.issueJSON.base_url="",window.issueJSON.facebook_image=window._prjtmrvlsetup.publishedContentBases.slate+"/"+n.alias+"/embed.jpg?buster="+Date.now(),window.issueJSON.twitter_image=window._prjtmrvlsetup.publishedContentBases.slate+"/"+n.alias+"/embed.jpg?buster="+Date.now(),(s=c.pages[0]).has_author=t.showAuthor||!1,s.has_author&&(s.author={first_name:t.authorFirst,last_name:t.authorLast},t.authorAvatarUrl&&(s.author.avatar_url=t.authorAvatarUrl)),s.appreciate_url=window._prjtmrvlsetup.publishedContentBases.slate+"/"+n.id,c.isSlate=!1,r=M.getHTML(M.getJSON(),"publish"),d["index.html"]=r;var h=(new Date).toUTCString();return o.setData({lastShared:h,lucaAssetLocation:n._links.self.href,cpAssetID:n.id,cpHash:n.alias,publishURL:n.publish_url}),l.resolve(d),l.promise},o.finalizePublish=function(n,r,s){var l,d=i.defer(),c=o.getDocument();(c=a._addPageAssetCredits(c)).cdn_base_url=p.lucacdn,c.cdn_version=O.getRuntimeVersion(),c.base_url="",c.brand_type="default";var h,u=o.getData("headerDisabled");if(r.customBranding?a.authContext&&a.authContext.activated()&&null!=u&&!u?c.brand_type="brandkit":c.brand_type="none":r.removeBranding&&(c.brand_type="none"),F&&!B){var g=o.getData("googleAnalyticsId");c.use_google_analytics=!!g,g&&(c.google_analytics_id=g);var m=o.getData("cookieBannerEnabled"),f=o.getData("cookieBannerText"),v=o.getData("cookieBannerConsentCTA");c.use_cookie_banner=!!(g&&m&&f&&v),c.use_cookie_banner&&(c.cookie_banner_text=f,c.cookie_banner_cta=v)}if(c.isSlate=!1,(l=c.pages[0]).has_author=r.showAuthor||!1,l.has_author&&(l.author={first_name:r.authorFirst,last_name:r.authorLast},r.authorAvatarUrl&&(l.author.avatar_url=r.authorAvatarUrl)),K&&a.authContext){var b;if(ee){var w=o.getAllText(c),k=t.map(w,(function(e){return e.charCodeAt(0)}));b=a.authContext.getSubsetIdsForCharacterList(k)}var x=c.theme;j.isBuiltInTheme(x)||(h=$.getCustomFontDataAsync(a.authContext,x,!0,!0,b).then((function(e){c.theme.customFontFaces=e})).catch((function(e){marvel.logger.error("[slate] Page EditSession failed to fetch customFontFaces",e)})))}h=h||i.resolve();var y=o.getData("title"),S=o.getData("publishTitle"),_=o.getSetting("newDocName"),C=o.getData("publishTitleIsUserSet");return S?C||S===y||!y&&S===_||(C=!0):C=!1,C||(S=y),c.title=S,c.contentTitle=y,o.setData({embedType:"overlay",lastPublishedHeaderDisabled:u,lastSharedTitle:S,publishTitle:S,publishTitleIsUserSet:C,lastPublishedGoogleAnalyticsId:g,lastPublishedCookieBannerEnabled:m,lastPublishedCookieBannerText:f,lastPublishedCookieBannerConsentCTA:v}),h.finally(function(){e.ajax({url:"/publish/page",method:"POST",contentType:"application/json",type:"json",data:JSON.stringify({metadata:{updateOnly:!1,resourceId:r.cpResourceId,alias:r.cpAlias,assetId:r.cpAssetId,isPublic:r.isPublic,category:o.communityCategory,subcategory:r.category?[r.category]:["other"]},content:c}),success:function(e,t,i){d.resolve(e)},error:function(e,t,i){d.reject(i)}})}.bind(this)).done(),d.promise},K&&(o.getFilesDataToCopyFromServerData=function(e,n,r){var s=a.authContext,l=[],d=n.getDCXComposite().current,c=d.getComponentsOf();t.each(c,function(t){l.push({source:e.id+"/"+t.id,content_type:t.type,destination:t.path})}.bind(this));var p=t.find(d.getChildrenOf(),(function(e){return"page"==e.name})),h=d.getComponentsOf(p);if(t.each(h,function(t){l.push({source:e.id+"/"+t.id,destination:t.path,content_type:t.type})}.bind(this)),s){var u;if(ee){var g=o.getAllText(o.getDocument()),m=t.map(g,(function(e){return e.charCodeAt(0)}));u=a.authContext.getSubsetIdsForCharacterList(m)}return d=s.composite.getDCXComposite().current,s.composite.getSharedCloudCollectionId().then(function(e){var i=o.getDocument(),n=$.getCustomFontsInTheme(a.authContext,i.theme);return t.each(n,(function(i){if(u&&u.length)t.each(u,(function(t){var n=s.getComponentForCustomFont(i,t);n&&l.push({source:e+"/"+n.id,destination:"fonts/"+n.id,content_type:n.type})}));else{var n=s.getComponentForCustomFont(i);n&&l.push({source:e+"/"+n.id,destination:"fonts/"+n.id,content_type:n.type})}})),l}.bind(this))}return i.resolve(l)}),this.createThemePicker=function(){a.themePicker&&a.themePicker.undelegateEvents(),a.themePicker=new w({el:s.find(".theme-picker"),editSession:a,compositeDoc:o.currentDoc})},o.loadDocument().then((function(e){return R.getController().then((function(t){return t.getActiveContext(e)})).then((function(e){a.authContext=e})).thenResolve(e)})).then((function(e){var t,n=e.getMyApp();e.isNew()||(a.slateModel.set("isNewPub",!1),t=o.getDocument()),t?t.title&&a.slateModel.set("prevTitle",t.title):t=a.slateModel.get("docModel");var l=i(),d=!1;if(t.theme){if(!j.isBuiltInTheme(t.theme)){var c=n.getAuthoringContextThemeId(e);d=a.resetThumbnailFlag=!a.authContext||!a.authContext.getThemeById(c)}}else a.authContext?l=l.thenResolve(a.authContext.getFormatThemes("page")).then((function(i){if(i.length){var r=i[0];n.setAuthoringContextThemeId(e,r.id,!0),o.updateJsonTheme(t,a.authContext,e)}else d=!0})):d=!0;return l.then((function(){d&&(t.theme=r.get(r.DEFAULT_THEME_NAME),n.setAuthoringContextThemeId(e,null,!0));var i=j.isBuiltInTheme(t.theme)?t.theme.name:"custom";if(o.setData("themeName",i),a.slateModel.set("docModel",t),a.createThemePicker(),marvel.events.on("doc-authoring-context-assigned",a.createThemePicker),F)if(a.authContext&&a.authContext.activated()){o.currentDoc.isNew()&&o.setData("headerDisabled",!1);var l=o.getData("headerDisabled");void 0===l&&(l=!0),g.toggleClass("checked",!l)}else g.removeClass("checked"),o.setData("headerDisabled",!0);else g.addClass("checked");o.checkAndSetBranded(t.theme),s.find(".editor")[0].contentWindow.location.replace(V+a.getPreviewQueryParams()),U.setCurrentProjectId(e.id);var c=o.isBranded(),p=a.authContext?a.authContext.getId():"";a._triggerProjectEditorDisplayedAnalytic(a.slateModel.get("isNewPub"),o.currentDoc.getCollaborationForAnalytics(),ue(),c,c?p:"")}))})).catch((function(e){marvel.logger.error("[slate] failed to open editor with "+e,e),a.displayFatalErrorDialog({error:e}),marvel.events.trigger("hide-interstitial")})).done(),o.includesUploadedFonts=function(){if(K){var e=a.slateModel.get("docModel").theme;return!(!e.customFontsUsed||!e.customFontsUsed.length)}return!1},s.on("dragover.slate",(function(e){try{return e.originalEvent.dataTransfer.dropEffect="copy",a.editorWindow.NativeApp.stopDraggingFeedback(),!1}finally{s.off("dragover.slate drop.slate dragleave.slate").on("dragover.slate drop.slate dragleave.slate",t.stubFalse),e.preventDefault()}})).on("drop.slate",(function(e){if(((e.originalEvent.dataTransfer||{}).files||[]).length)return!1})).on("dragleave.slate",(function(e){a.editorWindow.NativeApp.stopDraggingFeedback()}))}return e.extend(le.prototype,{msgCallbacks:{ready:"_handleReady","editor-ready":"_handleEditorReady","begin-modal":"_handleBeginModal","contentType-change":"_handleContentChange","image-request":"_handleImageRequest","image-request-file-select":"_handleRequestFileSelect","image-remove":"_handleRemoveImage","hide-picker":"_handleHidePicker","dropped-files":"_handleDroppedFiles","display-link-dialog":"_handleDisplayLinkDialog","handle-conflict":"_handleConflict","display-photo-attribution":"_handleDisplayAttributionDialog","display-dialog":"_handleDisplayDialog",save:"_handleSave","save-pending":"_handleSavePending","broken-image":"_handleBrokenImage","modal-enable":"_handleModalEnable","text-attribute-changed":"_handleTextAttributeChanged","caret-changed":"_handleCaretChanged","preview-ready":"_handlePreviewReady","preview-close":"_handlePreviewClose","preview-ready-print":"_handlePreviewReadyPrint","print-mode-ready":"_handlePrintModeready","print-page":"_handlePrintPage","print-complete":"_handlePrintComplete","display-popup":"_handleDisplayPopup","get-picker-width":"_handleGetPickerWidth","show-help":"_handleShowHelp","analytics-track":"_handleAnalyticsTrack","user-is-active":"_handleUserIsActive","log-message":"_handleLogMessage","undo-state":"_handleUndoRedoStateChanged"},destroy:function(){this.$slateEle.off(),document.removeEventListener("keydown",this._handleKeyDown),window.removeEventListener("beforeunload",this._handleBeforeUnload),o.off("update-conflict",this._handleConflict),marvel.events.off("sync-start",this._handleSyncStart),marvel.events.off("sync-stop",this._handleSyncStop),marvel.events.off("doc-authoring-context-assigned",this.createThemePicker),this.cleanupFormattingToolbarListeners(),marvel.events.off("document-collaboration-changed",this._updateOnCollabStatusChange),window.removeEventListener("resize",this._centerNewFeatureCoachMark),marvel.events.off("editor-ready",this._showLMSNewBadge),marvel.events.off("editor-ready",this._showGDriveCoachmark),this.editorWindow=null},receiveMessage:function(e){var t=e.event;if(console.log("Shell received message: "+e.event,e),this.msgCallbacks.hasOwnProperty(t))return this[this.msgCallbacks[t]](e)},getURLInfo:function(e){return this.sendMessageToEditor("get-url-info",{url:e},!0)},_handleReady:function(e){var n=this.slateModel.get("docModel"),a=o.currentDoc.getDCXComposite().id;this.baseUrl=n.base_url="https://"+window.location.host+"/image_assets/slate/"+a,this.editorIsInitialized=!0,this.mouseIsDown=!1;var s,l={deviceType:"web",modelVersion:O.getEditorModelVersion(),alertCycleEnabled:marvel.features.hasFeature("slate-debug-locale")?"1":null};if(l=t.extend(l,O.getEditorFeatureFlags()),this.sendMessageToEditor("preferences",l),marvel.logger.info("Slate Editor Preferences ("+JSON.stringify(l)+")"),j.isBuiltInTheme(this.getThemeObject())){var d=o.getData("themeName")||r.DEFAULT_THEME_NAME;n.theme=r.get(d)}else K&&this.authContext&&(s=$.getCustomFontDataAsync(this.authContext,n.theme).then((function(e){n.theme.customFontFaces=e})).catch((function(e){marvel.logger.error("[slate] Page EditSession failed to get customFontFaces",e)})));(s=s||i.resolve()).finally(function(){this.sendMessageToEditor("set-model",{model:n,is_refresh:this.editorRefreshed}),this.editorWindow.addEventListener("mousedown",function(){this.mouseIsDown=!0}.bind(this),!0),this.editorWindow.addEventListener("mouseup",function(){this.mouseIsDown=!1,!0===this.showFormattingToolbarOnNextMouseup&&(this.showFormattingToolbar(),this.showFormattingToolbarOnNextMouseup=!1)}.bind(this),!0)}.bind(this)).done()},_handleEditorReady:function(e){this.editorIsReady=!0,this.updateMainToolbarState();var t=this;if(this.formattingToolbarView||(this.formattingToolbarView=new S({model:this.formattingToolbarModel,editSession:this}),this.formattingToolbarView.$el.on("item-type-clicked",(function(e,i,n){var o=i==n?"p":i;switch(i){case"h3":case"h4":case"blockquote":case"ul.li":case"ol.li":case"p":U.trackEvent("editor:textFormatingChanged",{textFormat:i,contextData:["projectId"]},"slate:editor")}t.sendMessageToEditor("set-item-type",{type:o})})),this.formattingToolbarView.$el.on("alignment-clicked",(function(e,i,n){var o=i==n?"none":i;t.sendMessageToEditor("change-text-attribute",{alignment:o}),t.formattingToolbarModel.set("alignment",o),U.trackEvent("editor:textAlignmentChanged",{contextData:["projectId"]},"slate:editor")})),this.formattingToolbarView.$el.on("markup-clicked",(function(e,i,n){var o;switch(t.retainToolbarOnNextInput=!0,i){case"anchor":o={anchor:n};break;case"bold":o={bold:!0};break;case"italic":o={italic:!0}}"anchor"==i?t.displayInlineLinkDialog():(t.sendMessageToEditor("change-text-attribute",o),U.trackEvent("editor:textAttributeChanged",{type:i,contextData:["projectId"]},"slate:editor"))}))),this.slateModel.get("isNewPub")){this.sendMessageToEditor("add-section",{type:"title","user-initiated":!1}),this.slateModel.set("isNewPub",!1)}if(marvel.features.hasFeature("show-slate-inspiration")&&this.$slateEle.find(".getInspiredButton").removeClass("hide"),this.$slateEle.find(".fouc").removeClass("fouc"),this.$slateEle.find(".splash-wrapper").removeClass("showing"),marvel.events.trigger("hide-interstitial"),marvel.events.trigger("editor-ready"),U.trackEvent("editor:loaded",{contextData:["projectId"]},"slate:editor"),this.$slateEle.find("iframe.editor").focus(),this.themePicker&&this.themePicker.checkBrandAndSetTooltip(),!0===this.router.isPreviewOnFirstLoad&&(this.showPreview(null,{isEduMode:this.isEduMode()}),this.router.isPreviewOnFirstLoad=!1),t.resetThumbnailFlag||o.saveThumbOnLoad&&o.saveThumbOnLoad()){var i=this;this.titleImageChange().then((function(){return t.saveDocumentAndUpdateToolbar(i.slateModel.get("docModel"))})).catch((function(e){marvel.logger.error(e)}))}},isEduMode:function(){return"true"===E.parseQueryParams(window.location.href).edu},showPreview:function(e,t){if(!this.hasUnsavedContent()&&this.editorIsReady){this.$slateEle.find(".preview-wrapper").addClass("showing"),this.$slateEle.find(".editor-wrapper .homeButton").removeClass("showing"),this.$slateEle.find(".main-toolbar").addClass("previewing"),this.themePicker.hide();var i=this.getPreviewQueryParams(t);this.$slateEle.find(".preview-wrapper iframe.preview")[0].contentWindow.location.replace(q+i),this.getInspiredView&&this.getInspiredView.hide(function(){this.sendMessageToEditor("panel-closed",{})}.bind(this)),t&&t.presentMode&&(this._enteringPresentMode(),e.shiftKey||this.Fullscreen.enter()),U.trackEvent("projectPreviewed",{contextData:["projectId"]},"slate:editor")}return!1},_triggerProjectEditorDisplayedAnalytic:function(e,t,i,n,r){U.trackEvent("project:editorDisplayed",{isNewProject:e,isBranded:n,sparkFormat:"page",contextData:["projectId"],includesUploadedFonts:o.includesUploadedFonts(),contextualData2:"hasGoogleAnalyticsId:"+i,contextualData23:"brandId:"+r,contextualData24:"collabStatus:"+t},"slate:editor")},_showSubmenu:function(e){var t=this.$slateEle.find(e);t.addClass("showing"),t.on("click.slateSubmenu",function(e){e.target===t[0]&&this._hideSubmenus()}.bind(this))},_hideSubmenus:function(){var e=this.$slateEle.find(".submenu");e.removeClass("showing"),e.off("click.slateSubmenu")},_isPrintEnabled:function(){return!0},_showSpinner:function(e){this._spinnerView.show(W.getString("slate_spinner.title")),this._spinnerView.on("cancel",this._handleCancelPrintPage.bind(this))},_hideSpinner:function(e){this._spinnerView.hide(),this._spinnerView.off("cancel")},_printPage:function(t){var i,n=e(".pdf-static-holder");if(this._showSpinner(),this.printingInProgress=!1,0===n.length){n=e("<div>").addClass("pdf-static-holder").css({position:"absolute",width:"800px",top:0,left:"-1000px",zIndex:9999,backgroundColor:"rgba(0,0,0,0.8)",textAlign:"center",padding:"2px"}),i=e("<iframe>").css({width:"100%",height:"600px"});var r=e("<button>").text(W.getString("print.preview.close")).css({padding:"6px 9px",margin:"4px"}).one("click",(function(e){n.remove()})),a=e('<button class="printNowButton" disabled="true">').text(W.getString("print.preview.print")).css({padding:"6px 9px",margin:"4px"}).on("click",function(e){return this._hideSpinner(),(i=n.find(".print-preview")).length&&(this.printingInProgress=!0,i[0].focus(),i[0].contentWindow.focus(),i[0].contentWindow.printPage()),!1}.bind(this));n.append(i),n.append(r),n.append(a),e("body").append(n)}else(i=n.find(".print-preview")).remove(),i=e("<iframe>").css({width:"100%",height:"500px"}),n.append(i);i.addClass("preview").addClass("print-preview");var s=this.getPreviewQueryParams();s=s?s+"&page-mode=print":"?page-mode=print",s+="&print_preflight=1",i[0].contentWindow.isPrintPreflight=!0,i[0].contentWindow.location.replace(q+s),o.currentDoc.getMyApp().beginLongUserActivity(),this._sendPrintStartedAnalytics(t)},_handleShare:function(){!this.hasUnsavedContent()&&this.editorIsReady&&o.currentDoc.hasCloudDocChanged().then(function(e){if(e){var t=this.slateModel.get("docModel");if(t)return this.saveDocumentAndUpdateToolbar(t,void 0,!1).then((function(){marvel.events.trigger("share-workflow-current-doc")}))}else marvel.events.trigger("share-workflow-current-doc")}.bind(this)).catch((function(e){marvel.logger.error(e)})).done()},_handleInvite:function(e){!this.hasUnsavedContent()&&this.editorIsReady&&marvel.events.trigger("spark-invite-collaborators-to-current-doc",{composite:o.currentDoc,source:e||"project",page:"slate:editor"})},_handleKeyDown:function(e){if(8==e.keyCode){var t=e.target,i=t.tagName.toUpperCase();!0===t.isContentEditable||"TEXTAREA"==i||"INPUT"==i&&!{button:1,checkbox:1,file:1,image:1,radio:1,range:1,reset:1,submit:1}[t.type]||e.preventDefault()}else if(9==e.keyCode)e.preventDefault();else if(80==e.keyCode){if(re()&&this._isPrintEnabled())e[/^Mac/.test(navigator.platform)?"metaKey":"ctrlKey"]&&(e.preventDefault(),this._printPage("keyboardShortcut"))}},beginImageProcessing:function(){return 1==++this.imageProcessingBatchCount&&this.updateMainToolbarState(),this.imageProcessingBatchCount},endImageProcessing:function(){return--this.imageProcessingBatchCount<0&&(console.error("Unbalanced endImageProcessing call!"),this.imageProcessingBatchCount=0),0===this.imageProcessingBatchCount&&this.updateMainToolbarState(),this.imageProcessingBatchCount},isProcessingImages:function(){return this.imageProcessingBatchCount>0||this.slateModel.get("pushInProgress")},isSavingContent:function(){return this.syncInProgress||this.slateModel.get("pushInProgress")},hasUnsavedContent:function(){return this.slateModel.get("savePending")||this.isProcessingImages()},isBusy:function(){return this.isSavingContent()||this.isProcessingImages()},_updateSavingIndicator:function(){var e=this.$slateEle.find(".syncButton");this.hasUnsavedContent()?e.addClass("syncing"):e.removeClass("syncing")},_handleBeforeUnload:function(e){if(this.hasUnsavedContent()&&!marvel.okToReload){return e.returnValue="You have unsaved changes.","You have unsaved changes."}},_addPageAssetCredits:function(e){var t=o.getDocumentCredits(),i=e&&e.pages;if(i&&t)for(var n=i.length,r=0;r<n;r++){var a=i[r];a&&(a.credits=t)}return e},_addPageAssetAuthor:function(e){if(!e||!e.pages)return e;if(o.getData("displayAuthorProfile")){var t=o.getData("authorFirstName"),i=o.getData("authorLastName"),n=o.getData("authorAvatarUrl");e.pages.forEach((function(e){e.author={first_name:t,last_name:i,avatar_url:n}}))}return e},_addPageAssetBrand:function(e){if(!e)return i.resolve(e);var t=o.getData("headerDisabled");if(marvel.features.hasFeature("entitle-brand-kit"))if(t||void 0===t)e.brand_type="none";else if(this.authContext)return this.authContext.getChromeInfo().then(function(t){e.brand=this._applyDefaultBrandMappings(t),e.brand_type="brandkit",e.hasBrandChrome=!0}.bind(this)).thenResolve(e);return i.resolve(e)},_applyDefaultBrandMappings:function(e){var i=t.extend({},{splashLogo:null,splashLoadingLabelColor:"#909090",splashTextColor:"#6e6e6e",splashProgressBarColor:"#ccc",ctaBkgColor:"#35414d",ctaTextColor:"#82939d",headerLogo:null,headerBkgFloaterColor:"rgba(255,255,255,0.65)",headerBkgGradientStartColor:"rgba(255,255,255,0.6)",headerBkgGradientStopColor:"rgba(255,255,255,0)",headerBkgSectionColor:"rgba(255,255,255,1)",bumperLogo:null,bumperBkgColor:"#35414d",bumperTextColor:"#82939d"},e),o={splashLogo:["chrome-preloader-logo-href","primary-logo-href"],splashTextColor:["chrome-text-color","primary"],splashLoadingLabelColor:["chrome-text-color","alternate"],splashProgressBarColor:["chrome-text-color","alternate"],ctaBkgColor:["chrome-header-cta-background-color","primary"],ctaTextColor:["chrome-header-cta-color","alternate"],headerCta:["headerCTA","ctaLabel"],headerCtaUrl:["headerCTAURL","ctaURL"],headerCtaButtonStyle:["headerCTAButtonStyle","ctaButtonStyle"],footerCta:["footerCTA","ctaLabel"],footerCtaUrl:["footerCTAURL","ctaURL"],footerCtaButtonStyle:["footerCTAButtonStyle","ctaButtonStyle"],headerLogo:["chrome-header-logo-href","primary-logo"],headerBkgFloaterColor:"primary",headerBkgGradientStartColor:"primary",headerBkgGradientStopColor:"primary",headerBkgSectionColor:"primary",bumperLogo:["chrome-footer-logo-href","primary-logo"],bumperBkgColor:["chrome-footer-background-color","primary"],bumperTextColor:["chrome-footer-color","chrome-text-color","alternate"],twitterUrl:"twitterURL",instagramUrl:"instagramURL",facebookUrl:"facebookURL"};for(var r in o)if(!e[r]){var a=o[r];Array.isArray(a)||(a=[a]);for(var s=0,l=a.length;s<l;s++){var d=e[a[s]];if(d){i[r]=d;break}}}for(var r in i){var c=i[r];switch(r){case"headerBkgFloaterColor":i[r]=oe(c,"0.95");break;case"headerBkgGradientStartColor":i[r]=oe(c,"0.6");break;case"headerBkgGradientStopColor":i[r]=oe(c,"0");break;case"ctaButtonStyle":i[r]="brand-cta-"+c}}var p=e["chrome-social-icons-color"];return i.facebookIcon=btoa(n.render(I,{FILL_COLOR:p,FILL_OPACITY:.85})),i.twitterIcon=btoa(n.render(P,{FILL_COLOR:p,FILL_OPACITY:.85})),i.instagramIcon=btoa(n.render(D,{FILL_COLOR:p,FILL_OPACITY:.85})),i},_handlePreviewReady:function(e){var n,o=this.sendMessageToEditor("get-model",{},!0).model,r=t.cloneDeep(o);r.preview_data={},this._addPageAssetCredits(r),this._addPageAssetAuthor(r),r.preview_data.scrollInfo=this.sendMessageToEditor("get-scroll-info",{},!0),!j.isBuiltInTheme(r.theme)&&K&&this.authContext&&(n=$.getCustomFontDataAsync(this.authContext,r.theme).then((function(e){r.theme.customFontFaces=e})).catch((function(e){marvel.logger.error("[slate] Page EditSession failed to get customFontFaces",e)}))),(n=n||i.resolve()).finally(function(){this._addPageAssetBrand(r).then(function(){var e=this.$slateEle.find("iframe.preview")[0].contentWindow;e.loadJSON(r,{}),e.localize(W.getLocale(),W.getFlatStrings())}.bind(this)).catch((function(e){console.error("[slate] Error loading brand values for brand kit:"),console.log(e)})).done()}.bind(this)).done()},_handlePreviewReadyPrint:function(n){var o,r=this.sendMessageToEditor("get-model",{},!0).model,a=t.cloneDeep(r);this._addPageAssetCredits(a),this._addPageAssetAuthor(a),!j.isBuiltInTheme(a.theme)&&K&&this.authContext&&(o=$.getCustomFontDataAsync(this.authContext,a.theme).then((function(e){a.theme.customFontFaces=e})).catch((function(e){marvel.logger.error("[slate] Page EditSession failed to get customFontFaces",e)}))),(o=o||i.resolve()).finally(function(){this._addPageAssetBrand(a).then(function(){e(".pdf-static-holder");e("iframe.print-preview")[0].contentWindow.loadJSON(a,{})}.bind(this)).catch((function(e){console.error("[slate] Error loading brand values for brand kit:"),console.log(e)})).done()}.bind(this)).done()},_handlePrintModeready:function(t){if(e(".pdf-static-holder").find(".printNowButton").prop("disabled",!1),this._hideSpinner(),!this.printingInProgress){this.printingInProgress=!0;var i=e("iframe.print-preview");i[0].contentWindow.focus(),i[0].contentWindow.printPage()}},_handlePrintPage:function(){this._printPage("keyboardShortcut")},_handleCancelPrintPage:function(){var t=e("iframe.print-preview");this.printingInProgress||t[0].contentWindow.location.replace("about:blank"),this._spinnerView.off("cancel"),o.currentDoc.getMyApp().endLongUserActivity(),this._sendPrintCanceledAnalytics("cancel")},_handlePrintComplete:function(){o.currentDoc.getMyApp().endLongUserActivity(),this.printingInProgress&&this._sendPrintCompleteAnalytics("unknown"),this.printingInProgress=!1},_sendPrintStartedAnalytics:function(e){U.trackEvent("printFlow:started",this.getBrandingAnalytics({trigger:e}),"slate:editor")},_sendPrintCanceledAnalytics:function(){U.trackEvent("printFlow:canceled",this.getBrandingAnalytics(),"slate:editor")},_sendPrintCompleteAnalytics:function(e){var t=!1,i=o.includesUploadedFonts();o.currentDoc&&o.currentDoc.getDataFromRoot&&o.currentDoc.setAndSaveDataToRoot&&((t=o.currentDoc.getDataFromRoot("cp#isExported"))||o.currentDoc.setAndSaveDataToRoot("cp#isExported",!0));R.getExportAnalytics(o.currentDoc,"default","print").then(function(n){n.isReExport=t?"true":"false",n.includesUploadedFonts=i,n.reason=e,n.exportedWithBranding&&U.trackEvent("exportedBrandedProject",n,"slate:editor"),U.trackEvent("project:exportCompleted",n,"slate:editor")}.bind(this)).done()},_handlePreviewClose:function(e){o.currentDoc.getRoutableId().then(function(e){this.router.navigateBackToEditor(e)||this.closePreview()}.bind(this)).done()},closePreview:function(){this.$slateEle.find(".preview-wrapper").removeClass("showing"),this.$slateEle.find(".preview-wrapper iframe.preview")[0].contentWindow.location.replace(G),this.$slateEle.find(".editor-wrapper").addClass("showing"),this.$slateEle.find(".main-toolbar").removeClass("previewing"),this.$slateEle.find(".homeButton").addClass("showing"),this._exitingPreviewOrPresentMode()},_handleBeginModal:function(t){this.$slateEle.find(".cancelButton").removeAttr("disabled"),this.showToolbar(".slate .modal-toolbar",t.title),e(".editor-wrapper").addClass("modal")},_handleModalEnable:function(e){this.$slateEle.find(".doneButton").prop("disabled","false"===String(e.enabled))},titleImageChange:function(){marvel.events.trigger("sync-start",!0);var e,t=this,n=this.slateModel,r=this.titleImageUrl=n.getTitleImageURL(),a=/^[^\:]{2,6}\:/.test(r);return!(r&&-1==r.search(/^blob/)&&-1==r.search(/db_thumbnails/)&&-1==r.search(/rendition/)&&-1==r.search(/\/thumb/)&&-1==r.search(/\/preview/)&&-1==r.search(/flickr/)&&-1==r.search(/unsplash/)&&-1==r.search(/\/get/)&&-1==r.search(/\.fbcdn\.net/)&&-1==r.search(/\.ftcdn\.net/)&&-1==r.search(/\.cdninstagram\.com/)&&-1==r.search(/bing/)&&-1==r.search(/google/))&&r?(t._isSavingTitleImage=!0,i.resolve()):F.execute("Slate Title Image",!1,(function(i){e=n.getTitleImageAlignment(),o.setWebCoverImage(r,e),r&&!a&&-1==r.indexOf(t.baseUrl)&&(r=t.baseUrl+"/"+r),i.promises.push(o.copyThumbnailFrom(r,e))})).then((function(e){return t._isSavingTitleImage=!1,e}))},_handleContentChange:function(t){this.formattingToolbarModel.set("contentType",t.params.contentType),this.formattingToolbarModel.set("alignment",t.params.alignment),this.formattingToolbarModel.set("parentContentType",t.params.parentContentType),e(".editor-wrapper").hasClass("modal")||this.showToolbar(".slate .main-toolbar")},_handleTextAttributeChanged:function(e){e.params&&this.formattingToolbarModel.set("markups",{bold:e.params.bold||!1,italic:e.params.italic||!1,anchor:e.params.anchor||!1})},_handleCaretChanged:function(e){var t=this.editorWindow.getSelection(),i=t.toString().length,n=!1;if(t.rangeCount>0){var o=e.params,r=o.reason,a=o.sourceEvent;if(this.formattingToolbarModel.set("caretMetrics",o.caretMetrics),"input"==r)this.retainToolbarOnNextInput&&(this.retainToolbarOnNextInput=!1,n=!0);else if("keyboard"==r)if(i>0)n=!0;else{var s=/^Mac/.test(navigator.platform)?"metaKey":"ctrlKey";a&&a[s]&&65==a.keyCode&&(n=!0)}else"itemTypeChange"==r?n=!0:"mouse"==r?this.mouseIsDown?this.showFormattingToolbarOnNextMouseup=!0:n=!0:"force"===r&&(n=!0)}n?this.showFormattingToolbar():this.hideFormattingToolbar()},showFormattingToolbar:function(){this._isFreeUser()&&U.trackEvent("viewedTextToolbar",this.getBrandingAnalytics({trigger:"page:texttoolbar"}),"slate:editor"),this.formattingToolbarModel.set("show",!0)},hideFormattingToolbar:function(){this.formattingToolbarModel.set("show",!1)},showToolbar:function(t,i){e(".slate .toolbar").removeClass("show"),e(t).addClass("show").find(".title").text(i||"")},_handlePushChange:function(){this.slateModel.set("pushInProgress",this.pendingImages.length>0),this.updateMainToolbarState()},_handleSaveContext:function(e,t,i){this.saveContext(e,t,i)},_handleDeleteContext:function(e){this.deleteContext(e)},_handlePendingImageResponse:function(e,t){t&&ne(e,t),this.sendMessageToEditor("image-response",e,!0)},_handlePendingImageError:function(e,t){console.error("[slate] Error handling selected image:",t);var i=null,n=null;t&&(t.hasOwnProperty("status")?((n=i=t.status)>1e3&&(n-=1e5*Math.floor(n/1e5)),t.transload&&(i=t.responseText&&-1!=t.responseText.search(/download/i)?"TRNSDNLD"+n:"TRNSUPLD"+n)):t.hasOwnProperty("code")&&(n=i=t.code,"UNEXPECTED_RESPONSE"==t.code&&(i=t.message))),this._showImageErrorDialog(n,i),this.sendMessageToEditor("image-error",{source:e},!0)},_imageErrorCodeToType:{0:"no.connect",404:"not.found",413:"too.large",415:"invalid.type",503:"service.unavailable",504:"service.unavailable",NETWORK_ERROR:"no.connect"},_showImageErrorDialog:function(e,t){var i="default";null!==e&&(i=this._imageErrorCodeToType[e]||"default");var n,o=W.getString("error.images."+i+".title"),r=W.getString("error.images."+i+".body");null!==t&&(n=W.format("error.images.status.code",{code:t})),this.showDialog({title:o,content:r,remark:n,buttons:[W.getString("error.images.dismiss")]})},updateToolbarDisabled:function(){var e=this.$slateEle.find(".previewButton, .uploadButton, .settingsButton, .presentButton, .collabStatusButton, .themesButton, .getInspiredButton");this.hasUnsavedContent()||!this.editorIsReady?e.prop("disabled",!0).addClass("disabled"):(e.prop("disabled",!1).removeClass("disabled"),o&&o.currentDoc&&o.currentDoc.isNew()&&this.$slateEle.find(Z).prop("disabled",!0).addClass("disabled"))},updateMainToolbarState:function(){this._updateSavingIndicator(),this.updateToolbarDisabled()},saveDocumentAndUpdateToolbar:function(e,t,i){var n=o.saveDocument(e,t).finally(function(){this.slateModel.set("savePending",!1),this.updateMainToolbarState()}.bind(this));return i?n.catch((function(e){marvel.logger.error("[slate] Failed to save project",e)})).done():n},showPicker:function(e){this.imagePickerView||(this.imagePickerView=new a({image_filter:["jpg","jpeg","png","image/jpeg","image/png"],lightroomImporter:!0}),this.imagePickerView.on("wantPageReload",(function(e){return!0})),this.imagePickerView.setCallbacks(t.bind(this._handleImageServiceFiles,this),t.bind(this._handleLocalFiles,this)),this.imagePickerView.setElement(".image-picker-container"),this.imagePickerView.render()),this.imagePickerView.show(e)},hidePicker:function(){this.imagePickerView&&this.imagePickerView.hide(),this.themePicker.hide(),this.getInspiredView&&this.getInspiredView.hide(function(){this.sendMessageToEditor("panel-closed",{})}.bind(this))},_handleImageRequest:function(e){this.slateModel.set("source",e.source),this.slateModel.set("maxDimension",e.maxDimension||1024),this.slateModel.set("detectPanoramas",e.detectPanoramas),this.slateModel.set("multiSelect",e.multiSelect),this.slateModel.set("replacedUUID",e.uuid);var t=this.getContext(e.uuid);this.showPicker({context:t,multiSelect:e.multiSelect,suppressServiceUI:e.suppressServiceUI})},_handleRequestFileSelect:function(e){this.imagePickerView.requestFileSelect()},_handleRemoveImage:function(e){for(var t=e.imageSources,i=0,n=t.length;i<n;i++){var r=t[i].source,a=t[i].uuid;this.pendingImages.removeBySource(r),t[i].isTitleImage&&o.clearWebCoverImage(),o.removeImage(a)}},_handleHidePicker:function(e){this.hidePicker()},_handleDisplayLinkDialog:function(e){e.embedded?this.displayEmbeddedLinkDialog(!0,e.location,e):this.displayLinkDialog(!0,e.location,e)},_handleConflict:function(e){this.displayConflictDialog(e)},saveEditorCaretState:function(){return this.sendMessageToEditor("set-editor-context",{paused:!0},!0)},restoreEditorCaretState:function(e){return this.sendMessageToEditor("set-editor-context",{paused:!1,clearContext:e},!0)},sendMessageToEditor:function(e,t,i){if(this.editorWindow){if(t||(t={}),t.type&&(t.itemType=t.type,delete t.type),t.type=e,t.__slateSource__="adobe-spark-page-editor-shell",i)return this.editorWindow.slateEvents.postMessage(t);this.editorWindow.postMessage(t,"*")}},_handleUndo:function(e){this.sendMessageToEditor("undo")},_handleRedo:function(e){this.sendMessageToEditor("redo")},_handleUndoRedoStateChanged:function(e){this.$slateEle.find(".undoButton").prop("disabled",!e.hasUndo),this.$slateEle.find(".redoButton").prop("disabled",!e.hasRedo)},_handleLinkDialogDone:function(){if(this.sendMessageToEditor("insert-link",this.linkData),this.linkData.embedded)if(this.linkData.href){var e,t=this.sendMessageToEditor("get-url-info",{url:this.linkData.href},!0);if(t&&(e=t.embedURL),e){var i=H.getEmbedType(e);for(var n in H.embedTypes)if(H.embedTypes[n]==i){U.trackEvent("editor:embededLinkAdded",{contextData:["projectId"],embedType:n},"slate:editor");break}}}else marvel.logger.error("[slate] Error - href property missing on embed link data: "+this.linkData);else U.trackEvent("editor:linkAdded",{contextData:["projectId"]},"slate:editor")},_handleInlineLinkDialogDone:function(){this.restoreEditorCaretState(),this.sendMessageToEditor("change-text-attribute",{anchor:this.inlineLinkData.href}),U.trackEvent("editor:inlineLinkAdded",{contextData:["projectId"]},"slate:editor")},_handleInlineLinkDialogCancel:function(){this.restoreEditorCaretState()},_handleInlineLinkDialogRemove:function(){this.restoreEditorCaretState(),this.sendMessageToEditor("change-text-attribute",{anchor:""})},_handleLinkDialogCancel:function(){this.sendMessageToEditor("link-canceled",{source:this.linkData.source})},displayLinkDialog:function(t,i,n){this._linkDialogOverlay&&!this._linkDialogOverlay.$el.hasClass("hide")?(this.linkData.location=n.location,this.linkData.source=n.source?n.source:this.linkData.source,this._linkDialogOverlay.positionDialog()):(this._linkDialogOverlay||(this._linkDialogOverlay=new u(this.getURLInfo.bind(this)),this._linkDialogOverlay.model.on("change:linkData",this._handleLinkDialogDone,this),this._linkDialogOverlay.on("cancel",this._handleLinkDialogCancel,this)),this.linkData=e.extend({},n),this._linkDialogOverlay.populate(this.linkData),this._linkDialogOverlay.showOverlay())},displayEmbeddedLinkDialog:function(t,i,n){this._embeddedLinkDialogOverlay&&!this._embeddedLinkDialogOverlay.$el.hasClass("hide")?(this.linkData.location=n.location,this.linkData.source=n.source?n.source:this.linkData.source,this._embeddedLinkDialogOverlay.positionDialog()):(this._embeddedLinkDialogOverlay||(this._embeddedLinkDialogOverlay=new g(this.getURLInfo.bind(this)),this._embeddedLinkDialogOverlay.model.on("change:linkData",this._handleLinkDialogDone,this),this._embeddedLinkDialogOverlay.on("cancel",this._handleLinkDialogCancel,this)),this.linkData=e.extend({},n),this._embeddedLinkDialogOverlay.populate(this.linkData),this._embeddedLinkDialogOverlay.showOverlay())},displayInlineLinkDialog:function(){var t=((this.saveEditorCaretState()||{}).caretMetrics||{}).extent,i={href:this.formattingToolbarModel.get("markups").anchor,location:t};this._inlinelinkDialogOverlay&&!this._inlinelinkDialogOverlay.$el.hasClass("hide")?(this.inlineLinkData.location=i.location,this._inlineLinkDialogOverlay.positionDialog()):(this._inlineLinkDialogOverlay||(this._inlineLinkDialogOverlay=new m(this.getURLInfo.bind(this)),this._inlineLinkDialogOverlay.model.on("change:linkData",this._handleInlineLinkDialogDone,this),this._inlineLinkDialogOverlay.on("cancel",this._handleInlineLinkDialogCancel,this),this._inlineLinkDialogOverlay.on("remove",this._handleInlineLinkDialogRemove,this)),this.formattingToolbarModel.set("show",!1),this.inlineLinkData=e.extend({},i),this._inlineLinkDialogOverlay.populate(this.inlineLinkData),this._inlineLinkDialogOverlay.showOverlay())},displayConflictDialog:function(e){var t=this._conflictDialogOverlay;t||(t=this._conflictDialogOverlay=new h).on("conflict-dialog-push",function(){this._handleConflictPush(t.getData())}.bind(this)).on("conflict-dialog-pull",function(){this._handleConflictPull(t.getData())}.bind(this)).on("conflict-dialog-show",function(){this.saveEditorCaretState()}.bind(this)).on("conflict-dialog-hide",function(){this.restoreEditorCaretState()}.bind(this)),t.setData(e),t.setDatetime(e.datetime),t.showOverlay()},displayFatalErrorDialog:function(e){this._fatalErrorDialogOverlay&&!this._fatalErrorDialogOverlay.$el.hasClass("hide")||(this._fatalErrorDialogOverlay||(this._fatalErrorDialogOverlay=new v,this._fatalErrorDialogOverlay.on("select",this._handleFatalErrorDialogConfirm,this)),this._fatalErrorDialogOverlay.populate(e),this._fatalErrorDialogOverlay.showOverlay())},_handleFatalErrorDialogConfirm:function(){marvel.navigate("/",{trigger:!0})},_handleConflictPush:function(e){this.saveDocumentAndUpdateToolbar(this.slateModel.get("docModel"),{override:!0},!1).then((function(){e.commitDefer&&e.commitDefer.resolve()})).catch((function(t){e.commitDefer?e.commitDefer.reject(t):marvel.logger.error("[slate] editSession._handleConflictPush returned err",t)})).done(),this._conflictDialogOverlay.hideOverlay()},_handleConflictPull:function(e){e.pushBeforePull?e.pushBeforePull().then((function(){marvel.okToReload=!0,window.location.reload()})).catch((function(e){console.error("[slate] handleConflictPull failed to pushBeforePull and caught "+e,e),marvel.okToReload=!0,window.location.reload()})):(marvel.okToReload=!0,window.location.reload())},_handleEditorDialogCancel:function(){this.sendMessageToEditor("dialog-dismissed",{selectedIndex:-1})},_handleEditorDialogDone:function(){var e=this._editorDialogOverlay.model.get("index");this.sendMessageToEditor("dialog-dismissed",{selectedIndex:e})},_handleDisplayGetInspiredPanel:function(){this.getInspiredView||(this.getInspiredView=new s,this.getInspiredView.setElement(".get-inspired-panel"),this.getInspiredView.category="slate-inspiration",this.getInspiredView.render()),this.getInspiredView.show(function(){this.sendMessageToEditor("panel-opened",{})}.bind(this))},getBrandingAnalytics:function(t){var i={contextData:["projectId"],sparkFormat:"page"};return t&&e.extend(i,t),i},_isFreeUser:function(){return!this._isEntitledUser()},_userHasBrandkit:function(){return this.authContext.activated()},_isEntitledUser:function(){return marvel.features.hasFeature("entitle-brand-kit")},_handleDisplayAttributionDialog:function(e){var t={license:{image_id:e.license.image_id,owner:e.license.owner,photo_name:e.license.photo_name,source_name:e.license.source_name,type:e.license.type,source_url:e.license.source_url,licenseObject:e.license},imageSource:e.source,path:e.path,uuid:e.uuid},i={editorEl$:this.$slateEle,location:e.location,licenseUpdatedCallback:this._licensedUpdatedFromImageAttributionDialog.bind(this),calcLocationFromIcon:!1};a.displayAttributionDialog(t,i).then(function(e){this.sendMessageToEditor("popup-dismissed",{})}.bind(this),function(e){marvel.logger.error("[slate] editSession.displayAttributionDialog returned err",e)}.bind(this))},_licensedUpdatedFromImageAttributionDialog:function(e,t){var i={uuid:t.uuid,original:{link:e.href,width:e.width,height:e.height}},n=t.imageSource,o=[],r=i.original,a={width:r.width,height:r.height};this.beginImageProcessing(),t.license.type=e.licenseType,o.push({uuid:t.uuid,path:t.path,imageSize:a,is_preview:!0,is_new:!1,license:t.license});var s={source:n,images:o},l=this.getContext(t.uuid);this.sendMessageToEditor("image-response",s,!0);var d,c={source:n,serviceSource:"adobestock",imageSize:a,maxDimension:this.slateModel.get("maxDimension"),previewUUID:t.uuid},p=this.pendingImages.insert("service",c),h={title:(d=t.license).photo_name,owner:{name:d.owner},source:{name:d.source_name},context:{href:d.source_url},license:{short_name:d.type},image_id:d.image_id};h.searchText=l.search_string,p.load(i,h),this.endImageProcessing(),console.log("Licensed It!")},_handleDisplayDialog:function(e){this.showDialog(e)},_handleHidePopup:function(){this._popupDialogOverlay&&this._popupDialogOverlay.hideOverlay()},_handleDisplayPopup:function(e){e.content;var t=!e.uncloseable,i=T.toString(),n={fields:{content:e.content,title:e.title},location:e.location,el:".popup-dialog-overlay",template:i};if(marvel._dialogShowing){if(!this._popupDialogOverlay||this._popupDialogOverlay.$el.hasClass("hide"))return void console.log("Other dialog already showing");this._popupDialogOverlay.model.set({location:e.location})}this._popupDialogOverlay?this._popupDialogOverlay.update(n):(this._popupDialogOverlay=new k(n),this._popupDialogOverlay.on("cancel",function(){this.sendMessageToEditor("popup-dismissed",{})}.bind(this))),this._popupDialogOverlay.showOverlay(),t||this._popupDialogOverlay.unclosable()},_handleGetPickerWidth:function(e){var t=this.$slateEle.find(".photo-picker"),i=t.length?t.width():301;this.sendMessageToEditor("picker-width",{width:i})},_handleShowHelp:function(e){this.showHelp(e.context)},showHelp:function(e){switch(e){case"glideshow":this._showHelpForGlideshow()}},_showHelpForGlideshow:function(){this._helpDialogOverlay||(this._helpDialogOverlay=new b),this._helpDialogOverlay.populate({title:W.getString("dialog.help.glideshow.title"),video:{width:640,height:364,autoplay:!0,source:[{src:p.lucacdn+"videos/GlideshowTutorial_web.mp4",type:"video/mp4"},{src:p.lucacdn+"videos/GlideshowTutorial_web.webm",type:"video/webm"}]},content:W.getString("dialog.help.glideshow.content"),buttonOK:W.getString("dialog.help.glideshow.button.ok")}),this._helpDialogOverlay.showOverlay()},_handleAnalyticsTrack:function(e){var i=t.extend({sparkFormat:"page",contextData:["projectId"]},e.eventData);0===String(e.pageName).indexOf("slate:")&&U.trackEvent(e.eventName,i,e.pageName)},_handleUserIsActive:function(){o.currentDoc.getMyApp().userIsActive()},_handleLogMessage:function(t){var i={info:"info",warn:"warn",error:"error",debug:"debug",traceflow:"traceflow"}[t.message.type]||"info",n=marvel.logger,o=t.message.args;"error"===i&&(o=o.map((function(t){return t&&"object"==typeof t&&t.message&&t.stack?e.extend(new Error(t.message),t):t}))),n[i].apply(n,o)},isCollaborationEnabled:function(){return o.currentDoc.getMyApp().isCollaborationEnabled()},restartPresentModeInactivityTimer:function(){0!==te&&ae()},_enteringPresentMode:function(){marvel.logger.traceflow("baton-timeout","_enteringPresentMode"),this.isCollaborationEnabled()&&(this._inPresentMode=!0,ae(),o.currentDoc.getMyApp().beginLongUserActivity())},_exitingPreviewOrPresentMode:function(){marvel.logger.traceflow("baton-timeout","_exitingPreviewOrPresentMode"),this.isCollaborationEnabled()&&this._inPresentMode&&(this._inPresentMode=!1,te?(se(),o.currentDoc.getMyApp().endLongUserActivity()):window.location.reload())},_triggerSave:function(){this._handleSavePending(),this.saveDocumentAndUpdateToolbar(this.slateModel.get("docModel"),void 0,!0)},_handleSavePending:function(e){this.slateModel.set("savePending",!0),this.updateMainToolbarState()},_handleModelChangeForAA:function(e,i){for(var n=0,o=0,r=0,a=0,s=i.pages[0].sections,l=0;l<s.length;l++)if(s[l]&&("photo-grid"==s[l].type&&r++,"card-flipbook"==s[l].type&&n++,"split-layout"==s[l].type&&o++,"content"==s[l].type))for(var d=s[l].content_items,c=0;c<d.length;c++)d[c]&&d[c].text&&"img"!=d[c].type&&"a"!=d[c].type&&a++;if(t.isArray(e.pages)){var p=e.pages[0].sections;for(l=0;l<p.length;l++)if(p[l]&&("photo-grid"==p[l].type&&r--,"card-flipbook"==p[l].type&&n--,"split-layout"==p[l].type&&o--,"content"==p[l].type))for(d=p[l].content_items,c=0;c<d.length;c++)d[c]&&d[c].text&&"img"!=d[c].type&&"a"!=d[c].type&&a--}n>0?t.times(n,(function(){U.trackEvent("editor:glideShowAdded",{contextData:["projectId"]},"slate:editor")})):t.times(Math.abs(n),(function(){U.trackEvent("editor:glideShowRemoved",{contextData:["projectId"]},"slate:editor")})),o>0?t.times(o,(function(){U.trackEvent("editor:splitLayoutAdded",{contextData:["projectId"]},"slate:editor")})):t.times(Math.abs(o),(function(){U.trackEvent("editor:splitLayoutRemoved",{contextData:["projectId"]},"slate:editor")})),r>0?t.times(r,(function(){U.trackEvent("editor:photoGridAdded",{contextData:["projectId"]},"slate:editor")})):t.times(Math.abs(r),(function(){U.trackEvent("editor:photoGridRemoved",{contextData:["projectId"]},"slate:editor")})),a>0?t.times(a,(function(){U.trackEvent("editor:textContentItemAdded",{contextData:["projectId"]},"slate:editor")})):t.times(Math.abs(a),(function(){U.trackEvent("editor:textContentItemRemoved",{contextData:["projectId"]},"slate:editor")}))},_handleSave:function(e){var t=e.changes,n=e.refresh?jQuery.extend(!0,{},e.model):e.model,r=this.slateModel.get("docModel");this._handleModelChangeForAA(r,n),this.slateModel.set("docModel",n);var a=i.resolve();if((t.titleImagePosition||t.titleImage)&&(a=this.titleImageChange()),t.titleImage&&U.trackEvent("editor:titleImageChanged",{contextData:["projectId"]},"slate:editor"),"string"==typeof t.titleText){var s=this.slateModel.get("prevTitle"),l=o.getSetting("newDocName"),d=o.getCompositeName();d!=s&&d!=l||o.setCompositeName(t.titleText),o.setData("title",t.titleText),o.getData("publishTitleIsUserSet")||o.setData("publishTitle",t.titleText||l),this.slateModel.set("prevTitle",t.titleText),U.trackEvent("editor:titleChanged",{contextData:["projectId"]},"slate:editor")}"string"==typeof t.subtitleText&&U.trackEvent("editor:subTitleChanged",{contextData:["projectId"]},"slate:editor");var c=this,p=!1;"model_version"in t&&(p=!0),a.then((function(){c.saveDocumentAndUpdateToolbar(n,{skipContentModifiedTimestamp:p},!0)})),e.refresh&&setTimeout((function(){c.editorIsInitialized=!1,c.editorIsReady=!1,c.editorRefreshed=!0,c.$slateEle.find(".editor")[0].contentWindow.location.replace(V+c.getPreviewQueryParams())}),0)},_handleBrokenImage:function(e){var t=e.count;this.hasBrokenImages=t>0},showDialog:function(e){this._editorDialogOverlay&&!this._editorDialogOverlay.$el.hasClass("hide")||(this._editorDialogOverlay||(this._editorDialogOverlay=new f,this._editorDialogOverlay.on("select",this._handleEditorDialogDone,this),this._editorDialogOverlay.on("cancel",this._handleEditorDialogCancel,this)),this._editorDialogOverlay.populate(e),this._editorDialogOverlay.showOverlay())},scaleImageToMax:function(e,t,n){var o=i.defer(),r=document.createElement("img");function a(e){o.reject(e||new Error("Unknown"))}return r.onload=function(){try{var e=r.height,i=r.width;if(e*i>16777216)throw new Error("Image too large");var s=1;if(n&&i>t&&e>t){var l=Math.min(i,e);s=t/l}else if(!n&&(i>t||e>t)){var d=Math.max(i,e);s=t/d}i*=s,e*=s;var p=document.createElement("canvas");p.width=i,p.height=e,p.getContext("2d").drawImage(r,0,0,i,e);var h=c(p.toDataURL("image/jpg")),u=URL.createObjectURL(h),g=document.createElement("img");g.onload=function(){o.resolve({blob:h,url:u,width:i,height:e})},g.onerror=a,g.src=u}catch(e){a(e)}},r.onerror=a,r.src=e,o.promise},captureImageSourceUpdates:function(e){var t={};if(!e)return t;e.pickerSource&&this.slateModel.set("source",e.pickerSource);var i=e.imageSources;return i&&i.forEach((function(e){t[e.uuid]=e.source})),t.imageSource=e.imageSource,t},mostRecentContext:null,isFirstContextSave:!0,saveContext:function(e,t,i){var n=o.getData("imagePickerContexts")||[];this.isFirstContextSave&&(this.isFirstContextSave=!1,n=this.clearUnusedContexts(n));var r,a=-1,s=n.filter((function(t,i){var n=t.asset_id==e;return n&&-1==a&&(a=i),n}))[0];s?(s={},n[a]=s):(s={},n.push(s)),r="google photos"==t?"GooglePhotos":"facebook"==t?"Facebook":"cc"==t?"CC":t.charAt(0).toUpperCase()+t.slice(1),s.class_name=r+"ImagePickerContext",s.asset_id=e,"dooplo"==t||"adobestock"==t?s.search_string=i.searchText:"google photos"==t?(s.album_id=i.albumId,s.album_name=i.albumName):"facebook"==t?(s.album_id=i.albumId,s.album_name=i.albumName):(s.path=i.path,s.album_name=i.albumName),o.setData("imagePickerContexts",n),this.mostRecentContext=s},getContext:function(e){var i=o.getData("imagePickerContexts")||[];return t.find(i,(function(t){return t.asset_id===e}))||this.mostRecentContext},deleteContext:function(e){if("ALL"!==e)for(var t=o.getData("imagePickerContexts")||[],i=t.length;i--;){if(t[i].asset_id===e){t.splice(i,1),o.setData("imagePickerContexts",t);break}}else o.setData("imagePickerContexts",[])},clearMostRecentContext:function(){this.mostRecentContext=null},clearUnusedContexts:function(e){var i=t.zipObject(this.getDocumentImageUUIDs());return e=e.filter((function(e){return i.hasOwnProperty(e.asset_id)}))},getDocumentImageUUIDs:function(){var e=[],t=o.getDocument();return t.pages&&t.pages.forEach((function(t){t.sections.forEach((function(t){t.content_items.forEach((function(t){var i=t.image&&t.image.id;i&&e.push(i)}))}))})),e},getServiceSource:function(e){var t=e.source.toLowerCase();return"creative cloud"===t&&(t="cc"),t},_handleImageServiceFiles:function(e,t){var i,n=Array.isArray(t)?t:[t],o=this.slateModel.get("replacedUUID");if(e&&e.length){var r=[];for(this.beginImageProcessing(),i=0;i<e.length;i++){var a=e[i],s=z(),l=this.slateModel.get("source");a.uuid=s,a.info=n[i],this.saveContext(s,this.getServiceSource(a),a.info);var d=a.thumbnail||a.preview||a.original,c=a.original||a.preview||a.thumbnail,p={width:c.width,height:c.height};r.push({uuid:s,path:E.setQueryParam(d.link,"nonresponsive","true"),imageSize:p,is_preview:!0,is_new:!0,caption:a.caption})}var h={source:l,images:r};ne(h,n);var u=this.sendMessageToEditor("image-response",h,!0),g=this.captureImageSourceUpdates(u);e.forEach(function(e){var t=g[e.uuid]||l,i=this.pendingImages.insert("service",{source:t,serviceSource:this.getServiceSource(e),imageSize:p,maxDimension:this.slateModel.get("maxDimension"),previewUUID:e.uuid,replacedUUID:o});i.load(e,e.info),console.log("pending: ",i,e,e.info)}.bind(this)),this.endImageProcessing()}},_showProgressBarView:function(e){var t=this._miniProgressBarOverlay;t||(t=this._miniProgressBarOverlay=new x({el:".mini-progress-bar-overlay"})),t.showOverlay(),t.setTitle(e||""),t.setProgress(0)},_hideProgressBarView:function(){this._miniProgressBarOverlay&&this._miniProgressBarOverlay.hideOverlay()},_setProgressBarViewProgress:function(e){this._miniProgressBarOverlay&&this._miniProgressBarOverlay.setProgress(e)},_setProgressBarViewLabel:function(e){this._miniProgressBarOverlay&&this._miniProgressBarOverlay.setProgressLabel(e||"")},showBrandSwitcher:function(e){var t=o.currentDoc.getCollaboration();if("OUTGOING"!==t&&"INCOMING"!==t){var i=X.default;this._brandPickerClosed=!1,i&&i.show({activeBrand:e,onSelect:function(t){this._brandPickerClosed||(e.getId()!==t.getId()&&this._updateBrand(t),this._brandPickerClosed=!0)}.bind(this),onCreateButtonClick:function(){window.open(window.location.origin+"/sp/branding/create","_blank")},onCancel:function(){}})}else{var n=o.currentDoc.belongsToUser()?W.getString("brand_switcher_alert.message.owner"):W.getString("brand_switcher_alert.message.recipient");J.showAlert(W.getString("brand_switcher_alert.title"),n,{okText:W.getString("brand_switcher_alert.button.ok")}),U.trackEvent("editor:brandSwitchError",{contextData:["projectId"],sparkFormat:"page"},"slate:editor")}},_updateBrand:function(e){var t=o.currentDoc.getMyApp();J.showWaitView(W.getString("brand_load_spinner.title"),W.getString("brand_load_spinner.message")),t.setAuthoringContextId(o.currentDoc,e.getId(),!1).then((function(){return e.getFormatThemes("page")})).then(function(t){if(!j.isBuiltInTheme(this.getThemeObject())&&t.length>0){var n=t[0].getValue("theme#data");this.setTheme(n.name,n)}return this.authContext=e,i.delay(0)}.bind(this)).then(function(){this.createThemePicker(),U.trackEvent("editor:newBrandApplied",{contextData:["projectId"],sparkFormat:"page"},"slate:editor")}.bind(this)).catch(function(e){marvel.logger.error("[slate] failed to open editor with "+e,e),this.displayFatalErrorDialog({error:e}),marvel.events.trigger("hide-interstitial")}.bind(this)).finally((function(){J.hide()})).done()},setTheme:function(e,t){o.setData("themeName",e),t?o.currentDoc.trigger("authoring-context-theme-assigned",t.id):o.currentDoc.trigger("authoring-context-theme-assigned",null);var i=t||r.get(e);this.sendMessageToEditor("theme",i),o.checkAndSetBranded(i),U.trackEvent("themeChange",{themeName:e,contextData:["projectId"]},"slate:editor")},getThemeObject:function(){return this.slateModel.get("docModel").theme},getPreviewQueryParams:function(t){t=t||{};var i=W.getLocale(),n=e.extend(E.parseQueryParams(location.search),{locale:i,localeStringsPath:W.getLocaleStringsPath(i,"page-react")});return j.isBuiltInTheme(this.getThemeObject())&&(n.theme=o.getData("themeName")),t.presentMode&&(n["page-mode"]="presentation"),t.isEduMode&&(n.edu="true"),E.setQueryParams("",n)},getThemeId:function(){var e=this.getThemeObject();return j.isBuiltInTheme(e)?o.getData("themeName"):e.id},_handleLocalFiles:function(e){var n=this.slateModel.get("replacedUUID");if(e&&e.length){var o=this;this.beginImageProcessing(),this.clearMostRecentContext();var r=t.toArray(e),a=this.slateModel.get("source"),s=this.slateModel.get("maxDimension"),l=this.slateModel.get("detectPanoramas"),d=r.map(function(e){return this._createLocalFilePreviewRequest(e,s,l)}.bind(this));this._processLocalFilePreviewRequests(d).then((function(e){return i.allSettled(e)})).done(function(e){var t=e.filter((function(e){return"fulfilled"===e.state})).map((function(e){return e.value})),i=e.length-t.length,r=i===e.length;if(i>0&&(this._showImageCreatingPreviewErrorDialog(e.length,i),r))o.endImageProcessing();else{var s=t.map((function(e){return e.data})),l=this.sendMessageToEditor("image-response",{source:a,images:s},!0),d=this.captureImageSourceUpdates(l);t.forEach(function(e){var t=d[e.data.uuid]||a;this.pendingImages.insert("local",{source:t,imageSize:e.data.imageSize,maxDimension:this.slateModel.get("maxDimension"),replacedUUID:n}).load(e)}.bind(this)),o.endImageProcessing()}}.bind(this))}},_showImageCreatingPreviewErrorDialog:function(e,t){var i,o=e>1,r=t===e,a={count:o?t:null},s=W.format("error.images.creating.preview.title.unavailable",{count:t});i=o?r?W.getString("error.images.creating.preview.body.all"):W.getString("error.images.creating.preview.body.some"):W.getString("error.images.creating.preview.body.single"),this.showDialog({title:n.render(s,a),content:i,buttons:[W.getString("error.images.dismiss")]})},_handleDroppedFiles:function(e){var t=e.data,i=e.x,n=e.y,o=this.sendMessageToEditor("get-source-for-coordinates",{x:i,y:n},!0);o&&(this.slateModel.set("source",o),this.slateModel.set("maxDimension",2560),this.slateModel.set("replacedUUID",null),this._handleLocalFiles(t.files))},_cachedImagePlaceholder:null,_createLocalFilePreviewRequest:function(e,t,n){var o=i.defer(),r=function(e){c.data.imageSize.width=e.width,c.data.imageSize.height=e.height,c.data.path=e.url,o.resolve(c)},a=function(e){return console.warn("Image preview could not be generated.",e),this._cachedImagePlaceholder?this._cachedImagePlaceholder:this.scaleImageToMax("/slate-web/images/image-placeholder.png",t,n)}.bind(this),s=function(e){return this._cachedImagePlaceholder=e,r(e)}.bind(this),l=function(e){o.reject(e||new Error("Unknown"))},d=new FileReader;d.onload=function(e){var i=e.target.result;this.scaleImageToMax(i,t,n).then(r).catch(a).then(s).catch(l)}.bind(this),d.onerror=a;var c={file:e,mimeType:e.type||"image/jpeg",data:{uuid:z(),path:"",imageSize:{width:0,height:0},is_new:!0,is_preview:!0},getRenderingPreview:function(){try{d.readAsDataURL(e)}catch(e){a(e)}return o.promise}};return c},_processLocalFilePreviewRequests:function(e){var t=i.defer(),n=[],o=0,r=e.length;W.getString("progress.creating.photo.previews.count.label"),W.getString("progress.complete.count.label");if(r>1){var a=W.format("progress.creating.photo.previews.count.label",{count:r});this._showProgressBarView(a)}var s=function(){if(o<r){var i=e[o++].getRenderingPreview();if(n.push(i),r>1){var a=W.format("progress.complete.count.label",{current:o,count:r});this._setProgressBarViewLabel(a),this._setProgressBarViewProgress(o/r*100)}setTimeout(s,0)}else this._hideProgressBarView(),t.resolve(n)}.bind(this);return s(),t.promise}}),le}.apply(t,n))||(e.exports=o)},2521:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(8),i(2522),i(396),i(2523)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";return i.View.extend({events:{"click .close-button":"handleClose","click .usecases li":"handleSelectUseCase","click .sp-dropdown-2":"openDropdown"},handleClose:function(){this.$el.removeClass("showing")},createOption:function(e){var t=new i.Model(e);return e.viewObj=new a({model:t,analyticsContext:this.category}),e.viewObj.$el},openDropdown:function(t){e(t.currentTarget).toggleClass("active")},isShowing:function(){return this.$el.hasClass("showing")},handleSelectUseCase:function(t){t.preventDefault();var i,n=e(t.currentTarget).data("value");n&&n.length&&(i="All"!=n?this.exampleList.filter((function(e){return e.useCase===n})):this.exampleList,this.renderExamples(i,!1))},renderExamples:function(e,i){this.featured$.empty();var n=[];t.each(e,function(e){i&&n.push(e.useCase),this.featured$.append(this.createOption(e))}.bind(this)),i&&(n=n.sort(),t.each(n,function(e){this.usecases$.append('<li data-value="'+e+'">'+e+"</li>")}.bind(this)))},render:function(){return this.$el.html(o.toString()),this.featured$=this.$el.find(".get-inspired-panel-wrapper"),this.usecases$=this.$el.find(".usecases"),r.getCategoryFavorites(this.category).then(function(e){this.exampleList=e,this.renderExamples(e,!0),this.$el.find(".more-to-come").addClass("hide")}.bind(this)).done(),this},show:function(e){window.setTimeout(function(){this.isShowing()||(this.$el.addClass("showing"),e&&"function"==typeof e&&e())}.bind(this),0)},hide:function(e){this.isShowing()&&(this.$el.removeClass("showing"),e&&"function"==typeof e&&e())},toggle:function(){this.isShowing()?this.hide():this.show()},remove:function(){this.$el.empty()}})}.apply(t,n))||(e.exports=o)},2522:function(e,t){e.exports='<div class="title-bar">Inspiration Gallery\n    <div class="close-button"></div>\n</div>\n<div class="intro">\n    <p>See examples to help inspire you:</p>\n    <div class="sp-dropdown-2" tabindex="1">\n        <span>Select a category</span>\n        <ul class="usecases dropdown">\n            <li data-value="All">All</li>\n        </ul>\n    </div>\n</div>\n<br />\n<br />\n<p>Our favorite Spark Pages</p>\n<div class="more-to-come"></div>\n<div class="get-inspired-panel-wrapper"></div>\n'},2523:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(9),i(2524)],void 0===(o=function(e,t,i,n,o){"use strict";return i.View.extend({tagName:"article",className:"panel-option",events:{"click .panel-item":"handleExampleClick"},handleExampleClick:function(){n.trackLink("clickedOnGetInspiredExample",{contextString:this.analyticsContext,hash_id:this.model.get("alias"),useCase:this.model.get("useCase"),formatType:this.model.get("type")},"editor")},initialize:function(e){e&&e.analyticsContext&&(this.analyticsContext=e.analyticsContext),this.render()},_getExampleUrl:function(){var e=this.model.get("type");return"theo"===e?"https://spark.adobe.com/post/"+this.model.get("alias"):"slate"===e?"https://spark.adobe.com/page/"+this.model.get("alias"):"video"===e?"https://spark.adobe.com/video/"+this.model.get("alias"):"#"},render:function(){this.$el.html(o.toString());var e=this.model.get("thumbMedURI");return this.label$=this.$el.find(".example-label"),this.$el.find(".example-link").attr("href",this._getExampleUrl()),this.$el.find(".panel-item").css("background-image","url("+e+")"),this.label$.text(this.model.get("useCase")),this}})}.apply(t,n))||(e.exports=o)},2524:function(e,t){e.exports='<h3 class="example-label"></h3>\n<a href="" target="_blank" class="example-link">\n    <button class="example panel-item"></button>\n</a>\n'},2525:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(14)],void 0===(o=function(e,t,i,n){"use strict";return i.Model.extend({defaults:{docModel:null,source:"",isNewPub:!0,prevTitle:"",titleImagePositionX:.5,titleImagePositionY:.5,pushInProgress:!1},initialize:function(e,t){this.set("docModel",{id:n(),publication_id:n(),title:""})},getThemeName:function(){var e=this.get("docModel");if(e&&e.theme)return e.theme.name},getTitleImageURL:function(){var e,t=this.get("docModel");if(t&&t.pages&&t.pages[0].sections)return t.pages[0].sections[0].content_items.forEach((function(t){"img"==t.type&&t.image&&(e=t.image.image_url)})),e},getTitle:function(){var e,t=this.get("docModel");if(t&&t.pages&&t.pages[0].sections)return t.pages[0].sections[0].content_items.forEach((function(t){"title"==t.type&&(e=t.text)})),e},getSubtitle:function(){var e,t=this.get("docModel");if(t&&t.pages&&t.pages[0].sections)return t.pages[0].sections[0].content_items.forEach((function(t){"subtitle"==t.type&&(e=t.text)})),e},getTitleAlignment:function(){var e=this.get("docModel");if(e&&e.pages&&e.pages[0].sections){var t="title-center";return e.pages[0].sections[0].settings.forEach((function(e){var i=e.key,n=e.value;"title_align"==i&&(t=n)})),t}},getTitleImageAlignment:function(){var e=this.get("docModel"),t="50% 50%";e&&e.pages&&e.pages[0].sections&&e.pages[0].sections[0].content_items.forEach((function(e){"img"==e.type&&e.settings&&e.settings.forEach((function(e){"image_align"==e.key&&(t=e.value)}))}));return t}})}.apply(t,n))||(e.exports=o)},2526:function(e,t,i){var n,o;n=[i(0),i(2),i(14)],void 0===(o=function(e,t,i){"use strict";function n(e){return{jpg:".jpg",png:".png","image/png":".png","image/jpeg":".jpg","image/pjpeg":".jpg"}[e]||""}var o=t.Model.extend({_imagePending:!0,_imageLoading:!1,imageResponse:null,contextValues:null,error:null,stage:0,pendingCollection:null,initialize:function(e,t){this.pendingCollection=t.pendingCollection,this.listenTo(this,"remove",this._handleRemove)},_handleRemove:function(e,t,i){var n=this.get("previewUUID");n&&this.pendingCollection.trigger("delete-context",n)},validatePending:function(){if(!this.collection)throw o.ABORTED},isPending:function(){return this._imagePending},isLoading:function(){return this._imageLoading},loadingStart:function(){this._imageLoading=!0},loadingComplete:function(e){e||(e="pendingComplete"),this._imagePending=!1,this._imageLoading=!1,this.trigger(e,this)},imageErrorHandler:function(e){e!==o.ABORTED&&(e&&e.hasOwnProperty("status")&&this.stage>1&&(e.status+=1e5*this.stage),this.error=e,this.loadingComplete("pendingError"))},postImage:function(){if(!this.imageResponse)throw new Error("Cannot post image response before it is available.");if(this.contextValues){var e=["save-context"].concat(this.contextValues);this.pendingCollection.trigger.apply(this.pendingCollection,e)}this.pendingCollection.trigger("image-response",this.imageResponse.data,this.imageResponse.info)},postError:function(){if(!this.error)throw new Error("Cannot post error without there first being an error.");var e=this.get("source");this.pendingCollection.trigger("image-error",e,this.error)},getRequestImageSize:function(){var e=this.get("maxDimension")||2560,t=this.get("imageSize")||{},i=t.width||2560,n=t.height||2560;return Math.min(Math.max(e,Math.round(e*(n/i))),8192)},load:function(){}});o.ABORTED=new Error("Image request no longer valid.");var r=o.extend({load:function(e){this.loadingStart();var t=this.get("source"),o=this.get("replacedUUID"),r=i(),a=e.mimeType,s=n(a),l="images/"+r+s,d=this.pendingCollection.storage,c=d.currentDoc.getDCXComposite().current;return this.stage++,d.currentDoc.pushComponent({name:"image",relationship:"image",type:a,path:l,file:e.file,parent:c.getChildrenOf()[0]}).then(function(e){this.validatePending(),o&&d.removeImage(o);var t=this.getRequestImageSize(),i=Date.now();return this.stage++,d.getImage("/"+l,{size:t},i)}.bind(this)).then(function(e){this.imageResponse={data:{source:t,images:[{uuid:r,path:e.path,is_new:!1,is_preview:!1,imageSize:{width:e.size.width,height:e.size.height}}]}},this.loadingComplete()}.bind(this)).catch(this.imageErrorHandler.bind(this))}}),a=o.extend({load:function(e,t){this.loadingStart();var o=this.get("source"),r=this.get("serviceSource"),a=this.get("replacedUUID"),s=e.original||e.preview||e.thumbnail,l=i(),d=e.mimeType||"image/jpg",c=n(d),p="images/"+l+c,h=this.pendingCollection.storage,u=h.currentDoc.getDCXComposite().current;this.stage++;var g={name:"image",relationship:"image",type:d,path:p,parent:u.getChildrenOf()[0],copyFrom:{source:r,assetId:s.link,largeRenditionRequest:e.largeRenditionRequest}};return(e.largeRenditionRequest?e.largeRenditionRequest().then((function(e){g.copyFrom.assetId=e})).finally((function(){return h.currentDoc.pushComponent(g)})):h.currentDoc.pushComponent(g)).then(function(e){this.validatePending(),a&&h.removeImage(a);var t=this.getRequestImageSize(),i=Date.now();return this.stage++,h.getImage("/"+p,{size:t},i)}.bind(this)).then(function(e){this.contextValues=[l,r,t],this.imageResponse={data:{source:o,images:[{uuid:l,path:e.path,is_preview:!1,is_new:!1,imageSize:{width:e.size.width,height:e.size.height}}]},info:t},this.loadingComplete()}.bind(this)).catch(function(e){e.transload=!0,this.imageErrorHandler(e)}.bind(this))}}),s=t.Collection.extend({storage:null,debugEnabled:!1,initialize:function(e,t){if(!t||!t.storage)throw new Error("PendingImagesCollection option `storage` is required.");this.storage=t.storage,t.hasOwnProperty("debugEnabled")&&(this.debugEnabled=t.debugEnabled),this.logger=t.logger||console},insert:function(e,t){var i=this.createImageByType(e,t),n=this.getGroup(i.get("source"));return n.add(i),this.add(n),this.debug("ImageAdd"),i},removeBySource:function(e){this.getGroup(e).remove()},createImageByType:function(e,t){switch(e){case"service":return new a(t,{pendingCollection:this});case"local":return new r(t,{pendingCollection:this});default:throw new Error("Unrecognized pending image type provided.")}},getGroup:function(e){var t=this.findWhere({source:e});return t||new l({source:e})},debug:function(e){if(this.debugEnabled){var t={},i=function(e,t){return e.isPending()?e.isLoading()?"Load":"New":"Done"};this.length?this.each((function(e,n){t[e.get("source")]=e.images.map(i)})):t["[EMPTY]"]=[],this.logger.table?this.logger.table(t):this.logger.log(JSON.stringify(t)),e&&(e="^ "+e,this.logger.debug?this.logger.debug(e):this.logger.log(e))}}}),l=t.Model.extend({initialize:function(e,i){this.images=new t.Collection,this.listenTo(this.images,"pendingComplete",this._handlePendingComplete),this.listenTo(this.images,"pendingError",this._handlePendingError)},add:function(t,i){i=e.defaults({at:0},i),this.images.add(t,i)},_handlePendingComplete:function(e){this.collection.debug("ImageDone"),this.isNewestImage(e)?this.postPendingImage(e):this.cleanUpTo(e)},_handlePendingError:function(e){this.collection.debug("ImageError");var t=this.isNewestImage(e);if(this.images.remove(e),this.collection.debug("ImageClean"),t){if(e.postError(),!this.images.length)return void this.remove();var i=this.images.at(0);if(!i.isPending())return void this.postPendingImage(i)}},cleanUpTo:function(e){for(var t=this.images.length,i=t;--i&&this.images.at(i)!==e;)this.images.pop();t!==this.images.length&&this.collection.debug("ImageClean")},isNewestImage:function(e){return 0===this.images.indexOf(e)},postPendingImage:function(e){e.postImage(),this.remove()},remove:function(){for(;this.images.length;)this.images.pop();var e=this.collection;e&&(e.remove(this),e.debug("GroupClean"))}});return s}.apply(t,n))||(e.exports=o)},2527:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(558),i(2528),i(258),i(81),i(1683)],void 0===(o=function(e,t,i,n,o,r,a,s,l){"use strict";var d=i.Model.extend({defaults:{linkData:null,alignment:null}});return o.extend({el:".link-dialog-overlay",events:{"click .cancelButton":"_handleCancel","click .doneButton":"_handleDoneBtn","click .link-dialog-bg":"_handleCancel","click .alignmentButton":"_handleAlignButton","change .linkText":"_validate","change .linkHref":"_validate","keyup .linkText":"_validate","keyup .linkHref":"_validate"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.urlInfoFunction=e,this.model=new d,t.extend(this,i.Events),this.model.on("change:alignment",this._handleAlignmentChange)},populate:function(e){this.linkData=e,this.model.set({linkData:null},{silent:!0}),this.$el.find(".linkText").attr("value",e.text?e.text.trim():""),this.$el.find(".linkHref").attr("value",e.href?e.href.trim():""),this._validate()},testForValidUrl:function(e){var t=this.urlInfoFunction(e);return t&&t.valid},_validate:function(){var e=this.$el.find(".linkText").val(),t=this.$el.find(".linkHref").val(),i=void 0!==e&&e.length&&void 0!==t&&t.length;this.$el.find(".doneButton").prop("disabled",!i)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},_handleDoneBtn:function(){var e=this.$el.find(".linkHref").val().trim(),t=this.$el.find(".linkHref");if(!this.testForValidUrl(e))return this.$el.find(".url-advice").removeClass("hide"),this.$el.find(".link-dialog-shell").addClass("validation-error"),t[0].focus(),void this.positionDialog();this.linkData.text=this.$el.find(".linkText").val().trim(),this.linkData.href=e,this.linkData.alignment=this.model.get("alignment"),this.model.set({linkData:this.linkData}),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===s.DOM_VK_ESCAPE?this._handleCancel():e.keyCode!==s.DOM_VK_RETURN&&e.keyCode!==s.DOM_VK_ENTER||this.$el.find(".doneButton").prop("disabled")||this._handleDoneBtn()},_handleAlignmentChange:function(){var t=this.model.get("alignment");e(".alignmentButton").removeClass("checked"),e(".alignmentButton."+t).addClass("checked")},_handleAlignButton:function(t){console.log("_handleAlignButton");var i=e(t.target).data("alignment");this.model.set({alignment:i})},positionDialog:function(){var e,t,i,n,o,r,a=this.$el.find(".link-dialog-shell"),s=a.width(),l=a.height(),d=a.parent(),c=0,p=!0,h=!0;if(a.length>0&&this.linkData&&this.linkData.location){for(e=this.linkData.location,d=a.parent();!c&&d.length;)"absolute"===(o=d.css("position"))||"relative"===o||"fixed"===o?(c=d.width(),n=d.height()):d=d.parent();l+9>e.top?(t=e.top+e.height+9-2,h=!1):t=e.top-l-9,t+l>n&&(t=n-l,p=!1),i=e.x-s/2,i=Math.max(i,0),r=a.find(".pointer"),h?r.removeClass("at-top"):r.addClass("at-top"),p?r.removeClass("hide"):r.addClass("hide"),a.css({top:t+"px",left:i+"px"})}},render:function(){var e;return this.$el.html(a.renderMustache(r.toString())),this.title$=this.$el.find(".link-dialog-overlay-title"),this.linkData&&(e=void 0!==this.linkData.text?this.linkData.text.trim():"",this.title$.text(a.format(e.length?"dialog.link.edit_button":"dialog.link.add_button")),this.$el.find(".linkText").attr("value",e),this.$el.find(".linkHref").attr("value",this.linkData.href?this.linkData.href.trim():""),this.model.set({alignment:this.linkData.alignment}),this.model.trigger("change:alignment")),this.positionDialog(),this._validate(),this.$el.css("opacity","0"),setTimeout(function(){this.$el.find(".linkText")[0].focus(),this.positionDialog(),this.$el.css("opacity","1")}.bind(this),0),this}})}.apply(t,n))||(e.exports=o)},2528:function(e,t){e.exports='<div class="link-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="link-dialog-shell mrvl-overlay-shell dialog">\n\n  <h2 class="link-dialog-overlay-title">{{locString.link_dialog.title}}</h2>\n\n  <input type=\'text\' placeholder=\'{{locString.link_dialog.link.placeholder}}\' class="linkText" class="initial" value=""/>\n  <input type=\'text\' placeholder=\'www.example.com\' class="linkHref" class="initial" value=""/>\n\n  <p class="url-advice hide">{{locString.link_dialog.advice}}</p>\n\n  <h2 class="alignmentLabel">{{locString.link_dialog.alignment}}</h2>\n\n  <p class="alignmentRadioButtons">\n    <button class="alignmentButton left checked" data-alignment="left"></button>\n    <button class="alignmentButton center" data-alignment="center"></button>\n    <button class="alignmentButton right" data-alignment="right"></button>\n  </p>\n\n  <div class="dismissalButtons">\n    <button class="doneButton primary-button">{{locString.link_dialog.button.save}}</button>\n    <button class="cancelButton secondary-button">{{locString.link_dialog.button.cancel}}</button>\n  </div>\n\n  <div class="pointer"></div>\n</div>\n'},2529:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(258),i(558),i(2530),i(81),i(1683)],void 0===(o=function(e,t,i,n,o,r,a,s,l){"use strict";var d=i.Model.extend({defaults:{linkData:null}});return r.extend({el:".embedded-link-dialog-overlay",events:{"click .cancelButton":"_handleCancel","click .doneButton":"_handleDoneBtn","click .embedded-link-dialog-bg":"_handleCancel","input .linkHref":"_validate"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.urlInfoFunction=e,this.model=new d,t.extend(this,i.Events)},populate:function(e){this.linkData=e,this.model.set({linkData:null},{silent:!0}),this.$el.find(".linkHref").attr("value",e.href?e.href.trim():""),this._validate()},testForValidUrl:function(e){var t=this.urlInfoFunction(e);return t&&t.valid&&t.embeddable},_validate:function(){var e=this.$el.find(".linkHref").val(),t=void 0!==e&&e.length;this.$el.find(".doneButton").prop("disabled",!t)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},_handleDoneBtn:function(){var e=this.$el.find(".linkHref").val().trim(),t=this.$el.find(".linkHref");if(!this.testForValidUrl(e))return this.$el.find(".url-advice").removeClass("hide"),this.$el.find(".embedded-link-dialog-shell").addClass("validation-error"),t[0].focus(),void this.positionDialog();this.linkData.text="Video",this.linkData.href=e,this.model.set({linkData:this.linkData}),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===s.DOM_VK_ESCAPE?this._handleCancel():e.keyCode!==s.DOM_VK_RETURN&&e.keyCode!==s.DOM_VK_ENTER||this.$el.find(".doneButton").prop("disabled")||this._handleDoneBtn()},positionDialog:function(){var e,t,i,n,o,r,a=this.$el.find(".embedded-link-dialog-shell"),s=a.width(),l=a.height(),d=a.parent(),c=0,p=!0,h=!0;if(a.length>0&&this.linkData&&this.linkData.location){for(e=this.linkData.location,d=a.parent();!c&&d.length;)"absolute"===(o=d.css("position"))||"relative"===o||"fixed"===o?(c=d.width(),n=d.height()):d=d.parent();l+9>e.top?(t=e.top+e.height+9-2,h=!1):t=e.top-l-9,t+l>n&&(t=n-l,p=!1),i=e.x-s/2,i=Math.max(i,0),r=a.find(".pointer"),h?r.removeClass("at-top"):r.addClass("at-top"),p?r.removeClass("hide"):r.addClass("hide"),a.css({top:t+"px",left:i+"px"})}},render:function(){var e;return this.$el.html(o.renderMustache(a.toString())),this.title$=this.$el.find(".embedded-link-dialog-overlay-title"),this.linkData&&(e=void 0!==this.linkData.text?this.linkData.text.trim():"",this.title$.text(o.format(e.length?"dialog.embedded_link.edit_video":"dialog.embedded_link.add_video")),this.$el.find(".linkHref").attr("value",this.linkData.href?this.linkData.href.trim():"")),this.positionDialog(),this._validate(),this.$el.css("opacity","0"),setTimeout(function(){this.$el.find(".linkHref")[0].focus(),this.positionDialog(),this.$el.css("opacity","1")}.bind(this),0),this}})}.apply(t,n))||(e.exports=o)},2530:function(e,t){e.exports='<div class="embedded-link-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="embedded-link-dialog-shell mrvl-overlay-shell dialog">\n\n  <h2 class="embedded-link-dialog-overlay-title">{{locString.embedded_link_dialog.title}}</h2>\n\n  <input type=\'text\' placeholder=\'www.youtube.com/watch?v=<id>\' class="linkHref" class="initial" value=""/>\n\n  <p class="url-advice"> {{locString.embedded_link_dialog.advice}}</p>\n\n  <div class="dismissalButtons">\n    <button class="doneButton primary-button">{{locString.embedded_link_dialog.button.save}}</button>\n    <button class="cancelButton secondary-button">{{locString.embedded_link_dialog.button.cancel}}</button>\n  </div>\n\n  <div class="pointer"></div>\n</div>\n'},2531:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(258),i(558),i(2532),i(81)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";var l=i.Model.extend({defaults:{linkData:null}});return r.extend({el:".inline-link-dialog-overlay",events:{"click .removeButton":"_handleRemove","click .cancelButton":"_handleCancel","click .doneButton":"_handleDoneBtn","click .inline-link-dialog-bg":"_handleCancel","input .linkHref":"_validate"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.urlInfoFunction=e,this.model=new l,t.extend(this,i.Events)},populate:function(e){this.linkData=e,this.model.set({linkData:null},{silent:!0}),this.$el.find(".linkHref").attr("value",e.href?e.href.trim():""),this._validate()},testForValidUrl:function(e){var t=this.urlInfoFunction(e);return t&&t.valid},_validate:function(){var e=!!this.$el.find(".linkHref").val();this.$el.find(".doneButton").prop("disabled",!e)},_handleRemove:function(){this.trigger("remove"),this.handleCloseBtn()},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},_handleDoneBtn:function(){var e=this.$el.find(".linkHref"),t=e.val().trim();if(!this.testForValidUrl(t))return this.$el.find(".url-advice").removeClass("hide"),this.$el.find(".inline-link-dialog-shell").addClass("validation-error"),e[0].focus(),void this.positionDialog();this.linkData.href=t,this.model.set({linkData:this.linkData}),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===s.DOM_VK_ESCAPE?this._handleCancel():e.keyCode!==s.DOM_VK_RETURN&&e.keyCode!==s.DOM_VK_ENTER||this.$el.find(".doneButton").prop("disabled")||this._handleDoneBtn()},positionDialog:function(){var e,t,i,n,o,r=this.$el.find(".inline-link-dialog-shell"),a=r.width(),s=r.height(),l=r.parent(),d=0,c=0,p=!0,h=!0;if(r.length>0&&this.linkData&&this.linkData.location){for(e=this.linkData.location,l=r.parent();!d&&l.length;)"absolute"===(n=l.css("position"))||"relative"===n||"fixed"===n?(d=l.width(),c=l.height()):l=l.parent();s+9>e.top?(t=e.top+e.height+9-2,h=!1):t=e.top-s-9,t+s>c&&(t=c-s,p=!1),i=e.left-a/2,i=Math.max(i,0),o=r.find(".pointer"),h?o.removeClass("at-top"):o.addClass("at-top"),p?o.removeClass("hide"):o.addClass("hide"),r.css({top:t+"px",left:i+"px"})}},render:function(){return this.$el.html(o.renderMustache(a.toString())),this.linkData&&this.$el.find(".linkHref").attr("value",this.linkData.href?this.linkData.href.trim():""),this.linkData&&this.linkData.href&&this.linkData.href.length>0?this.$el.find(".removeButton").addClass("show"):this.$el.find(".removeButton").removeClass("show"),this.positionDialog(),this._validate(),this.$el.css("opacity","0"),setTimeout(function(){this.$el.find(".linkHref")[0].focus(),this.positionDialog(),this.$el.css("opacity","1")}.bind(this),0),this}})}.apply(t,n))||(e.exports=o)},2532:function(e,t){e.exports='<div class="inline-link-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="inline-link-dialog-shell mrvl-overlay-shell dialog">\n\n  <h2 class="inline-link-dialog-overlay-title">{{locString.inline_link_dialog.title}}</h2>\n\n  <input type=\'text\' placeholder=\'www.example.com\' class="linkHref" class="initial" value=""/>\n\n  <p class="url-advice hide">{{locString.inline_link_dialog.advice}}</p>\n\n  <div class="dismissalButtons">\n    <button class="doneButton primary-button">{{locString.inline_link_dialog.button.save}}</button>\n    <button class="cancelButton secondary-button">{{locString.inline_link_dialog.button.cancel}}</button>\n  </div>\n\n  <button class="removeButton"></button>\n\n  <div class="pointer"></div>\n</div>\n'},2533:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(1411),i(1684),i(81)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s=i.Model.extend({defaults:{index:void 0}});return o.extend({el:".editor-dialog-overlay",events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel"},initialize:function(){t.bindAll(this,t.functionsIn(this)),this.model=new s,t.extend(this,i.Events)},populate:function(e){e&&(this.data=e),this.$el.find(".title").text(this.data.title),this.$el.find(".content").text(this.data.content),this.$el.find(".remark").text(this.data.remark)},_handleButton:function(t){var i=parseInt(e(t.target).data("ordinal"),10);console.log("clicked button "+i),this.model.set({index:i}),this.trigger("select"),this.handleCloseBtn()},render:function(){var t,i;if(this.$el.html(r.toString()),this.data&&(this.populate(),this.data.buttons)){var n=this.$el.find(".buttons"),o=this.data.buttonOptions;if(!o)(o=[])[a=this.data.buttons.length-1]={style:"primary"};var a=this.data.buttons.length-1;for(t=0;t<this.data.buttons.length;t++){var s=this.data.buttons[t],l=o[t];i=e("<button>").addClass("button mrvl-btn"+(t===a?" confirm-btn":" cancel-btn")).attr("data-ordinal",t).text(s),l&&l.style&&i.addClass(l.style),n.append(i)}n.find(".button").click(this._handleButton)}return this}})}.apply(t,n))||(e.exports=o)},2534:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(258),i(558),i(2535)],void 0===(o=function(e,t,i,n,o,r){"use strict";return o.extend({el:".fatal-error-dialog-overlay",events:{"click .confirm-btn":"_handleClick","click .mrvl-overlay-bg":"_handleClick"},initialize:function(){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},populate:function(e){e&&(this.data=e);var i=window.location.href,o=t.get(window.adobeIMS.getUserProfile(),"userId",""),a=new Date,s="Hello, I am having trouble opening this Spark Page project:\n\n"+("URL: "+i+"\n\nAdobeID: "+o+"\n\nTime: "+a+"\n\n"+this.data.error+"\n\n")+"\nCan you please help?\nThanks!",l={emailLink:"mailto:support@adobespark.zendesk.com?subject="+encodeURIComponent("Unable to open Spark Page project")+"&body="+encodeURIComponent(s),url:"URL: "+i,userId:"AdobeId: "+o,time:"Time: "+a,error:"Error: "+this.data.error};this.$el.html(n.renderMustache(r.toString(),{errorInfo:l}))},_handleClick:function(){this.trigger("select")},showOverlay:function(){this.trigger("fatal-error-dialog-show"),o.prototype.showOverlay.apply(this,arguments),marvel.logger.info("slate error dialog shown")},hideOverlay:function(){o.prototype.hideOverlay.apply(this,arguments),this.trigger("fatal-error-dialog-hide")},render:function(){return this.$el.html()||this.$el.html(n.renderMustache(r.toString())),this.data&&this.populate(),this}})}.apply(t,n))||(e.exports=o)},2535:function(e,t){e.exports='<div class="fatal-error-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="fatal-error-dialog-shell mrvl-overlay-shell">\n  <h2 class="fatal-error-dialog-overlay-title dialog-title">{{locString.fatal_error_dialog.title}}</h2>\n\n  <div class="mrvl-overlay-content-shell">\n    <div class="mrvl-overlay-content">\n      <p class="message">\n        {{locString.fatal_error_dialog.please_text}}\n        <a target="_blank" href="{{errorInfo.emailLink}}">{{locString.fatal_error_dialog.contact_support_text}}</a>\n        {{locString.fatal_error_dialog.include_details_text}}\n      </p><br/>\n      <p class="message-url">{{errorInfo.url}}</p><br/>\n      <p class="message-user-id">{{errorInfo.userId}}</p><br/>\n      <p class="message-time">{{errorInfo.time}}</p><br/>\n      <p class="message-error">{{errorInfo.error}}</p>\n    </div>\n    <div class="mrvl-dlg-btn-acts buttons">\n      <button class="button confirm-btn mrvl-btn">{{locString.fatal_error_dialog.button.ok}}</button>\n    </div>\n  </div>\n</div>\n'},2536:function(e,t,i){var n,o;n=[i(558),i(2537)],void 0===(o=function(e,t){"use strict";return e.extend({el:".help-video-dialog-overlay",events:{"click .ok-btn":"_handleDismiss","click .mrvl-overlay-bg":"_handleDismiss"},initialize:function(){this.data=null},populate:function(e){this.data=e},_handleDismiss:function(e){this.hideOverlay()},hideOverlay:function(){var t=this.$el.find(".video"),i=t.find("video")[0];return i&&i.pause(),t.empty(),e.prototype.hideOverlay.call(this)},_getVideoEl:function(){var e=this.data.video,t=$("<video>");e.width&&t.attr("width",e.width),e.height&&t.attr("height",e.height),e.autoplay&&t.attr("autoplay","");for(var i=0,n=e.source.length;i<n;i++){var o=e.source[i],r=$("<source>");r.attr({src:o.src,type:o.type}),t.append(r)}return t},render:function(){return this.$el.html(t),this.$(".title").text(this.data.title),this.$(".video").append(this._getVideoEl()),this.$(".content").text(this.data.content),this.$(".ok-btn").text(this.data.buttonOK),this}})}.apply(t,n))||(e.exports=o)},2537:function(e,t){e.exports='<div class="help-video-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="help-video-dialog-shell mrvl-overlay-shell">\n    <div class="video"></div>\n    <div class="help-video-content-shell mrvl-overlay-content-shell">\n        <h2 class="title dialog-title"></h2>\n        <div class="mrvl-overlay-content">\n            <p class="content"></p>\n        </div>\n        <div class="mrvl-dlg-btn-acts buttons">\n            <button class="ok-btn confirm-btn mrvl-btn"></button>\n        </div>\n    </div>\n</div>\n'},2538:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(386),i(8),i(38),i(517),i(557),i(9),i(613),i(1412),i(258),i(622)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u){"use strict";var g=[{name:"Storybook"},{name:"Trek"},{name:"Nightcap"},{name:"Crisp"},{name:"Whimsy"},{name:"Vintage"},{name:"Baldwin"},{name:"Chic"},{name:"Tereza"},{name:"Wiper"},{name:"Bruce"},{name:"Wesley"},{name:"Luca"}];function m(e){return a.getController().then((function(t){return t.getActiveContext(e)}))}return i.View.extend({events:{"vclick .theme-button":"_handleClickTheme","vclick .edit-theme-button":"_handleClickEditTheme","vclick .upgrade-button":"_handleClickUpgrade","vclick .title-bar.brand-name":"_handleClickBrandSelection","vclick .title-bar.upgrade":"_handleBrandUpgrade","vclick .close-tooltip":"_handleRemoveTooltip"},initialize:function(e){this.editSession=e.editSession,this.doc=e.compositeDoc,this.brandName="",this.primaryColor={},this.themes=[],this.$wrapper=this.$(".theme-wrapper"),this.$spinner=this.$(".more-to-come"),this.$titleBar=this.$(".title-bar"),t.bindAll(this,"render"),this.setThemes(e.themes||g)},setThemes:function(e){this.themes=e&&e.length?e:null,this.$wrapper.addClass("hide"),this.$spinner.removeClass("hide");var t=r.hasFeature("entitle-brand-kit");n().then(function(){return t?this._getBrandedPickerMetadata():[]}.bind(this)).spread(function(e,t,i){e&&e.length&&(this.brandName=i,this.primaryColor=t,this.themes?this.themes=[e,this.themes]:this.themes=e)}.bind(this)).then(this.render).done()},_handleBrandUpgrade:function(){d.trackEvent("editor:addBrandPressed",{contextData:["projectId"],sparkFormat:"page"},"slate:editor"),marvel.navigate("/branding/create",{trigger:!0})},_handleClickBrandSelection:function(){this.editSession.editorIsInitialized&&(d.trackEvent("editor:brandSwitchPressed",{contextData:["projectId"],sparkFormat:"page"},"slate:editor"),m(this.doc).then(function(e){this.editSession.showBrandSwitcher(e)}.bind(this)).done())},_handleClickTheme:function(t){if(this.editSession.editorIsInitialized){var i=e(t.target),n=i.data("theme-id"),o=i.data("theme-name"),r=i.data("theme-data")||{},a=function(){this._updateThemeButtonSelection(n),this.editSession.setTheme(o,r)}.bind(this);u.isBuiltInTheme(r)?(r=null,a()):(d.trackEvent("brand:customThemePressed",{contextData:["projectId"],sparkFormat:"page"},"slate:editor"),this._validateCustomThemeSelection(r).then((function(e){e&&a()})).catch((function(e){console.error("Unexpected error attempting to validate selected theme",e)})).done())}return!1},_handleClickEditTheme:function(t){var i=e(t.target),n=i.data("theme-brand-id"),o=i.data("theme-id"),r=p.getValueFor("page");marvel.navigate("/branding/"+n+"/themes/"+o+"/page/"+r,{trigger:!0})},_handleClickUpgrade:function(e){d.trackEvent("clickedMerchandisingCTA",this.editSession.getBrandingAnalytics({trigger:"page:themepicker"}),"slate:editor"),o.showMerchPopover({touchpointName:"page:themepicker",anchorLocation:e.target.getBoundingClientRect(),secondaryBtnTitle:""}).done()},_handleRemoveTooltip:function(t){e(t.currentTarget).closest(".brand-switcher-tooltip").remove()},_validateCustomThemeSelection:function(e){function i(e){return t.filter(e,(function(e){return"user-uploaded"===e.source}))}return n().then(function(){return this.doc.getMyApp().getFontsUsedFromSlateTheme(e,this.doc)}.bind(this)).then(function(e){return n.all([i(e),m(this.doc)])}.bind(this)).spread(a.verifyFontsUsed).then(function(e){if(!e.length)return!0;var t={missingFonts:e,doc:this.doc,defer:n.defer()};return marvel.events.trigger("missing-brand-fonts-ux",t),t.defer.promise}.bind(this))},_getBrandedPickerMetadata:function(){return m(this.doc).then((function(e){return[e,e?e.getFormatThemes("page"):[],e?e.getColorWithUniqueRole("base-color"):null]})).spread((function(e,i,n){n=n?n.getValue("_data"):"";var o=e?e.getName():"";return[i=t.map(i,(function(t){return{name:"custom",branded:!0,context:e,component:t,themeData:t.getValue("theme#data")}})),n,o]}))},_updateThemeButtonSelection:function(t){this.$(".theme-button, .edit-theme-button").removeClass("selected"),this.$(".theme-button-wrapper").each((function(i,n){var o=e(n).find(".theme-button");if(o.data("theme-id")===t){o.addClass("selected");var r=o.data("theme-meta");if(r&&r.context&&r.context.belongsToUser())e(n).find(".edit-theme-button").addClass("selected")}}))},isShowing:function(){return this.$el.hasClass("showing")},show:function(){window.setTimeout(function(){this.isShowing()||(r.hasFeature("entitle-brand-kit")||d.trackEvent("viewedThemePicker",this.editSession.getBrandingAnalytics({trigger:"page:themepicker"}),"slate:editor"),this.$el.addClass("showing"),this.editSession.sendMessageToEditor("panel-opened",{}))}.bind(this),0)},hide:function(){this.isShowing()&&(this.$el.removeClass("showing"),this.editSession.sendMessageToEditor("panel-closed",{}))},toggle:function(){this.isShowing()?this.hide():this.show()},checkBrandAndSetTooltip:function(){if(0===this.$titleBar.find(".brand-tooltip.label").length){var t=e("div.brand-label"),i=t.clone().css({display:"inline",width:"auto",visibility:"hidden"}).appendTo(this.$titleBar);if(i.width()>t.width()){var n=e(document.createElement("span")).addClass("brand-tooltip label").text(t.text());this.$titleBar.find(".brand-label-container").prepend(n)}i.remove()}},render:function(){this.$wrapper.empty();var i=this.themes;if(i&&i.length){var n=new l,o=t.isArray(i[0]),a=r.hasFeature("entitle-brand-kit");if(o)this._renderButtonGroup(i[0],"theme_picker.brand_group.title",n),this._renderButtonGroup(i[1],"theme_picker.builtin_group.title",n);else{var s=e(document.createElement("span")).addClass("merchandise-badge"),d=e(document.createElement("div")).addClass("merchandise-message").text(h.getString("theme_picker.brand_upgrade_text"));if(this.$titleBar.empty().append(s,d).addClass("upgrade"),this._renderButtonGroup(this.themes,"theme_picker.builtin_group.title",n),!a){var c=h.getString("theme_picker.upgrade_button.text");this._createThemeButton("upgrade-wrapper","upgrade-button").prependTo(this.$wrapper).children(".theme-button").removeClass("theme-button").append(e("<span>").text(c))}}return a&&o&&(this._renderBrandSwitcher(),this.checkBrandAndSetTooltip(),r.hasFeature("slate-seen-multibrand")||(r.setUserFlag("slate-seen-multibrand",!0),this._createBrandTooltip())),this._updateThemeButtonSelection(this.editSession.getThemeId()),n.bind("wp-image-loader-empty",function(){this.$wrapper.removeClass("hide"),this.$spinner.addClass("hide")}.bind(this)),n.start(),this}},_renderBrandSwitcher:function(){var i=e(document.createElement("span")).addClass("brand-tooltip switcher").text(h.getString("theme_picker.brand_switcher_tool_tip_text")),n=e(document.createElement("img"));n.addClass("brand-picker");var o=e(document.createElement("span")).addClass("brand-picker-icon-container").append(i,n),r=e(document.createElement("div"));r.text(this.brandName),r.addClass("brand-label");var a=e(document.createElement("span")).addClass("brand-label-container").append(r);if(this.$titleBar.empty().append(a,o).addClass("brand-name"),!t.isEmpty(this.primaryColor)){var l=s.maxContrast(this.primaryColor,[{r:0,g:0,b:0},{r:255,g:255,b:255}]);s.isBlack(l)?(n.addClass("dark"),this.$titleBar.removeClass("light").addClass("dark")):this.$titleBar.removeClass("dark").addClass("light"),this.$titleBar.css("background-color",s.rgbToHex(this.primaryColor)),r.css("color",s.rgbToHex(l))}},_renderButtonGroup:function(t,i,o){var r=this.$wrapper,a=i?h.format(i):i;if(a){var s=new c({name:a}).render();s.$el.appendTo(r),r=s.$content}for(var l=function(e,t,i,n){return e.context.getThemeThumbnailHrefAsync(e.component).then((function(r){o.add(r),i=e.component.id,n.data({"theme-meta":e,"theme-data":e.themeData,"theme-name":t,"theme-id":i}).css("background-image","url("+r+")")}))},d=[],p=0;p<t.length;p++){var u=t[p],g=u.name||"",m=g,f=this._createThemeButton("",g.toLowerCase()+"-theme"),v=f.children(".theme-button");u.branded?d.push(l(u,g,m,v)):v.data({"theme-meta":u,"theme-name":g,"theme-id":m}),"theme_picker.brand_group.title"===i&&e(document.createElement("button")).addClass("edit-theme-button").attr("title",h.getString("theme_picker.edit_theme_shortcut")).data("theme-brand-id",u.themeData.brandId).data("theme-id",u.themeData.id).appendTo(f),f.appendTo(r)}return n.allSettled(d).then(function(e){this._updateThemeButtonSelection(this.editSession.getThemeId())}.bind(this)),r},_createThemeButton:function(t,i){var n=e(document.createElement("div")).addClass("theme-button-wrapper").addClass(t);e(document.createElement("button")).addClass("theme-button").addClass(i).appendTo(n);return n},_createBrandTooltip:function(){var t=e(document.createElement("span")).addClass("close-tooltip"),i=e(document.createElement("span")).addClass("brand-switcher-tooltip").text(h.getString("theme_picker.brand_tool_tip_text")).append(t);this.$titleBar.parent().prepend(i)}})}.apply(t,n))||(e.exports=o)},2539:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(1411),i(2540)],void 0===(o=function(e,t,i,n,o,r){"use strict";return o.extend({el:".mini-progressbar-overlay",template:r.toString(),setProgress:function(e){e=(e=e||0)<0?0:e>100?100:e,this.$progress.css("width",e+"%")},setTitle:function(e){this.$title.text(e||"")},setProgressLabel:function(e){this.$progressLabel.text(e)},render:function(){return this._tagDict={},this.$el.html(r.toString()),this.$shell=this.$el.find(".mini-progress-bar-shell"),this.$progress=this.$el.find(".progress"),this.$title=this.$el.find(".title"),this.$progressLabel=this.$el.find(".progress-label"),this},_handleCancel:function(){}})}.apply(t,n))||(e.exports=o)},2540:function(e,t){e.exports='<div class="mini-progress-bar-bg mrvl-overlay-bg">\n</div>\n<div class="mini-progress-bar-shell mrvl-overlay-shell">\n  <div class="label title"></div><div class="progress-bar"><div class="progress"></div></div><div class="label progress-label"></div>\n</div>\n'},2541:function(e,t,i){var n,o;n=[i(3),i(0),i(2)],void 0===(o=function(e,t,i){"use strict";return i.Model.extend({defaults:{show:!1,caretMetrics:null,contentType:null,parentContentType:null,markups:{anchor:"",bold:!1,italic:!1},alignment:null}})}.apply(t,n))||(e.exports=o)},2542:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(386),i(8),i(2543)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";return i.View.extend({itemTypeSupportsToolbar:{p:!0,h3:!0,h4:!0,blockquote:!0,"ol.li":!0,"ul.li":!0},allowedParentSectionTypes:{content:!0,"full-width":!0,"card-flipbook":!0,"split-layout":!0,"column-layout":!0,"card-layout":!0},itemTypeSupportsAlignment:{p:!0,h3:!0,h4:!0},itemTypeSupportsMarkups:{p:!0,"ol.li":!0,"ul.li":!0},el:".formatting-toolbar",events:{"click .item-type-buttons .button":"_handleItemTypeButtonClick","click .markup-buttons .button":"_handleMarkupButtonClick","click .text-align-buttons .button":"_handleAlignmentButtonClick","click .upgrade-buttons .button":"_handleUpgradeButtonClick"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events),this.editSession=e.editSession,this.listenTo(this.model,"change",this.render),this.$el.html(a.toString()),this.$itemTypeButtons=this.$el.find(".button.item-type"),this.$anchorButton=this.$el.find(".anchorButton"),this.$boldButton=this.$el.find(".boldButton"),this.$italicButton=this.$el.find(".italicsButton"),this.$alignmentButtons=this.$el.find(".text-align-buttons .button"),this.render()},_handleItemTypeButtonClick:function(t){if(this.isContentTypeChangable(this.model.get("contentType"),this.model.get("parentContentType"))){var i=e(t.target).data("type"),n=this.model.get("contentType");this.$el.trigger("item-type-clicked",[i,n])}},_handleMarkupButtonClick:function(t){if(this.isMarkupSupported(this.model.get("contentType"),this.model.get("parentContentType"))){var i="bold",n=e(t.target);n.hasClass("italicsButton")?i="italic":n.hasClass("anchorButton")&&(i="anchor"),this.$el.trigger("markup-clicked",[i,"http://example.com"])}},_handleAlignmentButtonClick:function(t){if(this.isAlignmentSupported(this.model.get("contentType"),this.model.get("parentContentType"))){var i=e(t.target).data("alignment"),n=this.model.get("alignment");this.$el.trigger("alignment-clicked",[i,n])}},_handleUpgradeButtonClick:function(e){o.showMerchPopover({touchpointName:"page:texttoolbar",anchorLocation:e.target.getBoundingClientRect(),secondaryBtnTitle:""}).done()},position:function(){var e=this.$el,t=this.editSession.editorWindow.getSelection();t.toString().length;if(t.rangeCount>0){var i=window.innerWidth,n=e.outerWidth(),o=e.outerHeight(),r=(this.model.get("caretMetrics")||{}).extent||{},a=r.left,s=r.top;if(void 0===a||void 0===s){var l=t.focusNode;l.nodeType==Node.TEXT_NODE&&(l=l.parentNode);var d=l.getClientRects()[0];a=d?d.left:0,s=d?d.top:0}var c=Math.max(25,a+r.width/2-n/2),p=Math.max(0,s-o-10);c>=i-n&&(c=i-n-25),r.bottom<o&&(p+=o),e.css({top:Math.round(p),left:Math.round(c)})}},isToolbarSupported:function(e,t){return this.itemTypeSupportsToolbar[e]||this.isCaptionItemType(e,t)},isAlignmentSupported:function(e,t){return this.itemTypeSupportsAlignment[e]||this.isCaptionItemType(e,t)},isMarkupSupported:function(e,t){return this.itemTypeSupportsMarkups[e]||this.isCaptionItemType(e,t)},isCaptionItemType:function(e,t){return!("img"!==e||!this.allowedParentSectionTypes[t])||"p"===e&&"photo-grid"===t},isContentTypeChangable:function(e,t){return this.itemTypeSupportsToolbar[e]&&!this.isCaptionItemType(e,t)},show:function(){this.isToolbarSupported(this.model.get("contentType"),this.model.get("parentContentType"))?this.$el.addClass("show"):this.hide()},hide:function(){this.$el.removeClass("show")},render:function(){for(var e=this.model.get("contentType"),t=this.model.get("parentContentType"),i=this.isContentTypeChangable(e,t),n=0,o=this.$itemTypeButtons.length;n<o;n++){var a=this.$itemTypeButtons.eq(n);a.data("type")==e?a.addClass("active"):a.removeClass("active"),i?a.addClass("enabled"):a.removeClass("enabled")}var s=this.model.get("alignment"),l=this.isAlignmentSupported(e,t);for(n=0,o=this.$alignmentButtons.length;n<o;n++){var d=this.$alignmentButtons.eq(n);l&&d.data("alignment")==s?d.addClass("active"):d.removeClass("active"),l?d.addClass("enabled"):d.removeClass("enabled")}var c=this.model.get("markups"),p=this.isMarkupSupported(e,t),h=this.$anchorButton,u=this.$boldButton,g=this.$italicButton;return p?(h.addClass("enabled"),u.addClass("enabled"),g.addClass("enabled")):(h.removeClass("enabled"),u.removeClass("enabled"),g.removeClass("enabled")),p&&c.anchor?h.addClass("active"):h.removeClass("active"),p&&c.bold?u.addClass("active"):u.removeClass("active"),p&&c.italic?g.addClass("active"):g.removeClass("active"),r.hasFeature("entitle-brand-kit")?this.$(".upgrade-buttons").hide():this.$(".upgrade-buttons").show(),this.position(),this.model.get("show")?this.show():this.hide(),this}})}.apply(t,n))||(e.exports=o)},2543:function(e,t){e.exports='<div class="item-type-buttons">\n  <div class="h1Button item-type button enabled" data-type="h3"></div>\n  <div class="h2Button item-type button enabled" data-type="h4"></div>\n  <div class="quotesButton item-type button enabled" data-type="blockquote"></div>\n  <div class="ulButton item-type button enabled" data-type="ul.li"></div>\n  <div class="olButton item-type button enabled" data-type="ol.li"></div>\n</div>\n<div class="markup-buttons">\n  <div class="boldButton button"></div>\n  <div class="italicsButton button"></div>\n  <div class="anchorButton button"></div>\n</div>\n<div class="text-align-buttons">\n  <div class="textAlignLeftButton button" data-alignment="left"></div>\n  <div class="textAlignCenterButton button" data-alignment="center"></div>\n  <div class="textAlignRightButton button" data-alignment="right"></div>\n</div>\n<div class="upgrade-buttons">\n  <div class="upgradeButton button enabled"></div>\n</div>\n'},2544:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(976),i(1392),i(258),i(2545)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";return r.extend({events:{"click .closeButton":"_handleCloseBtn","click .slate-spinner-overlay":"_handleClick"},initialize:function(){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events),this._quoteLoaderView=new o({location:"editor"})},_handleCloseBtn:function(e){this.trigger("cancel"),this.hide(),e.preventDefault(),e.stopPropagation()},_handleClick:function(e){e.preventDefault(),e.stopPropagation()},show:function(e){this._isShowing||(this._isShowing=!0,this.render(e),this.$el.addClass("show"))},hide:function(){this.handleHide()},_doHide:function(){this._isShowing&&(this._isShowing=!1,this._quoteLoaderView.clear(),this.$el.removeClass("show"),this.$el.find(".slate-spinner").css("visibility","hidden"),t.delay(function(){this._quoteLoaderView.remove(),this.$el.remove()}.bind(this),1))},render:function(t){return this.$el=e(".slate-spinner-overlay"),this.$el&&this.$el[0]||(this.$el=e("<div></div>"),e(".slate.main-wrapper").append(this.$el)),this.$el.attr("class","slate-spinner-overlay page"),this.$el.html(a.renderMustache(s.toString())),t&&this.$el.find(".title").text(t),this.quoteLoaderEl$=this.$el.find(".quotes"),this._quoteLoaderView.setElement(this.quoteLoaderEl$),this._quoteLoaderView.setAppCssId("page"),this._quoteLoaderView.render(),this.delegateEvents(),this}})}.apply(t,n))||(e.exports=o)},2545:function(e,t){e.exports='<div class="slate-spinner">\n  <div class="title"></div>\n  <div class="closeButtonWrapper">\n    <div class="closeButton"></div>\n    <div class="tooltipWrapper">\n      <div class="tooltip">\n      {{locString.slate_spinner.tooltip}}\n      </div>\n    </div>\n  </div>\n  <div class="spinner-inner">\n    <div class="spinner"></div>\n    <div class="quotes"></div>\n  </div>\n</div>\n'},2546:function(e,t){e.exports='<div class="popup-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="popup-dialog-shell mrvl-overlay-shell">\n    <div class="popup-dialog-content-shell">\n        <div class="pointer"></div>\n        <h2 class="title"></h2>\n        <p class="content"></p>\n    </div>\n</div>\n'},2547:function(e,t,i){var n;void 0===(n=function(){return'<svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" width="32" height="32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><style type="text/css">.st0{fill:{{FILL_COLOR}};{{# FILL_OPACITY }}fill-opacity:{{ FILL_OPACITY }};{{/ FILL_OPACITY }}}</style><path class="st0" d="M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M19.4,16h-2.2v8h-3.3v-8h-1.6v-2.8h1.6v-1.8 C13.7,9.6,15,8.1,16.7,8c0.2,0,0.3,0,0.5,0h2.5v2.7h-1.8c-0.4,0-0.7,0.3-0.7,0.7c0,0,0,0.1,0,0.1v1.7h2.5L19.4,16z"/></svg>'}.apply(t,[]))||(e.exports=n)},2548:function(e,t,i){var n;void 0===(n=function(){return'<svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" width="32" height="32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><style type="text/css">.st0{fill:{{FILL_COLOR}};{{# FILL_OPACITY }}fill-opacity:{{ FILL_OPACITY }};{{/ FILL_OPACITY }}}</style><path class="st0" d="M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z M22.4,12.7c0,0.1,0,0.3,0,0.4 c0,5.2-4.2,9.3-9.4,9.3c-1.8,0-3.5-0.5-5-1.5c0.3,0,0.5,0,0.8,0c1.5,0,2.9-0.5,4.1-1.4c-1.4,0-2.6-0.9-3.1-2.3 c0.2,0,0.4,0.1,0.6,0.1c0.3,0,0.6,0,0.9-0.1c-1.5-0.3-2.6-1.7-2.6-3.2l0,0c0.5,0.3,1,0.4,1.5,0.4c-1.4-1-1.9-2.9-1-4.4 c1.7,2.1,4.1,3.3,6.8,3.4c-0.4-1.8,0.7-3.5,2.5-3.9c1.1-0.3,2.3,0.1,3.1,0.9c0.7-0.1,1.4-0.4,2.1-0.8c-0.2,0.8-0.8,1.4-1.4,1.8 c0.6-0.1,1.3-0.3,1.9-0.5C23.6,11.7,23,12.3,22.4,12.7z"/></svg>'}.apply(t,[]))||(e.exports=n)},2549:function(e,t,i){var n;void 0===(n=function(){return'<svg version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 32 32" width="32" height="32" style="enable-background:new 0 0 32 32;" xml:space="preserve"><style type="text/css">.st0{fill:{{FILL_COLOR}};{{# FILL_OPACITY }}fill-opacity:{{ FILL_OPACITY }};{{/ FILL_OPACITY }}}</style><path class="st0" d="M16,0C7.1,0,0,7.1,0,16s7.1,16,16,16s16-7.1,16-16S24.8,0,16,0z M24.8,19.6c0,0.7-0.2,1.5-0.4,2.1 c-0.5,1.2-1.4,2.1-2.6,2.6c-0.7,0.3-1.4,0.4-2.1,0.4c-1,0.1-1.2,0.1-3.7,0.1c-2.4,0-2.7,0-3.7-0.1c-0.7,0-1.5-0.2-2.1-0.4 C9,23.9,8,23,7.5,21.8c-0.3-0.7-0.4-1.4-0.4-2.1C7,18.7,7,18.4,7,15.9c0-2.4,0-2.7,0.1-3.7c0-0.7,0.2-1.5,0.4-2.1 C8,9,8.9,8,10.1,7.5c0.7-0.3,1.4-0.4,2.1-0.4C13.2,7,13.5,7,15.9,7c2.4,0,2.7,0,3.7,0.1c0.7,0,1.5,0.2,2.1,0.4 c1.2,0.5,2.1,1.4,2.6,2.6c0.3,0.7,0.4,1.4,0.4,2.1c0.1,1,0.1,1.2,0.1,3.7S24.9,18.7,24.8,19.6z M16,13c-1.7,0-3,1.3-3,3s1.3,3,3,3 c1.7,0,3-1.3,3-3C18.9,14.3,17.6,13,16,13z M22.9,10.7c-0.2-0.4-0.4-0.7-0.6-1c-0.3-0.3-0.6-0.5-1-0.6c-0.5-0.2-1.1-0.3-1.7-0.3 c-1-0.1-1.2-0.1-3.6-0.1s-2.7,0-3.6,0.1c-0.6,0-1.1,0.1-1.7,0.3c-0.4,0.2-0.7,0.4-1,0.6c-0.3,0.3-0.5,0.6-0.6,1 c-0.2,0.5-0.3,1.1-0.3,1.7c-0.1,1-0.1,1.2-0.1,3.6s0,2.7,0.1,3.6c0,0.6,0.1,1.1,0.3,1.7c0.2,0.4,0.4,0.7,0.6,1 c0.3,0.3,0.6,0.5,1,0.6c0.5,0.2,1.1,0.3,1.7,0.3c1,0.1,1.2,0.1,3.6,0.1c2.4,0,2.7,0,3.6-0.1c0.6,0,1.1-0.1,1.7-0.3 c0.4-0.2,0.7-0.4,1-0.6c0.3-0.3,0.5-0.6,0.6-1c0.2-0.5,0.3-1.1,0.3-1.7l0,0c0.1-1,0.1-1.2,0.1-3.6s0-2.7-0.1-3.6 C23.2,11.8,23.1,11.3,22.9,10.7z M16,20.5c-2.5,0-4.6-2-4.6-4.6s2-4.6,4.6-4.6c2.5,0,4.6,2,4.6,4.6C20.5,18.5,18.5,20.5,16,20.5z M20.7,12.3c-0.6,0-1.1-0.5-1.1-1.1s0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1C21.8,11.8,21.3,12.3,20.7,12.3z"/></svg>'}.apply(t,[]))||(e.exports=n)},2550:function(e,t,i){var n=i(2551),o=i(622),r=i(1240);window.Render={preview:function(e){var t=this.getJSON(),i=this.getHTML(t,"preview");if($("body").append(i),!Luca.publicationViewer){Luca.initializePublicationViewer(),Luca.publicationViewer._panelGroup.disableSwipe();var n=new WebPro.ImageLoader;n.bind("wp-image-loader-empty",(function(t,i){Luca.initializePublication(),e&&e()})),n.add(t.images),n.start()}},publish:function(){return this.getHTML(this.getJSON(),"publish")},getJSON:function(){if(!window.issueJSON)throw new Error("No issue data found!");var e=n.preprocessJSON(window.issueJSON);return n.parseIssueForTemplate(e)},getHTML:function(e,t){var i=e.theme;if("publish"===t){var n=i&&i.name||"crisp",o=e.cdn_base_url=e.cdn_base_url||"https://s3.amazonaws.com/adobe-luca-prod-ue1-assets/",r=e.cdn_version=e.cdn_version||"1.22";if(e.javascripts=[o+"runtime/"+r+"/runtime-prod.gz.js"],e.stylesheets=[o+"runtime/"+r+"/runtime.gz.css"],i&&i.isCustomTheme||e.stylesheets.push(o+"runtime/"+r+"/themes/"+n+".gz.css"),e.favicon=o+"runtime/"+r+"/images/favicon.ico",e.baseFonts=o+"runtime/"+r+"/base-fonts.gz.js",e.noscriptStylesheet=o+"runtime/"+r+"/noscript.gz.css",e.titleWithFallback=e.title,!e.title.replace(/\s*/g,"")){var a=e.pages[0];if(a.has_author){for(var s,l=0,d=a.sections.length;l<d;l++){var c=a.sections[l];if(c.author_section){s=c;break}}if(s){var p=s.author_first_name,h=s.author_last_name,u=p||"";u+=p&&h?" ":"",u+=h,e.titleWithFallback=u}else e.titleWithFallback="My Page"}else e.titleWithFallback="My Page"}e.use_default_brand=!e.brand_type||"default"===e.brand_type}if(i&&i.font_includes){var g=i.font_includes,m=i.isCustomTheme?"font-subgroup-kits":"themes";for(l=0;l<g.length;l++){var f=g[l];f.is_script="script"===f.method,f.is_link="link"===f.method,f.src&&f.src.search(/^(https?:)?\/\//)<0&&(f.src=o+"runtime/"+r+"/"+(f.path||m)+"/"+f.src)}i.isCustomTheme&&g.push({src:o+"runtime/"+r+"/typekit-load.gz.js",is_script:!0,is_link:!1})}return Mustache.render(this.getTemplateText("#"+t+"-template"),e,{page_container:this.getTemplateText("#page-container-template"),toc_page:this.getTemplateText("#toc-page-template"),toc_item:this.getTemplateText("#toc-item-template"),sections_page:this.getTemplateText("#sections-page-template"),content_section:this.getTemplateText("#content-section-template"),spacer_section:this.getTemplateText("#spacer-section-template"),content_body:this.getTemplateText("#content-body-template"),bumper_page:this.getTemplateText("#bumper-page-template"),bumper_section:this.getTemplateText("#bumper-section-template"),title_section:this.getTemplateText("#title-section-template"),zoom_section:this.getTemplateText("#zoom-section-template"),card_flipbook_section:this.getTemplateText("#card-flipbook-section-template"),fifty_fifty_section:this.getTemplateText("#fifty-fifty-section-template"),wipe_section:this.getTemplateText("#wipe-section-template"),window_section:this.getTemplateText("#window-section-template"),banner_section:this.getTemplateText("#banner-section-template"),full_width_photo_section:this.getTemplateText("#full-width-photo-section-template"),photo_grid_section:this.getTemplateText("#photo-grid-section-template"),back_matter_section:this.getTemplateText("#back-matter-section-template"),author_section:this.getTemplateText("#author-section-template"),credits_section:this.getTemplateText("#credits-section-template"),splash_page:this.getTemplateText("#splash-page-template"),brand_header_section:this.getTemplateText("#brand-header-section-template"),brand_bumper_section:this.getTemplateText("#brand-bumper-section-template"),brand_chrome_css:this.getTemplateText("#brand-chrome-css-template"),ct_author_section_css:this.getTemplateText("#ct-author-section-css-template"),ct_blockquote_bottom_rule_treatment_css:this.getTemplateText("#ct-blockquote-bottom-rule-treatment-css-template"),ct_blockquote_color_band_treatment_css:this.getTemplateText("#ct-blockquote-color-band-treatment-css-template"),ct_blockquote_css:this.getTemplateText("#ct-blockquote-css-template"),ct_blockquote_left_rule_treatment_css:this.getTemplateText("#ct-blockquote-left-rule-treatment-css-template"),ct_blockquote_quote_treatment_css:this.getTemplateText("#ct-blockquote-quote-treatment-css-template"),ct_blockquote_top_bottom_rule_treatment_css:this.getTemplateText("#ct-blockquote-top-bottom-rule-treatment-css-template"),ct_button_css:this.getTemplateText("#ct-button-css-template"),ct_button_double_rounded_treatment_css:this.getTemplateText("#ct-button-double-rounded-treatment-css-template"),ct_button_pill_treatment_css:this.getTemplateText("#ct-button-pill-treatment-css-template"),ct_button_rounded_treatment_css:this.getTemplateText("#ct-button-rounded-treatment-css-template"),ct_button_square_treatment_css:this.getTemplateText("#ct-button-square-treatment-css-template"),ct_button_triangle_treatment_css:this.getTemplateText("#ct-button-triangle-treatment-css-template"),ct_column_css:this.getTemplateText("#ct-column-css-template"),ct_credits_section_css:this.getTemplateText("#ct-credits-section-css-template"),ct_behaviors_css:this.getTemplateText("#ct-behaviors-css-template"),ct_css:this.getTemplateText("#ct-css-template"),ct_fill_screen_image_css:this.getTemplateText("#ct-fill-screen-image-css-template"),ct_full_width_image_border_treatment_css:this.getTemplateText("#ct-full-width-image-border-treatment-css-template"),ct_full_width_image_caption_background_treatment_css:this.getTemplateText("#ct-full-width-image-caption-background-treatment-css-template"),ct_full_width_image_css:this.getTemplateText("#ct-full-width-image-css-template"),ct_glideshow_css:this.getTemplateText("#ct-glideshow-css-template"),ct_heading_css:this.getTemplateText("#ct-heading-css-template"),ct_heading_double_rule_treatment_css:this.getTemplateText("#ct-heading-double-rule-treatment-css-template"),ct_heading_image_rule_treatment_css:this.getTemplateText("#ct-heading-image-rule-treatment-css-template"),ct_heading_single_rule_treatment_css:this.getTemplateText("#ct-heading-single-rule-treatment-css-template"),ct_inline_image_border_treatment_css:this.getTemplateText("#ct-inline-image-border-treatment-css-template"),ct_inline_image_caption_background_treatment_css:this.getTemplateText("#ct-inline-image-caption-background-treatment-css-template"),ct_inline_image_css:this.getTemplateText("#ct-inline-image-css-template"),ct_inline_link_css:this.getTemplateText("#ct-inline-link-css-template"),ct_ordered_list_colored_counter_treatment_css:this.getTemplateText("#ct-ordered-list-colored-counter-treatment-css-template"),ct_ordered_list_css:this.getTemplateText("#ct-ordered-list-css-template"),ct_page_css:this.getTemplateText("#ct-page-css-template"),ct_paragraph_css:this.getTemplateText("#ct-paragraph-css-template"),ct_photo_grid_border_treatment_css:this.getTemplateText("#ct-photo-grid-border-treatment-css-template"),ct_photo_grid_caption_background_treatment_css:this.getTemplateText("#ct-photo-grid-caption-background-treatment-css-template"),ct_photo_grid_css:this.getTemplateText("#ct-photo-grid-css-template"),ct_spacing_css:this.getTemplateText("#ct-spacing-css-template"),ct_subheading_css:this.getTemplateText("#ct-subheading-css-template"),ct_text_props_css:this.getTemplateText("#ct-text-props-css-template"),ct_title_section_border_box_treatment_css:this.getTemplateText("#ct-title-section-border-box-treatment-css-template"),ct_title_section_whimsy_treatment_css:this.getTemplateText("#ct-title-section-whimsy-treatment-css-template"),ct_title_section_css:this.getTemplateText("#ct-title-section-css-template"),ct_title_section_gradient_overlay_treatment_css:this.getTemplateText("#ct-title-section-gradient-overlay-treatment-css-template"),ct_title_section_middle_rule_treatment_css:this.getTemplateText("#ct-title-section-middle-rule-treatment-css-template"),ct_title_section_solid_box_treatment_css:this.getTemplateText("#ct-title-section-solid-box-treatment-css-template"),ct_title_section_top_bottom_rule_treatment_css:this.getTemplateText("#ct-title-section-top-bottom-rule-treatment-css-template"),ct_title_section_vintage_treatment_css:this.getTemplateText("#ct-title-section-vintage-treatment-css-template"),ct_title_section_color_band_treatment_css:this.getTemplateText("#ct-title-section-color-band-treatment-css-template"),ct_title_section_header_padding_css:this.getTemplateText("#ct-title-section-header-padding-css-template"),ct_title_section_header_view_padding_css:this.getTemplateText("#ct-title-section-header-view-padding-css-template"),ct_unordered_list_css:this.getTemplateText("#ct-unordered-list-css-template"),ct_unordered_list_image_treatment_css:this.getTemplateText("#ct-unordered-list-image-treatment-css-template"),ct_window_image_css:this.getTemplateText("#ct-window-image-css-template")})},getTemplateText:function(e){return $(e).text().replace(/\&lt\;(\/)?script([^\&]*)\&gt\;/g,"<$1script$2>")},getCustomThemeUniqueName:function(e){return o.getUniqueName(e)},getCustomThemeFontIncludes:function(e){return r.getFontIncludes(e)},getCustomThemeCSS:function(e,t,i){return r.getCSS(e,t,i)}},e.exports&&(e.exports=window.Render)},2551:function(e,t,i){var n=i(1240),o=i(622),r=function(e){this._parseIssueRoot(e)},a=i(0),s=function(e){return e?e.replace(/\</g,"%3C").replace(/\>/g,"%3E").replace(/\"/g,"%22"):e};a.extend(r.prototype,{defaultTitleAlign:"title-center",defaultCoverTitleAlign:"title-top-left",defaultCaptionAlign:"caption-left",defaultCardAlign:"card-left",defaultImageAlign:"50% 50%",defaultLinkButtonAlign:"link-left",defaultEmbedURL:"about:blank",defaultLinkURL:"",sectionTypeSettings:{title:{isName:"title_section",settingsName:"title",parser:"parseTitleSectionForTemplate"},content:{isName:"default_section",settingsName:"single-column",parser:"parseCommonSection"},"column-layout":{isName:"column_layout_section",settingsName:"column-layout",parser:"parseColumnLayoutSectionForTemplate"},"card-layout":{isName:"card_layout_section",settingsName:"card-layout",parser:"parseCardLayoutSectionForTemplate"},"split-layout":{isName:"split_layout_section",settingsName:"split-layout",parser:"parseSplitLayoutSectionForTemplate"},spacer:{isName:"spacer_section",settingsName:"spacer",parser:"parseSpacerSectionForTemplate"},zoom:{isName:"zoom_section",settingsName:"fullscreen-photo",parser:"parseSectionImageForTemplate"},window:{isName:"window_section",settingsName:"window",parser:"parseSectionImageForTemplate"},banner:{isName:"banner_section",settingsName:"banner",parser:"parseSectionImageForTemplate"},"full-width":{isName:"full_width_photo_section",settingsName:"full-width-photo",parser:"parseSectionImageForTemplate"},"card-flipbook":{isName:"card_flipbook_section",settingsName:"column-overlay",parser:"parseCardFlipbookSectionForTemplate"},"fifty-fifty":{isName:"fifty_fifty_section",settingsName:"50-50",parser:"parseFiftyFiftySectionForTemplate"},wipe:{isName:"wipe_section",settingsName:"wipe",parser:"parseWipeSectionForTemplate"},"photo-grid":{isName:"photo_grid_section",settingsName:"photo-grid",parser:"parsePhotoGridSectionForTemplate"},"back-matter":{isName:"back_matter_section",settingsName:"back-matter",parser:"parseBackMatterSectionForTemplate"},author:{isName:"author_section",settingsName:"author",parser:"parseAuthorSectionForTemplate"},credits:{isName:"credits_section",settingsName:"credits",parser:"parseCreditsSectionForTemplate"},bumper:{isName:"bumper_section",settingsName:"bumper",parser:"parseBumperSectionForTemplate"},"brand-bumper":{isName:"brand_bumper_section",settingsName:"brand-bumper",parser:"parseBrandBumperSectionForTemplate"},"brand-header":{isName:"brand_header_section",settingsName:"brand-header",parser:"parseBrandHeaderSectionForTemplate"}},openCloseTypes:{ol:1,ul:1},rootPayload:null,rootURL:"",isValidURL:function(e){var t=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),i="http://"+e,n="http:"+e;return t.test(e)||t.test(i)||t.test(n)||/^mailto\:[^\@]+\@[^\@]+/.test(e)||/^tel\:[\d\s\(\)\-\+]+/.test(e)},getBasicURLInfo:function(e){var t={};return t.valid=this.isValidURL(e),t.absoluteURL=e,e&&!/^(([A-Za-z]+:)|\/\/)/.test(e)&&(t.absoluteURL="http://"+e),t},getURLInfo:function(e){var t=this.getBasicURLInfo(e);if(t.embeddable=!1,t.embedURL=void 0,!t.valid)return t;var i=e.match(/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*([^\/\?#:]+)\.[^\/\?#:]+/),n=i&&i[1]||"";i&&"adobe"===i[1]&&"spark"==(n=(i=e.match(/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*([^\/\?#:]+)\.adobe\.[^\/\?#:]+\/([^\/\?#:]+)/))&&i[1]||"")&&(n+="-"+i[2]);if("voice"===n&&e.search(/voice\.adobe\.com\/v\//)>=0&&(n="voice-ccv"),n){var o={voice:{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*voice\.adobe\.com\/(?:[^\/\?#]+\/)([^\?#\&\/]+)/,prefix:"https://voice.adobe.com/a/",postfix:"/embed"},"voice-ccv":{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*voice\.adobe\.com\/v\/([^\?#\&\/]+)/,prefix:"https://www.ccv.adobe.com/v1/player/",postfix:"/embed"},ccv:{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*ccv.adobe\.com\/(?:[^\/\?#]+\/)+([^\?#\&\/]+)\/embed/,prefix:"https://www.ccv.adobe.com/v1/player/",postfix:"/embed"},"spark-video":{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*spark\.adobe\.com\/video\/([^\?#\&\/]+)/,prefix:"https://spark.adobe.com/video/",postfix:"/embed?lazyLoading=true"},youtube:{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*youtube\.com\/(?:(?:watch\?(?:[^&]+&)*v=)|(?:embed\/))([^\?#\&\/]+)/,prefix:"https://youtube.com/embed/",postfix:"?enablejsapi=1"},youtu:{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*youtu\.be\/([^\?#\&\/]+)/,prefix:"https://youtube.com/embed/",postfix:"?enablejsapi=1"},vimeo:{regex:/(?:(?:https?:)?\/\/)?(?:[^\.:\/]+\.)*vimeo\.com(?:\/[^\/\?#]+)*\/([^\?#\&\/]+)/,prefix:"https://player.vimeo.com/video/",postfix:""}}[n];if(o){var r=e.match(o.regex);r&&(t.embeddable=!0,t.embedURL=o.prefix+r[1]+o.postfix)}}return t},simpleValidateLinkURL:function(e){var t=this.getBasicURLInfo(e);return t.valid?t.absoluteURL:this.defaultLinkURL},parseIssueForTemplate:function(e){var t=this._parseIssueRoot(e);return e.pages&&(t.pages=this.parseIssuePages(e.pages,t)),t.splash=this._parseSplashForTemplate(e,t),t},_parsePageBrandForTemplate:function(e,t){var i=t.brand;return i&&this._copyPrimitives(i,{})},_parseSplashForTemplate:function(e,t){for(var i={},n=t.pages,o=n.length,r=0;r<o;r++){for(var a=n[r].sections,s=a.length,l=0;l<s;l++){var d=a[l];if(d.title_section&&d.image){i.image=this._copyPrimitives(d.image,{});break}}if(i.image)break}return i},parseBrandSocialUrls:function(e,t){t.facebookUrl&&(e.facebookUrl=this.simpleValidateLinkURL(t.facebookUrl)),t.facebookIcon&&(e.facebookIcon=t.facebookIcon),t.twitterUrl&&(e.twitterUrl=this.simpleValidateLinkURL(t.twitterUrl)),t.twitterIcon&&(e.twitterIcon=t.twitterIcon),t.instagramUrl&&(e.instagramUrl=this.simpleValidateLinkURL(t.instagramUrl)),t.instagramIcon&&(e.instagramIcon=t.instagramIcon),e.hasSocialUrls=!!(e.facebookUrl||e.twitterUrl||e.instagramUrl)},parseBrandHeaderSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t),n=t.brand;return"brandkit"==t.brand_type&&(i.brandCTAEnabled=!!n.headerCTAEnabled),n&&(i.brandName=n.name,i.hasBrandLogo="custom"==t.brand_type||!!n.headerLogo,i.brandUrl=this.simpleValidateLinkURL(n.url),i.brandCTA=n.headerCta,i.brandCTAUrl=this.simpleValidateLinkURL(n.headerCtaUrl),i.brandCTAButtonStyle=n.headerCTAButtonStyle,this.parseBrandSocialUrls(i,n)),i},parseBrandBumperSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t),n=t.brand;return"brandkit"==t.brand_type&&(i.brandCTAEnabled=!!n.footerCTAEnabled),n&&(i.brandName=n.name,i.hasBrandLogo="custom"==t.brand_type||!!n.bumperLogo,i.brandUrl=this.simpleValidateLinkURL(n.url),i.brandCTA=n.footerCta,i.brandCTAUrl=this.simpleValidateLinkURL(n.footerCtaUrl),i.brandCTAButtonStyle=n.footerCTAButtonStyle,this.parseBrandSocialUrls(i,n)),i},_parseIssueRoot:function(e){e||(e={});var t={id:e.cid||"",isSinglePage:!0,images:[]};return this.rootPayload=t,this.rootURL=e.base_url||"",this._copyPrimitives(e,t),e.brand&&(t.brand=e.brand),e.brand_type&&(t.brand_type=e.brand_type),e.theme&&(t.theme=this.parseThemeForTemplate(e.theme)),e.stylesheets&&(t.stylesheets=e.stylesheets.slice()),e.javascripts&&(t.javascripts=e.javascripts.slice()),e.pages&&(t.isSinglePage=1===e.pages.length),t},parseIssuePages:function(e,t){for(var i=[],n=e.length,o=0;o<n;o++){var r=e[o],a=0===o&&n>1&&r.sections&&1===r.sections.length,s=this.parsePageForTemplate(r,a,t);i.push(s)}if(n>1){var l={bumper_page:!0,issue_id:t&&t.id,issue_url:t&&t.published_url,title:t&&t.title,subtitle:t&&t.subtitle};i.push(l)}return i},parsePageForTemplate:function(e,t,i){var n={id:e.cid||""};this._copyPrimitives(e,n),n.brand=this._parsePageBrandForTemplate(e,i),n.brand_type=i.brand_type,n.isCover=t,n.isCover||(n.toc={id:e.id});var o=e.author;return n.has_author=!(!o||!o.first_name&&!o.last_name),n.author=e.author,n.credits=e.credits,e.sections&&(n.sections=this.parsePageSections(e.sections,n)),n},parsePageSections:function(e,t){for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n],a=this.parseSectionForTemplate(r,t);i.push(a)}return this.updateLayersFromLayerNames(i),i},parseSectionForTemplate:function(e,t){var i=this.sectionTypeSettings[e.type]||{};return(i.parser&&this[i.parser]||this.parseCommonSection).call(this,e,t)},parseSectionForTemplateInContext:function(e,t){return t&&this._parseIssueRoot(t),this.parseSectionForTemplate(e)},parseCommonSection:function(e,t,i){var n={id:e.cid||"",isCover:!!t&&t.isCover,section_class:this.getSettingByName(e.settings,"section_class")||""};this._copyPrimitives(e,n),this._parseSectionTypeIsBools(e,n),this._applyThemeSettings(n);var o=i||e.content_items||[];return n.content_items=this.parseInlineContentItems(o,n),n},parseSingleColumnSectionForTemplate:function(e,t,i){var n=this.parseCommonSection(e,t,i),o=n.content_items;if("img"===(this.getSettingByName(e.settings,"background_type")||"none")&&o.length){var r=o[0];"img"===r.type&&(n.image=r.image,o.shift())}return n},parseColumnLayoutSectionForTemplate:function(e,t,i){var n=this.parseSingleColumnSectionForTemplate(e,t,i);n.section_class+=(n.section_class?" ":"")+"column-layout";this.getSettingByName(e.settings,"background_type");if(n.image){n.section_class+=" background-image-overrides";var o=this.getSettingByName(e.settings,"background_overlay_type")||"none";"none"!=o&&(n.section_class+=" background-overlay-"+o)}var r=this.getSettingByName(e.settings,"section_sizing")||"natural";return"natural"!==r&&(n.section_class+=(n.section_class?" ":"")+"height-"+r),n},parseCardLayoutSectionForTemplate:function(e,t,i){var n=this.parseSingleColumnSectionForTemplate(e,t,i);return n.section_class+=(n.section_class?" ":"")+"card-layout",n},parseSplitLayoutSectionForTemplate:function(e,t,i){var n=this.parseSingleColumnSectionForTemplate(e,t,i),o=this.getSettingByName(e.settings,"background_split_position")||"left";return n.section_class+=(n.section_class?" ":"")+"split-layout",n.section_class+=" image-on-"+o,n},parseTitleSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t,[]);this._parseTitleAlign(e,i),this._addToTOC("title_align",i.title_align,t);var n=e.content_items;if(n)for(var o=0,r=n.length;o<r;o++){var a=n[o];"title"===a.type?(i.title=a.text,this._addToTOC("title",i.title,t)):"subtitle"===a.type?(i.subtitle=a.text,this._addToTOC("subtitle",i.subtitle,t)):"img"===a.type&&(i.image=this.parseImage(a,i),this._addToTOC("image_url",s(i.image_url),t),this._addToTOC("image_align",i.image.align,t))}return(i.title||i.subtitle)&&(i.renderTitleHeader=!0),i},parseSectionImageForTemplate:function(e,t){var i=this.parseCommonSection(e,t);this._parseTitleAlign(e,i),this._parseCaptionAlign(e,i);var n=this._findFirstByType(e.content_items,"img");return n&&(i.image=this.parseImage(n,i),i.caption=n.text),i},parseSpacerSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t);return i.spacer_class=this.getSettingByName(e.settings,"spacer_class")||"",i},parseCardFlipbookSectionForTemplate:function(e,t){for(var i=this.parseCommonSection(e,t),n=[],o=[],r=e.groups,a=r.length-1,s=0,l=r.length;s<l;s++){var d=r[s],c=i.content_items.slice(d.offset,d.offset+d.count);n[s]=c.shift();var p=n[s].settings.card_align||this.defaultCardAlign;(s!==a||c.length)&&(o[s]={content_items:c,card_align:p})}return i.background_images=n,i.cards=o,i},updateLayersFromLayerNames:function(e){for(var t={over:1,under:0},i={over:1,under:-1},n=-1,o=0,r=e.length;o<r;o++){var a,s=e[o],l=s.layerName,d=t[l];if(void 0===d)d=-1;else a=-1===n?i[l]:d-n,s.layer=a;n=d}},parseFiftyFiftySectionForTemplate:function(e,t){for(var i=this.parseCommonSection(e,t),n=i.content_items,o=0,r=n.length;o<r;o++){var a=n[o];if("img"!==a.type)break;a.background_image=!0}return i},parseWipeSectionForTemplate:function(e,t){for(var i=this.parseCommonSection(e,t),n=1,o=i.content_items,r=0,a=o.length;r<a;r++){var s=o[r];if("img"===s.type&&(i["background_image_"+n]=s.src,++n>2))break}return i},parsePhotoGridSectionForTemplate:function(e,t){var i,n,o=this.parseCommonSection(e,t),r=e.groups||[],a=o.content_items||[];for(i=0;i<a.length;i++)if("p"===a[i].type&&a[i].text){n=a[i];break}n&&(o.grid_caption=n.content,o.text_align=n.text_align);var s=[];for(o.groups=s,i=0;i<r.length;i++){var l=r[i];if(l){for(var d={layoutName:l.layoutName,photos:[]},c=0;c<l.count;c++){var p=a[l.offset+c];if(p&&p.image){var h=p.id,u=p.image,g=u.src||"",m=u.image_width||0,f=u.image_height||0,v=Math.min(Math.max(m,f),1024);d.photos.push({id:h,src:g,caption:p.text||"",image_src:g.replace(/(\?(?:[^#\&]*\&)*)size=[0-9]+/,"$1size="+v),image_width:m,image_height:f})}}s.push(d)}}return o},parseBackMatterSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t),n=e.groups||[],o=i.content_items||[],r=[];i.groups=r;for(var a=0;a<n.length;a++){var s=n[a];if(s){for(var l={name:s.name,content_items:[]},d=0;d<s.count;d++){var c=o[s.offset+d];c&&l.content_items.push(c)}r.push(l)}}return i},parseAuthorSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t),n=t.author;if(i.has_author=t.has_author,n){i.author_first_name=n.first_name||"",i.author_last_name=n.last_name||"";var o=n.avatar_url||"";o&&(o=this.makeAbsoluteURL(o)),i.avatar_url=o}return i.appreciate_url=t.appreciate_url||"",i},parseCreditsSectionForTemplate:function(e,t){var i=this.parseCommonSection(e,t);return i.credits=t.credits||"",i},parseBumperSectionForTemplate:function(e,t){return this.parseCommonSection(e,t)},_parseSectionTypeIsBools:function(e,t){for(var i in this.sectionTypeSettings){t[this.sectionTypeSettings[i].isName]=e.type===i}},_parseTitleAlign:function(e,t){var i=this.getSettingByName(e.settings,"title_align");t.title_align=i||(t.isCover?this.defaultCoverTitleAlign:this.defaultTitleAlign)},_parseCaptionAlign:function(e,t){var i=this.getSettingByName(e.settings,"caption_align");t.caption_align=i||this.defaultCaptionAlign},_addToTOC:function(e,t,i){i&&i.toc&&void 0===i.toc[e]&&(i.toc[e]=t)},parseInlineContentItems:function(e,t){var i,n,o=[],r=0,a=e.length;for(r=0;r<a;r++){var s=e[r],l=this.parseInlineContentItem(s,t);o.push(l)}for(r=0;r<a;r++)n=o[r],(i=o[r-1])&&n.supertype===i.supertype||(this.openCloseTypes[n.supertype]&&(n.open=n.supertype),i&&this.openCloseTypes[i.supertype]&&(n.close=i.supertype));return n&&this.openCloseTypes[n.supertype]&&o.push({body:!0,type:"",close:n.supertype}),o},parseInlineContentItem:function(e,t){var i=t?t.type:"",n={id:e.cid||"",body:!0,content:this.parseContentText(i,e)};switch(this._copyPrimitives(e,n),e.type){case"ol.li":case"ul.li":var o=e.type.split(".");n.supertype=o[0],n.type=o[1];break;case"img":this.parseImageItem(e,n,t);break;case"a":n.block_class="link-button-wrapper",n.item_class="link-button",n.link_align=this.getSettingByName(e.settings,"link_align")||this.defaultLinkButtonAlign,n.href=s(n.href);var r=this.getURLInfo(n.href);n.href=r.absoluteURL,this.getSettingByName(e.settings,"embedded")&&(r.valid&&r.embeddable&&r.embedURL?n.embed_url=r.embedURL:n.embed_url=this.defaultEmbedURL)}switch(e.type){case"p":case"img":case"h3":case"h4":var a=this.getSettingByName(e.settings,"text_align");a&&(n.text_align=a)}if(n.is_simple_text=!this.itemSupportsMarkups(i,e.type),e.settings){n.settings={};for(var l=0,d=e.settings.length;l<d;l++){var c=e.settings[l];n.settings[c.key]=c.value}}return n},parseImageItem:function(e,t,i){var n=t||{id:e.cid||""};return t||this._copyPrimitives(e,n),n.body=!0,n.type=e.type,n.href=e.href,n.is_image=!0,n.image=this.parseImage(e,i),n.src=s(n.image.image_url),n},makeAbsoluteURL:function(e){if(e&&this.rootURL&&!/^[^\:]{2,6}\:/.test(e)&&!/^\//.test(e)){var t="/"===this.rootURL.slice(-1)?"":"/";e=this.rootURL+t+e}return e},parseImage:function(e,t){var i={};this._copyPrimitives(e.image,i);var n=e.image,o=s(n?n.image_url:"");o&&(o=this.makeAbsoluteURL(o),this.rootPayload&&this.rootPayload.images&&(this.rootPayload.images[o]||(this.rootPayload.images.push(o),this.rootPayload.images[o]=!0))),i.image_url=o,i.src=o,i.url=o?"url("+o+")":"",i.image_width=n?n.image_width:0,i.image_height=n?n.image_height:0,i.image_width&&i.image_height&&(i.aspect_ratio=i.image_height/i.image_width*100);var r=this.getSettingByName(e.settings,"image_align");return(!r||r.search(/^\s*(?:(?:[0-9]*\.[0-9]+)|(?:[0-9]+))\%\s+(?:(?:[0-9]*\.[0-9]+)|(?:[0-9]+))\%\s*$/)<0)&&(r=this.defaultImageAlign),i.align=r,i.attribution=e.contributor_name,i.site=e.contributor_website,i},itemSupportsMarkups:function(e,t){if(!0==={p:!0,"ol.li":!0,"ul.li":!0}[t])return!0;if("img"==t){if(1==={content:1,"full-width":1,"card-flipbook":1,"split-layout":1,"column-layout":1,"card-layout":1}[e])return!0}return!1},parseContentText:function(e,t){var i=t.text,n=t.type;if(i&&this.itemSupportsMarkups(e,t.type)){var o=t.markups;o.sort(this._startIndexSort);var r=[];for(c=0;c<o.length;c++){var a=o[c],s=a.start_index,l=a.end_index;if(s!=l||"br"==n){var d=this.getMarkupStyleTags(a);r.push({tag:d.open,offset:s,index:c,type:"open"}),r.push({tag:d.close,offset:l,index:c,type:"close"})}}for(var c=0;c<r.length;c++)"close"==r[c].type&&""==r[c].tag&&r.splice(c,1);r.sort(this._offsetSort);var p=[],h=0;for(c=0;c<r.length;c++){var u=r[c];u.offset>h&&(p.push(this.getSubstring(i,h,u.offset,!0)),h=u.offset),p.push(u.tag)}return h<i.length&&p.push(this.getSubstring(i,h,i.length,!0)),p.join("")}return i||""},parseThemeForTemplate:function(e){var t={},i=o.isCustomThemeFormat(e);if(i)t=n.getCustomThemePayload(e);else{var r=o.convertToKebabCase(e.name||"Crisp");t.name=r}return e.fonts&&(t.fonts=e.fonts.slice()),e.font_includes?t.font_includes=a.map(e.font_includes,(function(e){return{src:e.src,method:e.method,is_script:"script"===e.method,is_link:"link"===e.method,path:e.path}})):t.font_includes=i?n.getFontIncludes(e):[],t},_applyThemeSettings:function(e){var t=this._getSectionThemeSettings(this.rootPayload,e.type);t.layer&&(e.layer=t.layer),t.layerName&&(e.layerName=t.layerName),t.behavior&&(e.behavior=t.behavior)},getSettingByName:function(e,t){if(e&&t)for(var i=0,n=e.length;i<n;i++){var o=e[i];if(o.key===t)return o.value}return null},getSettingsValues:function(e){var t=[];if(!e)return t;for(var i=0,n=e.length;i<n;i++){var o=e[i];t.push(o.value)}return t},_copyPrimitives:function(e,t){for(var i in e){var n=e[i];"object"!=typeof n&&(t[i]=n)}return t},_simpleClone:function(e){var t={};for(var i in e){var n=e[i];t[i]=n&&"object"==typeof n?this._simpleClone(n):n}return t},_findFirstByType:function(e,t){if(!e)return null;for(var i=0,n=e.length;i<n;i++){var o=e[i];if(o.type===t)return o}return null},startIndexSort:function(e,t){var i=e.start_index-t.start_index;return 0===i&&(i=t.end_index-e.end_index),i},_offsetSort:function(e,t){if(e.offset==t.offset){if("open"==e.type&&"open"==t.type){if("<br>"==e.tag||"\n"==e.tag)return-1;if("<br>"==t.tag||"\n"==t.tag)return 1}return"close"==e.type&&"close"==t.type?t.index-e.index:e.index===t.index?"open"==e.type?-1:1:e.index-t.index}return e.offset-t.offset},getMarkupStyleTags:function(e){var t=e.type,i="",n=this.getURLInfo(s(e.href));return n.absoluteURL&&(i=' href="'+n.absoluteURL+'" target="_blank" rel="nofollow noreferrer"'),{open:"<"+t+i+">",close:"</"+t+">"}},entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},escapeHtml:function(e){var t=this.entityMap;return String(e).replace(/[&<>"'\/]/g,(function(e){return t[e]}))},getSubstring:function(e,t,i,n){var o=e.substring(t,i);return n?this.escapeHtml(o):o},getSectionIdFromType:function(e){var t=r.sectionTypeSettings[e];return t&&t.settingsName||e},_getSectionThemeSettings:function(e,t){var i=this.getSectionIdFromType(t),r={behavior:"default",layerName:n.isUnderSection[i]?"under":"over"};if(o.isBuiltInTheme(e.theme))r.behavior=(e.theme.name||"default")+"-"+i;else{var a=e.theme&&e.theme.section_settings,s=a&&a[i];s&&(r=s)}return r},_addSectionClass:function(e,t){if(e&&t){var i,n=e.settings;n||(e.settings=n=[]);for(var o=0,r=n.length;o<r;o++){var a=n[o];if("section_class"===a.key){i=a;break}}i||(i={key:"section_class",value:""},n.push(i));var s=i.value.split(/\s+/);s.push(t),i.value=s.join(" ")}},isFullWidthImageWithCaption:function(e){var t=null;return e&&"full-width"===e.type&&(t=e.content_items[0]),t&&"img"===t.type&&t.text},preprocessSections:function(e,t,i){var n=t.sections,o=n[n.length-1],r=t.author;(r&&(r.first_name||r.last_name)||t.appreciate_url)&&n.push({type:"author"}),t.credits&&n.push({type:"credits"}),e.brand&&n.unshift({type:"brand-header"}),i&&(e.brand?n.push({type:"brand-bumper"}):n.push({type:"bumper"}));for(var a={title:!0,zoom:!0,window:!0,"full-width":!0,banner:!0,"card-flipbook":!0,"split-layout":!0,"column-layout":!0,"card-layout":!0},s={content:!0,"photo-grid":!0},l={p:!0,blockquote:!0,h3:!0,h4:!0,"ul.li":!0,"ol.li":!0,a:!0},d=0,c=null,p="";d<n.length;){var h=n[d],u=h.type,g=n[d+1],m=g&&g.type||"",f="",v=null,b=h===o;if(a[u])a[m]&&(f="content-spacer",this.isFullWidthImageWithCaption(h)&&(f="content-item-spacer"),"under"===this._getSectionThemeSettings(e,u).layerName&&(f+=" top-shadow"),m&&"under"===this._getSectionThemeSettings(e,m).layerName&&(f+=" bottom-shadow"),d++,v={type:"spacer",settings:[{key:"section_class",value:f}]},n.splice(d,0,v));else if(s[u]){if(a[p]){if(a[m]){var w=h.content_items;1===w.length&&l[w[0].type]&&this._addSectionClass(h,"single-item-content-section")}this._addSectionClass(h,"large-content-spacing-top")}(a[m]||b)&&this._addSectionClass(h,"large-content-spacing-bottom")}var k=v||g,x=k&&k.type||"";"over"===this._getSectionThemeSettings(e,u).layerName?(p&&"under"===this._getSectionThemeSettings(e,p).layerName&&this._addSectionClass(h,"top-shadow"),x&&"under"===this._getSectionThemeSettings(e,x).layerName&&this._addSectionClass(h,"bottom-shadow")):"bumper"===u&&p&&"under"===this._getSectionThemeSettings(e,p).layerName&&this._addSectionClass(c,"bottom-shadow"),d++,c=v||h,p=v?v.type:u}return e},preprocessJSON:function(e){var t=null;e.theme&&((t=e.theme.section_settings)||(t=n.generateCustomThemeSectionSettings(),e.theme.section_settings=t)),t&&(t.bumper||(t.bumper={behavior:"default",layerName:"under"}),e.brand&&(t["brand-header"]||(t["brand-header"]={behavior:"brand-header",layerName:"over"}),t["brand-bumper"]||(t["brand-bumper"]={behavior:"brand-bumper",layerName:"under"})));for(var i=e.pages.length,o=0;o<i;o++)this.preprocessSections(e,e.pages[o],1===i);return e}}),a.extend(r,r.prototype);try{window.LucaJSONParser=r}catch(e){}e.exports&&(e.exports=r)},2552:function(e,t,i){var n;void 0===(n=function(){var e={youtube:"https://youtube.com/embed/",vimeo:"https://player.vimeo.com/video/",voice:"https://voice.adobe.com/a/",ccv:"https://www.ccv.adobe.com/v1/player/","voice-ccv":"https://www.ccv.adobe.com/v1/player/","spark-video":"https://spark.adobe.com/video/"},t={YOUTUBE:1,SPARK_VIDEO:2,VIMEO:3,INVALID_SOURCE:0};return{getEmbedType:function(i){var n=i.trim().split(/\r?\n/).join("");for(var o in e){var r=e[o];if(-1!=n.indexOf(r))return"youtube"==o?t.YOUTUBE:"vimeo"==o?t.VIMEO:t.SPARK_VIDEO}return t.INVALID_SOURCE},embedTypes:t}}.apply(t,[]))||(e.exports=n)},2553:function(e,t,i){var n,o;n=[i(3),i(1)],void 0===(o=function(e,t){var i=["fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement"],n=["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"],o=["exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen"],r=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],a=function(e){this.doc=e},s={enter:function(e){e||(e=this.doc||document);var i=e.documentElement;return t(d(i,n).call(i))},exit:function(e){return e||(e=this.doc||document),t(d(e,o).call(e))},toggle:function(e){return e||(e=this.doc||document),a.isFullscreen(e)?{fullscreen:!1,promise:a.exit(e)}:{fullscreen:!0,promise:a.enter(e)}},getElement:function(e){return e||(e=this.doc||document),d(e,i)},isFullscreen:function(e){return e||(e=this.doc||document),!!a.getElement(e)},addListener:function(e,t){t||(t=this.doc||document),t.addEventListener(l(t),e)},removeListener:function(e,t){t||(t=this.doc||document),t.removeEventListener(l(t),e)}};function l(e){return d(e,o,r)}function d(e,t,i){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(r in e)return i?i[n]:e[r]}}return e.extend(a,s),e.extend(a.prototype,s),a}.apply(t,n))||(e.exports=o)},2554:function(e){e.exports=JSON.parse('"/slate-web/editor-b6a3680b.html"')},2555:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(427),i(2556),i(1408),i(14),i(369),i(9),i(1685),i(1686)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c){var p="Crisp";function h(t){var i=this.$slateEle=e(".slate.simple-preview");this.previewIsReady=!1,this._shouldPreLoadImages=!1,this.renderData=t.renderData,this.appConfig=t.appConfig,this.analyticsEventNamespace=this.appConfig.analyticsEventNamespace,this.currentSelectedTheme=p,this.marvelWrapper=e(t.previewEl),this.previewWindow=i.find("iframe.preview")[0].contentWindow,this.$previewEle=i.find("iframe.preview")[0],this._initThemeButtons(),this.renderData&&this._handlePreviewUpdate(this.renderData),e(".theme-button").on("click",function(e){this._handleThemeClicked(e)}.bind(this))}return e.extend(h.prototype,{msgCallbacks:{"preview-ready":"_handlePreviewReady","preview-update":"_handlePreviewUpdate","create-doc":"_handleCreatePageDoc"},destroy:function(){},receiveMessage:function(e){var t=e.event;if(console.log("Shell received message: "+e.event,e),this.msgCallbacks.hasOwnProperty(t))return this[this.msgCallbacks[t]](e)},_initThemeButtons:function(){var t,i,n=e(".theme-button");this.themeNames=["Crisp","Storybook","Trek","Chic"];for(var o=0;o<n.length;o++)i=n[o],t=this.themeNames[o],e(i).data("theme-name",this.themeNames[o]),t===this.currentSelectedTheme&&e(i).addClass("selected")},_preLoadImages:function(){if(this._shouldPreLoadImages){for(var e=0;e<this.lucaJSONImages.length;e++)this.lucaJSONImages[e]=o.Utils.setQueryParam(this.lucaJSONImages[e],"size","1024");var t=new o.ImageLoader({numAsyncRequestsAllowed:10});t.add(this.lucaJSONImages),t.start(),this._shouldPreLoadImages=!1}},_updatePreview:function(){this.$slateEle.find(".preview-wrapper").removeClass("showing"),this.previewWindow.location.replace(c+this.getPreviewQueryParams())},getPreviewQueryParams:function(){return this.currentSelectedTheme||(this.currentSelectedTheme=p),"?theme="+this.currentSelectedTheme},_handlePreviewReady:function(t){this._preLoadImages(),this.previewIsReady=!0,this.previewWindow.isSimplePreview=!0,this.previewWindow.$("<style>").text(".wp-scrollbar.vertical{bottom:0 !important;}").appendTo("body"),this.previewWindow.loadJSON(this.lucaJSONToUpdate,{removeSparkBumper:!0}),e(this.previewWindow.document).on("click",function(e){this._handlePreviewClicked(e)}.bind(this)),this.$slateEle.find(".preview-wrapper").addClass("showing")},_handlePreviewUpdate:function(e){var t=e.lucaJSON,i=e.imageUrls;t&&(this.lucaJSONToUpdate=t,this.lucaJSONToUpdate.theme=r.get(this.currentSelectedTheme)),i&&(this._shouldPreLoadImages=!0,this.lucaJSONImages=i),this._updatePreview()},_handleThemeClicked:function(t){if(this.previewIsReady){var i=e(t.target),n=e(".theme-button-wrapper button"),o=(this.currentSelectedTheme,i.data("theme-name")),a=r.get(o);o!==this.currentSelectedTheme&&(this.analyticsEventNamespace&&l.trackEvent(this.analyticsEventNamespace+":themeChanged",{themeName:o,sparkFormat:"sparkFormat:page"},this.analyticsEventNamespace+":page"),n.removeClass("selected"),i.addClass("selected"),this.lucaJSONToUpdate.theme=a,this.currentSelectedTheme=o,this._updatePreview())}return!1},_handlePreviewClicked:function(e){this.analyticsEventNamespace&&l.trackEvent(this.analyticsEventNamespace+":previewClicked",{sparkFormat:"sparkFormat:page"},this.analyticsEventNamespace+":page")},_handleCreatePageDoc:function(e){var t=e.createDocDefer,i={};return n.createDocument(this.appConfig).then(function(e){return i.newDoc=e,i.lucajson=this.lucaJSONToUpdate,this.lucaJSONToUpdate.pages[0].author&&(this.lucaJSONToUpdate.pages[0].author.first_name=AuthController.getProfile().first_name,this.lucaJSONToUpdate.pages[0].author.last_name=AuthController.getProfile().last_name),this._dupePreviewAssets(i,"images/")}.bind(this)).then(function(e){var t,o,r;if(e&&e.length)for(r=0;r<e.length;r++)t=e[r]._data,(o=i.sourceImages[t.path.substring("images/".length)])?(o.image_url="images/"+o.id+"?asset_id="+t.id,o.id=t.id):logger.error("missing image match:",t);s.setProjectName(i.newDoc,i.lucajson.title);var a,l=i.newDoc.nextSave();this._removeBumperSectionFromJSON(i.lucajson),i.lucajson.pages[0].sections[0].content_items.forEach(function(e){"img"==e.type&&e.image&&(a=e.image.image_url)}.bind(this));var d=n.currentDoc.getDCXComposite().id,c="https://"+window.location.host+"/image_assets/slate/"+d+"/"+a;return n.setWebCoverImage(a,"50% 50%"),n.copyThumbnailFrom(c,"50% 50%"),n.saveDocument(i.lucajson),l}.bind(this)).then((function(){t.resolve(i.newDoc)})).catch((function(e){console.log("Error creating document "+e),t.reject(e)})),t.promise},_dupePreviewAssets:function(e,n){var o,r=this._getCompositeItemsFromJSON(e.lucajson),a=[];return r?(e.sourceImages=r,o=t.find(e.newDoc.getDCXComposite().current.getChildrenOf(),(function(e){return"page"==e.name})),t.each(r,function(t,i){var r={copyFrom:{source:"lightroom",assetId:t.image_url},name:"Image",relationship:"image",path:n+i,parent:o,type:"image/image",isUpdate:!1},s=e.newDoc.pushComponent(r);a.push(s)}.bind(this)),i.all(a)):i.resolve()},_getCompositeItemsFromJSON:function(e){var i={},n=0;return t.each(e.pages[0].sections,function(e){t.each(e.content_items,function(e){var t=e.image;t&&(t.id=a(),i[t.id]=t,n++)}.bind(this))}.bind(this)),n?i:null},_removeBumperSectionFromJSON:function(e){for(var t=e.pages[0].sections,i=t.length-1;i>=0;i--){"bumper"==t[i].type&&t.splice(i,1)}}}),h}.apply(t,n))||(e.exports=o)},2556:function(e,t,i){var n,o;n=[i(3),i(612),i(1687),i(611),i(1241),i(677),i(930),i(2557),i(2558),i(978),i(2559),i(1433),i(2560),i(1242),i(1434),i(1688),i(2561),i(1435),i(1436),i(1437),i(1689),i(1690),i(1691),i(2562),i(2563),i(2564),i(2565),i(2566),i(2567)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v,b,w,k,x,y,S,_,C,T,I){w.prototype.defaultPlugins=[T],w.prototype.defaultOptions.trackEvents=["touch"],S.prototype.defaultOptions.trackEvents=["touch"],v.prototype.defaultOptions.trackEvents=["touch"];var P=navigator.userAgent.search(/iPad|iPhone|iPod/i)>=0;P&&(u.prototype.defaultOptions.canUsePointerEvents=!1,g.prototype.defaultOptions.canUsePointerEvents=!1,m.prototype.defaultOptions.canUsePointerEvents=!1);var D=T.defaultOptions;return D.injectNextPreviousLinks=!P,D.nextPreviousLinkTriggerEvent="vclick",v.prototype.defaultOptions.useTransform=!0,v.prototype.defaultPlugins=[_],_.defaultOptions.scrollbarsUseTransforms=!0,_.defaultOptions.scrollbarPlugins=k.sliderTrackPlugin,t}.apply(t,n))||(e.exports=o)},2557:function(e,t,i){var n;void 0===(n=function(){!function(e){e.requestAnimationFrame||(e.requestAnimationFrame=e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){return e.setTimeout(t,e.requestAnimationFrame._wpRequestAnimationFrameInterval)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||function(t){return e.clearTimeout(t)}),e.requestAnimationFrame._wpRequestAnimationFrameInterval=1e3/60}(window)}.apply(t,[]))||(e.exports=n)},2558:function(e,t,i){var n,o;
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */n=[i(3),i(930)],void 0===(o=function(e,t){var i,n,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var s=o.length;s;)e.event.fixHooks[o[--s]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],d,!1);else this.onmousewheel=d;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],d,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t)["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function d(o){var r=o||window.event,s=a.call(arguments,1),d=0,h=0,u=0,g=0,m=0,f=0;if((o=e.event.fix(r)).type="mousewheel","detail"in r&&(u=-1*r.detail),"wheelDelta"in r&&(u=r.wheelDelta),"wheelDeltaY"in r&&(u=r.wheelDeltaY),"wheelDeltaX"in r&&(h=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=-1*u,u=0),d=0===u?h:u,"deltaY"in r&&(d=u=-1*r.deltaY),"deltaX"in r&&(h=r.deltaX,0===u&&(d=-1*h)),0!==u||0!==h){if(1===r.deltaMode){var v=e.data(this,"mousewheel-line-height");d*=v,u*=v,h*=v}else if(2===r.deltaMode){var b=e.data(this,"mousewheel-page-height");d*=b,u*=b,h*=b}if(t.isSafari?"deltaY"in r||(d=Math[d>=1?"floor":"ceil"](d/3),h=Math[h>=1?"floor":"ceil"](h/3),u=Math[u>=1?"floor":"ceil"](u/3)):t.isFirefox?0===r.deltaMode&&(d=Math[d>=1?"floor":"ceil"](d/2),h=Math[h>=1?"floor":"ceil"](h/2),u=Math[u>=1?"floor":"ceil"](u/2)):t.isChrome||t.isIE||t.isMSEdge||(g=Math.max(Math.abs(u),Math.abs(h)),(!n||g<n)&&(n=g,p(r,g)&&(n/=40)),p(r,g)&&(d/=40,h/=40,u/=40),d=Math[d>=1?"floor":"ceil"](d/n),h=Math[h>=1?"floor":"ceil"](h/n),u=Math[u>=1?"floor":"ceil"](u/n)),l.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=o.clientX-w.left,f=o.clientY-w.top}return o.deltaX=h,o.deltaY=u,o.deltaFactor=n,o.offsetX=m,o.offsetY=f,o.deltaMode=0,s.unshift(o,d,h,u),i&&clearTimeout(i),i=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function c(){n=null}function p(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}.apply(t,n))||(e.exports=o)},2559:function(e,t,i){var n,o;n=[i(3),i(978)],void 0===(o=function(e){e.event.special.vtaphold={duration:1e3,moveThreshold:10,setup:function(){var t=e(this),i=e(),n=e(document),o=e.event.special.vtaphold.duration,r=e.event.special.vtaphold.moveThreshold,a=e.Event("vtaphold"),s=0,l=0,d=0,c=function(e){(Math.abs(e.pageX-s)>r||Math.abs(e.pageY-l)>r)&&p()},p=function(){d&&(clearTimeout(d),d=0),n.off("vmousemove",c).off("vmouseup",p),t.data("vtapholdSource",!1)},h=function(){p(),i.trigger(a)};t.bind("vmousedown",(function(r){p(),s=r.pageX,l=r.pageY,i=e(r.target),e.extend(a,r),a.type="vtaphold";for(var u=r.target;u&&u!=t[0];){if(1==e(u).data("vtapholdSource"))return;u=u.parentNode}t.data("vtapholdSource",!0),n.on("vmousemove",c).on("vmouseup",p),d=setTimeout(h,o)}))}}}.apply(t,n))||(e.exports=o)},2560:function(e,t,i){var n,o;n=[i(3),i(612),i(611),i(1241)],void 0===(o=function(e,t,i,n){var o=function(t){n.call();this.options=t=e.extend({},this.defaultOptions,t),this._queue=[],this._needsSort=!1,this._isRunning=!1,this._loaderContexts=[];for(var i=0;i<t.numAsyncRequestsAllowed;i++)this._loaderContexts[i]=this._createLoaderContext()};return o.nextRequestId=1,i.inherit(o,n),e.extend(o.prototype,{defaultOptions:{createNewImageOnReset:!0,timeoutInterval:0,numAsyncRequestsAllowed:1,crossOrigin:!1},_createLoaderContext:function(){var e=this,t={entry:null,loader:new Image,loadFunc:function(){e._handleLoad(t)},loadErrorFunc:function(){e._handleError(t)},timeoutFunc:function(){e._handleTimeout(t)},timeoutTimerId:0};return this.options.crossOrigin&&(t.loader.crossOrigin=this.options.crossOrigin),t},add:function(t,n){if(t){for(var r=i.ensureArray(t),a=0;a<r.length;a++){var s=e.extend({reqId:o.nextRequestId++,src:r[a],width:0,height:0,priority:50,callback:null,data:null},n);this._queue.push(s),this._needsSort=!0,this.trigger("wp-image-loader-add",s)}this._isRunning&&this._loadNext()}},start:function(){this._isRunning||(this._isRunning=!0,this.trigger("wp-image-loader-start"),this._loadNext())},stop:function(){if(this._isRunning){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];n.entry&&(this._queue.unshift(n.entry),this._needsSort=!0),this._resetLoaderContext(n)}this._isRunning=!1,this.trigger("wp-image-loader-stop")}},getQueueCount:function(){return this._queue.length+this._getPendingRequestCount()},clearQueue:function(){var e=this._isRunning;this.stop(),this._queue.length=0,e&&this.start()},_loadNext:function(){if(this._isRunning){var e=this._getAvailableLoaderContext();if(e){var t=this._queue;if(t.length){this._needsSort&&(t=this._queue=t.sort((function(e,t){var i=e.priority-t.priority;return i||e.reqId-t.reqId})),this._needsSort=!1);var i=t.shift();e.entry=i,this.options.timeoutInterval>0&&(e.timeoutTimerId=setTimeout(e.timeoutFunc,this.options.timeoutInterval));var n=e.loader;n.onload=e.loadFunc,n.onerror=e.loadErrorFunc,n.src=i.src,t.length&&this._loadNext()}else 0===this.getQueueCount()&&this.trigger("wp-image-loader-empty")}}},_getPendingRequestCount:function(){for(var e=this._loaderContexts,t=e.length,i=0,n=0;n<t;n++){e[n].entry&&++i}return i},_getAvailableLoaderContext:function(){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];if(!n.entry)return n}return null},_resetLoaderContext:function(e){var t=e.loader;t.onload=null,t.onerror=null,t.src=""==t.src?" ":"",this.options.createNewImageOnReset&&(e.loader=new Image,this.options.crossOrigin&&(e.loader.crossOrigin=this.options.crossOrigin)),e.entry=null,e.timeoutTimerId&&(clearTimeout(e.timeoutTimerId),e.timeoutTimerId=0)},_handleLoad:function(e){var t=e.loader;entry=e.entry,entry.width=t.width,entry.height=t.height,this._resetLoaderContext(e),entry.callback&&entry.callback(entry.src,entry.width,entry.height,entry.data),this.trigger("wp-image-loader-load-success",entry),this._loadNext()},_handleError:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-load-error",t),this._loadNext()},_handleTimeout:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-timeout",t),this._loadNext()}}),t.ImageLoader=o,o}.apply(t,n))||(e.exports=o)},2561:function(e,t,i){var n,o;n=[i(3),i(611),i(677)],void 0===(o=function(e,t,i){var n=i.build("Widget.ScrollView",i,{defaultOptions:{smoothScroll:!0,method:"scroll"},_attachBehavior:function(){this._scrollX=0,this._scrollY=0,this.$inner=this.$element.children().first()},_ready:function(){this.scrollTo(this._scrollX,this._scrollY)},scrollTo:function(e,t){this.trigger("scroll-start",{x:this._scrollX,y:this._scrollY}),this._setScrollPosition(e,t),this.trigger("scroll-stop",{x:this._scrollX,y:this._scrollY})},_translate3d:function(e,i){t.setElementTransform(this.$inner,"translate3d("+e+"px,"+i+"px, 0)")},_setScrollPosition:function(e,t){switch(e=e>0?e:0,t=t>0?t:0,this.options.method){case"offset":this.$inner.css({left:-e+"px",top:-t+"px"});break;case"scroll":this.$element[0].scrollLeft=e,this.$element[0].scrollTop=t;break;case"transform":this._translate3d(-e,-t)}this._scrollX=e,this._scrollY=t,this.trigger("scroll",{x:this._scrollX,y:this._scrollY})},getWidth:function(){return this.$element.width()},getHeight:function(){return this.$element.height()},getScrollWidth:function(){return"scroll"===this.options.method?this.$element[0].scrollWidth:this.$inner[0].offsetWidth},getScrollHeight:function(){return"scroll"===this.options.method?this.$element[0].scrollHeight:this.$inner[0].offsetHeight},getScrollMaxX:function(){var e=this.getScrollWidth()-this.getWidth();return e<0?0:e},getScrollMaxY:function(){var e=this.getScrollHeight()-this.getHeight();return e<0?0:e},getPosition:function(){return{x:this._scrollX,y:this._scrollY}}});return i.addWidgetConstructorAsjQueryPlugin("wpScrollView",n),n}.apply(t,n))||(e.exports=o)},2562:function(e,t,i){var n,o;n=[i(3),i(677),i(1691),i(1436),i(1437),i(978)],void 0===(o=function(e,t,i,n,o,r){var a=t.build("Widget.CollectionBrowser",t,{_widgetName:"CollectionBrowser",defaultOptions:{sourceArray:[],interactiveImageClipClassName:i.prototype.defaultOptions.clipClassName,interactiveImageViewClassName:i.prototype.defaultOptions.viewClassName,interactiveImageContentClassName:i.prototype.defaultOptions.contentClassName,swipePanelGroupClassName:o.prototype.defaultOptions.widgetClass,swipePanelGroupViewClassName:o.prototype.defaultOptions.viewClass,swipePanelGroupPanelClassName:o.prototype.defaultOptions.panelClass,swipePanelGroupPanelPreviousClassName:o.prototype.defaultOptions.previousClass,swipePanelGroupPanelActiveClassName:n.prototype.defaultOptions.activeClass,swipePanelGroupPanelNextClassName:o.prototype.defaultOptions.nextClass,closeButtonClassName:"wp-collection-browser-close-button",showClassName:"wp-show",hideClassName:"wp-hide",allowDelegation:!1},_transformMarkup:function(){var t=this.options,i=t.sourceArray,n="";n+='<div class="'+t.swipePanelGroupClassName+'">',n+='  <div class="'+t.swipePanelGroupViewClassName+'">';for(var o=0;o<i.length;o++){var r=e(i[o]).addClass(t.interactiveImageContentClassName).prop("outerHTML");n+='    <div class="'+t.swipePanelGroupPanelClassName+'">',n+='      <div class="'+t.interactiveImageClipClassName+'">',n+='        <div class="'+t.interactiveImageViewClassName+'">',n+="          "+r,n+="        </div>",n+="\t     </div>",n+="    </div>"}n+="  </div>",n+="</div>",n+='<button class="'+t.closeButtonClassName+'"></button>',this.$element.html(n)},_attachBehavior:function(){var t=this,i=t.options,n=t.$element.find("."+i.swipePanelGroupClassName).wpSwipePanelGroup({allowDelegation:i.allowDelegation});t.swipePanelGroup=n.data("wpSwipePanelGroup"),t.$element.find("."+i.interactiveImageClipClassName).wpInteractiveImage(),t.swipePanelGroup.bind("wp-panels-queued",(function(e,i){t._fit()})),e(window).resize((function(){t._fit()})),e(window).load((function(){t._fit()})),t.$element.find(" ."+i.closeButtonClassName).bind("vclick",(function(e){return t.hideWidget(),!1})),e(document).keyup((function(e){27==e.keyCode&&t.hideWidget()}))},showWidget:function(){var e=this.options;this.$element.removeClass(e.hideClassName).addClass(e.showClassName),this._fit(),this.trigger("show")},hideWidget:function(){var e=this.options;this.$element.removeClass(e.showClassName).addClass(e.hideClassName),this.trigger("hide")},_fit:function(){var e=this.$element,t={duration:0,canScaleUp:!1},i=this.options,n=" ."+i.interactiveImageClipClassName,o="."+i.interactiveImageContentClassName,r=e.find("."+i.swipePanelGroupPanelPreviousClassName+n),a=e.find("."+i.swipePanelGroupPanelActiveClassName+n),s=e.find("."+i.swipePanelGroupPanelNextClassName+n);if(r.length>0){var l=r.find(o);l.width()>0&&l.height()>0&&r.wpInteractiveImage("fitAndCenter",t)}if(a.length>0){var d=a.find(o);d.width()>0&&d.height()>0&&a.wpInteractiveImage("fitAndCenter",t)}if(s.length>0){var c=s.find(o);c.width()>0&&c.height()>0&&s.wpInteractiveImage("fitAndCenter",t)}},_ready:function(){this._fit()}});return t.addWidgetConstructorAsjQueryPlugin("wpCollectionBrowser",a),a}.apply(t,n))||(e.exports=o)},2563:function(e,t,i){var n,o;n=[i(3),i(930),i(1435),i(1690)],void 0===(o=function(e,t,i,n){return i.desktopScrollbarPlugin={defaultOptions:{scrollbarMarkupCallback:null,scrollbarsUseTransforms:!1,scrollbarPlugins:void 0},initialize:function(i,n){var o=this;!t.touchEnabled&&i.$element.hasClass("no-scrollbars");n=e.extend(n,e.extend({},o.defaultOptions,n)),o._isEnabled(i,n)&&i.bind("transform-markup",(function(e){o._transformMarkup(i)})).bind("attach-behavior",(function(e){o._attachBehavior(i)}))},_isEnabled:function(e,i){return!t.touchEnabled&&!e.$element.hasClass("no-scrollbars")},_transformMarkup:function(t){var i,n=t.options.direction;t._dsbp$root=t.$element.parent(),t._dsbp$vSB=e(),t._dsbpVSBSize=100,t._dsbp$hSB=e(),t._dsbpHSBSize=100,t._dsbpIsScrolling=!1,t._dsbpMouseInView=!1,n&&"vertical"!==n||((i=this._getScrollbarMarkup(t,"vertical")).appendTo(t._dsbp$root),t._dsbp$vSB=i),n&&"horizontal"!==n||((i=this._getScrollbarMarkup(t,"horizontal")).appendTo(t._dsbp$root),t._dsbp$hSB=i)},_syncScrollbars:function(e,t){var i=e.options.direction;if(!i||"vertical"===i){var n=e.height(),o=e.scrollHeight(),r=Math.round(100*(n>o?1:n/o));e._dsbpVSBSize!=r&&e._dsbpVSB.$thumb.css("height",r+"%"),e._dsbpVSB._resetConstraints(t),e._dsbpVSBSize=r}if(!i||"horizontal"===i){var a=e.width(),s=e.scrollWidth(),l=Math.round(100*(a>s?1:a/s));e._dsbpHSBSize!=l&&e._dsbpHSB.$thumb.css("width",l+"%"),e._dsbpHSB._resetConstraints(t),e._dsbpHSBSize=l}},_showScrollbars:function(e){this._syncScrollbars(e,!1),e._dsbpVSBSize<100&&e._dsbp$vSB.addClass("visible"),e._dsbpHSBSize<100&&e._dsbp$hSB.addClass("visible")},_hideScrollbars:function(e){e._dsbpMouseInView||e._dsbpIsScrolling||(e._dsbp$vSB.removeClass("visible"),e._dsbp$hSB.removeClass("visible"))},_attachBehavior:function(e){var i=this;t.touchEnabled||e.tracker.disable(),e._dsbpLock=0,e._dsbpScrollStart=function(t){i._handleScrollStart(e)},e._dsbpScrollStop=function(t){i._handleScrollStop(e)},e._dsbpScrollWheel=function(t,n,o,r){return i._handleMouseWheel(e,n,o,r)},e.$element.bind("mousewheel",e._dsbpScrollWheel),e._dsbp$root.bind("mouseenter",(function(t){e._dsbpMouseInView=!0,i._showScrollbars(e)})),e._dsbp$root.bind("mouseleave",(function(t){e._dsbpMouseInView=!1,i._hideScrollbars(e)})),e._dsbp$vSB.length>0&&(e._dsbpVSB=new n(e._dsbp$vSB,{ignoreX:!0,ignoreY:!1,trackClassName:"wp-scrollbar-track",thumbClassName:"wp-scrollbar-thumb",useTransforms:e.options.scrollbarsUseTransforms,plugins:e.options.scrollbarPlugins}),e._dsbpVSB.bind("wp-slider-drag-start",e._dsbpScrollStart).bind("wp-slider-drag-stop",e._dsbpScrollStop).bind("wp-slider-update",(function(t,n){i._handleVerticalScroll(e,n)})),e._dsbp$vSB.bind("click",(function(){return!1})).bind("mousewheel",e._dsbpScrollWheel),e.bind("scroll",(function(t,n){i._handleScroll(e,n)}))),e._dsbp$hSB.length>0&&(e._dsbpHSB=new n(e._dsbp$hSB,{ignoreX:!1,ignoreY:!0,trackClassName:"wp-scrollbar-track",thumbClassName:"wp-scrollbar-thumb",useTransforms:e.options.scrollbarsUseTransforms,plugins:e.options.scrollbarPlugins}),e._dsbpHSB.bind("wp-slider-drag-start",e._dsbpScrollStart).bind("wp-slider-drag-stop",e._dsbpScrollStop).bind("wp-slider-update",(function(t,n){i._handleHorizontalScroll(e,n)})),e._dsbp$hSB.bind("click",(function(){return!1})).bind("mousewheel",e._dsbpScrollWheel))},_getScrollbarMarkup:function(t,i){var n=t.options.scrollbarMarkupCallback;return n?n(t,i):e('<div class="wp-scrollbar '+i+'"><div class="wp-scrollbar-track"><div class="wp-scrollbar-thumb"></div></div></div>')},_syncWithWidget:function(e){var t=e.scrollLeft(),i=e.scrollTop();if(this._syncScrollbars(e),e._dsbpHSB){var n=t/(e.scrollWidth()-e.width());e._dsbpHSB.setPositionByPercentage(n,0)}if(e._dsbpVSB){n=i/(e.scrollHeight()-e.height());e._dsbpVSB.setPositionByPercentage(0,n)}},_handleScroll:function(e,t){e._dsbpLock||(++e._dsbpLock,this._syncWithWidget(e),--e._dsbpLock)},_handleMouseWheel:function(e,t,i,n){++e._dsbpLock;var o=e.scrollLeft(),r=e.scrollTop();e.scrollTo(o+i,r-n);var a=e.scrollLeft(),s=e.scrollTop(),l=o!=a||r!=s;return l&&this._syncWithWidget(e),--e._dsbpLock,!l},_handleScrollStart:function(e){e._dsbpIsScrolling=!0},_handleScrollStop:function(e){e._dsbpIsScrolling=!1,this._hideScrollbars(e)},_handleVerticalScroll:function(e,t){if(!e._dsbpLock){++e._dsbpLock;var i=this._percentageToPixelValue(e.height(),e.scrollHeight(),t.percentage);e.scrollTo(e.scrollLeft(),i),--e._dsbpLock}},_handleHorizontalScroll:function(e,t){if(!e._dsbpLock){++e._dsbpLock;var i=this._percentageToPixelValue(e.width(),e.scrollWidth(),t.percentage);e.scrollTo(i,e.scrollTop()),--e._dsbpLock}},_percentageToPixelValue:function(e,t,i){return i*(e<t?t-e:0)}},i.desktopScrollbarPlugin}.apply(t,n))||(e.exports=o)},2564:function(e,t,i){var n,o;n=[i(3),i(1689)],void 0===(o=function(e,t){return t.sliderTrackPlugin={initialize:function(e,t){var i=this;e.bind("attach-behavior",(function(t){i._attachBehavior(e)}))},_attachBehavior:function(e){e.$track.bind(e.tracker.dragEventHandler.startEvent,(function(t){var i=e.$track.offset();e._resetConstraints(),e.setPositionByPixel(t.pageX-i.left,t.pageY-i.top),e.tracker.dragEventHandler._startDrag(t),t.preventDefault()}))}},t.sliderTrackPlugin}.apply(t,n))||(e.exports=o)},2565:function(e,t,i){var n,o;n=[i(3),i(1437)],void 0===(o=function(e,t){return t.nextPreviousPlugin={defaultOptions:{previousLinkClass:"wp-swipe-panel-group-previous-link",nextLinkClass:"wp-swipe-panel-group-next-link",firstPanelClass:"wp-first-panel-displayed",lastPanelClass:"wp-last-panel-displayed",noPanelClass:"wp-no-panel-displayed",injectNextPreviousLinks:!0,nextPreviousLinkTriggerEvent:"click"},initialize:function(t,i){var n=this;e.extend(i,e.extend({},n.defaultOptions,i)),t.nextPanel||(t.nextPanel=function(){var e=t.$element.length,i=t.activeIndex;i<e-1&&t.showPanel(i+1)}),t.previousPanel||(t.previousPanel=function(){var e=t.activeIndex;e>0&&t.showPanel(e-1)}),i.injectNextPreviousLinks&&(t.bind("transform-markup",(function(){n._transformMarkup(t)})),t.bind("attach-behavior",(function(){n._attachBehavior(t)})),t.bind("ready",(function(){n._ready(t)})),t.bind("wp-panel-show wp-insert-panel wp-remove-panel",(function(e,i){n._syncNavLinks(t,i)})))},_transformMarkup:function(t){var i=t.options;t._npp$nextLink=e('<a href="#" class="'+i.nextLinkClass+'">Next</a>'),t._npp$previousLink=e('<a href="#" class="'+i.previousLinkClass+'">Previous</a>'),t.$clip,t._npp$nextLink.appendTo(t.$clip),t._npp$previousLink.appendTo(t.$clip)},_syncNavLinks:function(e){var t=e.activeIndex,i=e.options.firstPanelClass,n=e.options.lastPanelClass,o=e.options.noPanelClass;e.$clip.removeClass(i+" "+n+" "+o),0===e.$element.length?e.$clip.addClass(o):(0===t&&e.$clip.addClass(i),t===e.$element.length-1&&e.$clip.addClass(n))},_next:function(e){var t=e.activeIndex;t<e.$element.length-1&&e.showPanel(t+1)},_previous:function(e){var t=e.activeIndex;t>0&&e.showPanel(t-1)},_attachBehavior:function(e){var t=this,i=e.options.nextPreviousLinkTriggerEvent||"click";e._npp$previousLink.on(i,(function(i){return t._previous(e),!1})),e._npp$nextLink.on(i,(function(i){return t._next(e),!1}))},_ready:function(e){this._syncNavLinks(e)}},t.nextPreviousPlugin}.apply(t,n))||(e.exports=o)},2566:function(e,t,i){var n,o;n=[i(3),i(612),i(677)],void 0===(o=function(e,t,i){return t.widget("Widget.ProgressBar",t.Widget,{_widgetName:"progress-bar",defaultOptions:{widgetClass:"wp-progress-bar",clipClass:"wp-progress-bar-clip",viewClass:"wp-progress-bar-view",orientation:"horizontal",useFloatPercentage:!1,percentage:0},_attachBehavior:function(){var e=this.options;this._$view=this.$element.find("."+e.viewClass),this._$view=this.$element.find("."+e.viewClass),this._percentage=e.percentage,this.setPercentage(this._percentage)},setPercentage:function(e){var t="horizontal"===this.options.orientation?"width":"height";this.options.useFloatPercentage&&(e*=100),this._$view.css(t,e+"%"),this._percentage=e,this.trigger("percentage",{percentage:e})}})}.apply(t,n))||(e.exports=o)},2567:function(e,t,i){var n,o;n=[i(3),i(612)],void 0===(o=function(e,t){return window.$=window.jQuery=e,window.WebPro=t,t}.apply(t,n))||(e.exports=o)},2568:function(e,t,i){var n,o;n=[i(0),i(2)],void 0===(o=function(e,t){"use strict";return t.Router.extend({routes:{"design/page/:id/preview":"preview","design/page/:id":"edit"},initialize:function(e){this.isPreviewOnFirstLoad="preview"===e},_isPreview:function(){var e=t.history.getFragment().split("/");return"preview"===e[e.length-1]},navigateToPreview:function(e){this.navigate("design/page/"+e+"/preview",{trigger:!0})},navigateBackToEditor:function(e){var t=this._isPreview();return t&&this.navigate("design/page/"+e,{trigger:!0}),t},removePageHandlers:function(){var i=e.mapKeys(this.routes,function(e,t){return this._routeToRegExp(t)}.bind(this));t.history.handlers=t.history.handlers.filter((function(e){return!(e.route in i)}))}})}.apply(t,n))||(e.exports=o)},2569:function(e,t){e.exports='<script src="https://use.typekit.net/previewkits/pk-v1.js"><\/script>\n<link rel="stylesheet" type="text/css" href="/slate-web/css/shell-b93982a0.css">\n\n<div class="slate main-wrapper">\n  <div class="toolbars fouc" style="position: relative; height: 30px;">\n    <div class="modal-toolbar toolbar">\n      <div class="title" data-auto="projectTitle"></div>\n      <div class="undoRedoSection">\n        <button class="toolbar-button undoRedo undoButton showing" title="{{locString.toolbar.undo}}">\n          <span class="icon"></span>\n        </button>\n        <button class="toolbar-button undoRedo redoButton showing" title="{{locString.toolbar.redo}}">\n          <span class="icon"></span>\n        </button>\n      </div>\n      <div class="actionButtonSection">\n        <button class="cancelButton action-button secondary" data-auto="cancelBtn">\n          <span class="buttonText">\n            {{locString.modal_toolbar.cancel}}\n          </span>\n        </button>\n        <button class="doneButton action-button primary" data-auto="doneBtn">\n          <span class="buttonText">\n            {{locString.modal_toolbar.save}}\n          </span>\n        </button>\n      </div>\n    </div>\n    <div class="main-toolbar toolbar">\n      <div class="application-options">\n        <div class="hamburgerButton mrvl-hamburger-menu hide" data-auto="mrvl-hamburger-menu"></div>\n        <div class="homeButton showing" data-auto="homeBtn"></div>\n        <div class="name" data-auto="editorName">Page</div>\n        <div class="syncButton showing" data-auto="syncBtn">\n            <div class="message saved showing" data-auto="saved">{{locString.sync.saved}}</div>\n            <div class="message saving" data-auto="saving">{{locString.sync.saving}}</div>\n        </div>\n      </div>\n      <div class="document-options">\n        <button class="toolbar-button settingsButton" data-auto="settingsBtn">\n          <span class="icon"></span>\n          <span class="buttonText">{{locString.toolbar.settings}}</span>\n          <span class="moreChevron"></span>\n        </button>\n        <button class="toolbar-button previewButton showing" data-auto="previewBtn">\n          <span class="icon"></span>\n          <span class="buttonText">{{locString.toolbar.preview}}</span>\n        </button>\n        <button class="toolbar-button presentButton showing" data-auto="presentBtn">\n          <span class="icon"></span>\n          <span class="buttonText">{{locString.toolbar.present}}</span>\n        </button>\n        <button class="toolbar-button uploadButton showing" data-auto="uploadBtn">\n          <span class="icon"></span>\n          <span class="buttonText">{{locString.toolbar.share}}</span>\n          <span class="moreChevron"></span>\n        </button>\n        <button class="button collabStatusButton showing" data-auto="collabStatusBtn"></button>\n      </div>\n      <div class="editor-options">\n        <button class="toolbar-button undoRedo undoButton showing" title="{{locString.toolbar.undo}}">\n          <span class="icon"></span>\n        </button>\n        <button class="toolbar-button undoRedo redoButton showing" title="{{locString.toolbar.redo}}">\n          <span class="icon"></span>\n        </button>\n        <button class="toolbar-button debugEmbedButton">Debug Embed</button>\n        <button class="toolbar-button debugLocButton">Debug Loc</button>\n        <button class="toolbar-button getInspiredButton hide" data-auto="getInspiredBtn">{{locString.toolbar.get_inspired}}</button>\n        <button class="toolbar-button themesButton showing" data-auto="themesBtn">{{locString.toolbar.themes}}</button>\n      </div>\n    </div>\n  </div>\n\n  <div class="editor-wrapper showing">\n    <iframe class="editor" data-auto="editor">\n\x3c!--\n      <iframe id="editor" src="/slate-web.editor.html?theme=Luca" >\n--\x3e\n    </iframe>\n\n      <div class="formatting-toolbar"></div>\n\n      <div class="image-picker-container"></div>\n      <div class="get-inspired-panel fouc"></div>\n\n      <div class="theme-picker fouc">\n          <div class="title-bar">{{locString.theme_picker.title}}\n            <div class="close-button"></div>\n          </div>\n\n          <div class="more-to-come"></div>\n          <div class="theme-wrapper hide"></div>\n      </div>\n\n      <div class="editor-dialog-overlay confirm-overlay"></div>\n      <div class="help-video-dialog-overlay"></div>\n      <div class="link-dialog-overlay hide"></div>\n      <div class="embedded-link-dialog-overlay hide"></div>\n      <div class="inline-link-dialog-overlay hide"></div>\n      <div class="conflict-dialog-overlay hide"></div>\n      <div class="fatal-error-dialog-overlay hide"></div>\n      <div class="attribution-dialog-overlay hide"></div>\n      <div class="popup-dialog-overlay hide"></div>\n      <div class="theme-picker-dialog-overlay hide"></div>\n      <div class="theme-preview-popup-overlay hide"></div>\n      <div class="mini-progress-bar-overlay hide"></div>\n\n  </div>\n    <div class="preview-wrapper">\n        <iframe class="preview"></iframe>\n    </div>\n    <div class="splash-wrapper showing">\n        <iframe class="splash" src="/slate-web/splash-0ed8aff7.html"></iframe>\n    </div>\n    <div class="saving-overlay fouc" data-auto="savingOverlay">\n        <div class="saving-overlay-content">{{locString.sync.saving}}</div>\n    </div>\n    <div class="settings-flyout-overlay">\n        <div class="settings-flyout">\n            <div class="settings-flyout-inner">\n                <div class="settings-flyout-title">{{locString.toolbar.setting.project_settings}}</div>\n                <div class="settings-flyout-settings">\n                    <div class="settings-flyout-setting setting-side-by-side">\n                        <div class="settings-flyout-setting-label">{{locString.toolbar.setting.header_footer}}</div>\n                        <div class="settings-flyout-setting-checkbox header-footer-toggle" data-checked="false"></div>\n                    </div>\n                    <div class="settings-flyout-setting setting-google-analytics setting-tracking-id">\n                        <div class="settings-flyout-setting-label">{{locString.toolbar.setting.google_analytics.label}}</div>\n                        <div class="settings-flyout-setting-input google-analytics-id">\n                            <input type="text" class="google-analytics-id-input settings-flyout-setting-textfield" placeholder="{{locString.toolbar.setting.google_analytics.link_placeholder}}">\n                            <p class="form-error-text google-analytics-id-input-error">\n                              {{{locString.toolbar.setting.google_analytics.error}}}\n                            </p>\n                        </div>\n                    </div>\n                    <div class="settings-flyout-setting setting-cookie-banner">\n                        <div class="settings-flyout-setting-label">\n                            {{locString.toolbar.setting.cookie_banner.label}}\n                        </div>\n                        <div class="settings-flyout-setting-checkbox cookie-banner-toggle" data-checked="false"></div>\n                    </div>\n                    <div class="settings-flyout-setting setting-cookie-banner-text-controls">\n                        <div class="settings-flyout-setting-label cookie-banner-text-label">{{{locString.toolbar.setting.cookie_banner.label_text}}}</div>\n                        <textarea class="cookie-banner-text settings-flyout-setting-textfield" placeholder="{{locString.toolbar.setting.cookie_banner.text_placeholder}}">\n                        </textarea>\n                        <div class="settings-flyout-setting-label cookie-banner-consent-label">{{{locString.toolbar.setting.cookie_banner.label_link}}}</div>\n                        <input type="text" class="cookie-banner-consent-button-text settings-flyout-setting-textfield" placeholder="{{locString.toolbar.setting.cookie_banner.link_placeholder}}" maxlength="25">\n                        <h6><em>{{locString.toolbar.setting.cookie_banner.label_disclaimer}}</em></h6>\n                        <p>\n                          {{{locString.toolbar.setting.cookie_banner.disclaimer}}}\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="new-feature-overlay">\n        <div class="newFeatureCoachmark">\n          <div class="newFeatureCoachmarkTextContainer">\n              <p class="coachmarkText canvas hide">\n                {{locString.share_submenu.tooltip.new_feature_lms_canvas}}\n              </p>\n\n              <p class="coachmarkText google-drive hide">\n                {{locString.share_submenu.tooltip.new_feature_google_drive}}\n              </p>\n          </div>\n          <button class="coachmarkAction close" type="button">&times;</button>\n        </div>\n    </div>\n\n  <div class="slate-share-submenu-overlay submenu">\n    <div class="slate-share-submenu">\n      <div class="slate-share-submenu-items">\n        <div class="button showing slate-share-submenu-items-icon shareButton" data-auto="shareBtn">{{locString.share_submenu.button.publish}}</div>\n        <div class="button showing slate-share-submenu-items-icon printButton ">{{locString.share_submenu.button.print}}\n          <div class="unsupported popup">\n            <div class="title">{{locString.print.unsupported.title}}</div>\n            {{locString.print.unsupported.message}}\n        </div>\n      </div>\n        <div class="button slate-share-submenu-items-icon canvasLmsButton lmsTurnInButton hide" role="button" data-auto="lmsTurnInBtn">{{locString.share_submenu.button.lms_turn_in}}<span class="new-tag hide">{{locString.share_submenu.button.new_tag}}</span></div>\n        <div class="button slate-share-submenu-items-icon canvasLmsButton lmsAttachButton hide" role="button" data-auto="lmsAttachBtn">{{locString.share_submenu.button.lms_attach}}<span class="new-tag hide">{{locString.share_submenu.button.new_tag}}</span></div>\n        <div class="button showing slate-share-submenu-items-icon googleDriveButton hide" role="button" data-auto="googleDriveBtn">{{locString.share_submenu.button.google_drive}}<span class="new-tag">{{locString.share_submenu.button.new_tag}}</span></div>\n        <div class="button showing slate-share-submenu-items-icon inviteButton" data-auto="inviteBtn">{{locString.share_submenu.button.invite}}</div>\n      </div>\n    </div>\n  </div>\n  <div class="slate-debug-submenu-overlay submenu">\n    <div class="slate-debug-submenu">\n      <div class="slate-debug-submenu-items"></div>\n    </div>\n  </div>\n  <div class="slate-print-message-overlay">\n    <h3 class="supported-text">{{locString.print.wrong_method.title}}</h3>\n    <p class="supported-text">{{locString.print.wrong_method.message}}</p>\n    <h3 class="unsupported-text">{{locString.print.unsupported.title}}</h3>\n    <p class="unsupported-text">{{locString.print.unsupported.message}}}</p>\n  </div>\n\n\n</div>\n'},2570:function(e,t){e.exports='<script src="https://use.typekit.net/previewkits/pk-v1.js"><\/script>\n<link rel="stylesheet" type="text/css" href="/slate-web/css/shell-b93982a0.css">\n\n<div class="slate main-wrapper simple-preview">\n\t<div class="preview-wrapper">\n\t\t<iframe class="preview"></iframe>\n\t</div>\n\t<div class="theme-picker showing">\n\t\t<div class="theme-wrapper">\n\t\t\t<div class="theme-button-wrapper">\n\t\t\t\t<button class="theme-button crisp-theme"/>\n\t\t\t</div>\n\t\t\t<div class="theme-button-wrapper">\n\t\t\t\t<button class="theme-button storybook-theme"/>\n\t\t\t</div>\n\t\t\t<div class="theme-button-wrapper">\n\t\t\t\t<button class="theme-button trek-theme"/>\n\t\t\t</div>\n\t\t\t<div class="theme-button-wrapper">\n\t\t\t\t<button class="theme-button chic-theme"/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n'},386:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2),i(16),i(9),i(8),i(10),i(4),i(22),i(7),i(46),i(30),i(397),i(391),i(63),i(388),i(26)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v){"use strict";var b=d.default,w=new s.default({color:"green",name:"UpgradeController"}),k={postLogoButton:{primaryTxt:o.getString("merch-touchpoint-post-logo-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:"",dialogClass:"merch-post merch-post-logo",logo:"/images/merch-post-logo.svg",analyticsTrigger:"logo"},postWatermark:{primaryTxt:o.getString("merch-touchpoint-post-watermark-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:o.getString("merch-touchpoint-post-watermark-secondary-btn-title"),dialogClass:"merch-post merch-post-watermark",logo:"/images/merch-post-watermark-logo.png",analyticsTrigger:"watermark"},postWatermarkUpgradeOnly:{primaryTxt:o.getString("merch-touchpoint-post-watermark-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:o.getString("merch-touchpoint-post-watermark-secondary-btn-title"),dialogClass:"merch-post merch-post-watermark",logo:"/images/merch-post-watermark-logo.png",analyticsTrigger:"watermark"},postBrandifyButton:{primaryTxt:o.getString("merch-touchpoint-post-brandify-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:"",dialogClass:"merch-post merch-post-brandify",logo:"/images/merch-touchpoint-post-brandify.gif",analyticsTrigger:"brandify"},postResizeButton:{primaryTxt:o.getString("merch-touchpoint-post-resize-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:"",dialogClass:"merch-post merch-post-resize",logo:"/images/merch-touchpoint-post-resize.gif",analyticsTrigger:"resize"},postCustomFontsButton:{primaryTxt:o.getString("merch-touchpoint-custom-fonts-primary-txt"),secondaryTxt:"",primaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),secondaryBtnTitle:"",dialogClass:"merch-post merch-post-custom-fonts",logo:"/images/merch-touchpoint-post-custom-fonts.svg",analyticsTrigger:"fontPicker"},"page:settings:headerfooter":{primaryTxt:o.getString("merch-touchpoint-page-settings-headerfooter-primary-txt"),secondaryTxt:o.getString("merch-touchpoint-page-settings-headerfooter-secondary-txt"),hideOnResize:!0},"page:settings:gacookiebanner":{primaryTxt:"",secondaryTxt:o.getString("merch-touchpoint-page-settings-gacookiebanner-secondary-txt"),hideOnResize:!0},"page:themepicker":{primaryTxt:o.getString("merch-touchpoint-page-themepicker-primary-txt"),secondaryTxt:o.getString("merch-touchpoint-page-themepicker-secondary-txt"),logo:"/images/page_po_themepicker.png"},"page:texttoolbar":{primaryTxt:o.getString("merch-touchpoint-page-texttoolbar-primary-txt"),secondaryTxt:o.getString("merch-touchpoint-page-texttoolbar-secondary-txt"),logo:"/images/page_po_toolbar.png"},videoStamp:{primaryTxt:o.getString("merch-touchpoint-video-stamp-primary-txt"),secondaryTxt:o.getString("merch-touchpoint-video-stamp-secondary-txt"),logo:"/images/video_po_replace_logo.png"},videoOutroSlide:{primaryTxt:o.getString("merch-touchpoint-video-outro-primary-txt"),secondaryTxt:o.getString("merch-touchpoint-video-outro-secondary-txt"),logo:"/images/video_po_outro.png"}};return new(n.Model.extend({_userAnalytics:{entitled:"unknown"},initialize:function(){b.on("is-paid-user",function(e){e?this._userAnalytics.entitled="true":(this.preloadData(),this._userAnalytics.entitled="false")}.bind(this))},getTouchpoints:function(){return JSON.parse(JSON.stringify(k))},getUserAnalytics:function(){return this._userAnalytics},getExistingDataIfGood:function(e){return this._lastDataFromServer?!e.hidePlans&&this._lastDataFromServer.data.requestedHidePlans?null:new Date-this._lastDataFromServer.timestamp<72e5?this._lastDataFromServer.data:void 0:null},preloadData:function(e){return this._preloadDataPromise||(this._preloadDataPromise=this.getPricingData(e)),this._preloadDataPromise},modPlansDataForUnauthenticatedFeatures:function(e){return e.requestedHidePlans||!e.experimentPlansVariants?i(e):a.unauthenticatedFeaturesLoaded().then(function(){var i=t.find(e.experimentPlansVariants,(function(e,t){return a.hasUnauthenticatedFeature(t)}));return i&&t.each(e.orderedPlans,(function(e){var n=i.plans[e.id];n&&t.assign(e,n)})),e}.bind(this),(function(t){return i(e)}))},getPricingData:function(e){e=e||{};var n,o=this.getExistingDataIfGood(e);if(o)return i.resolve(o);n=t.isUndefined(e.hidePlans)?a.featuresLoaded().then(function(){e.hidePlans=a.hasFeature("entitle-brand-kit")}.bind(this),(function(t){e.hidePlans=!1})):i.resolve();var r=i.defer();return n.then(function(){var t=c.getUserCountryInfo(),i="/pricingdata";t&&(i+="?country="+t.country),c.ajax({type:"GET",url:i,data:e,headers:{Accept:"*/*","Content-Type":"application/json"},success:function(e,t,i){this._initPlansData(e).then(function(e){this._lastDataFromServer={data:e,timestamp:new Date},r.resolve(e)}.bind(this)).done()}.bind(this),error:function(e){w.error("getPricingData failed",e),r.reject(e)}.bind(this)},null,!0)}.bind(this)).done(),r.promise},_getUpgradeView:function(){return this._upgradeView||(this._upgradeView=new u({controller:this})),this._upgradeView},upgradeViewClosed:function(){window.marvel.events.trigger("upgrade-view-closed")},handleUserClicksToPurchasePlan:function(e){if(e.isSparkFree){var t=!window.marvel._isInApp;e.view&&e.view.handleCloseUpgradeView(),t&&(0===p.parse(window.location.href).pathname.indexOf("/"+o.localePathPrefix+"sp/")?window.marvel.navigate("/",{trigger:!0}):window.location.href=o.getLocalizedSparkPath("/sp/"))}else{var i=e.ucReturnUrl;i||(i="https://"+window.location.host+o.getLocalizedSparkPath("/sp/onboarding/planspagepurchase?srcUrl="+encodeURI(window.location.pathname)+"&productId="+e.productId+"&pricePoint="+e.pricePoint+"&orderId={{orderId}}"));var n,r,a=e.workflow,s=l.upgradeUcClientId;i+="&touchpointName="+encodeURI(a),this._currentOptions&&this._currentOptions.destinationUrl&&(i+="&destinationUrl="+encodeURI(this._currentOptions.destinationUrl)),n=[{offerId:e.offerId,quantity:e.quantity||1}];var d=o.getLocale()||e.languageCode;d.length>=3&&(d=d.substr(0,2)),r={clientId:s,countryCode:e.countryCode,languageCode:d,returnUrl:i,items:n},this._redirectToCheckout(r).done()}},_redirectToCheckout:function(e){var i=l.upgradeCommercePath,n={cli:e.clientId,co:e.countryCode,lang:e.languageCode,rUrl:e.returnUrl},o="";return t.each(e.items,(function(e,i){t.each(e,(function(e,t){var n="";switch(t){case"offerId":n="id";break;case"quantity":n="q"}n&&(o+="&items["+i+"]["+n+"]="+e)}))})),this._getTransitoryAuthorizationCode().then((function(e){n.code=e;var t=p.format({pathname:i,query:n})+o;window.location.href=t}))},_getTransitoryAuthorizationCode:function(){if(this._getTransitoryAuthorizationCodeDefer){if(!this._currentAuthCodeInfo.nextLoadTime||this._currentAuthCodeInfo.nextLoadTime>=Date.now())return this._getTransitoryAuthorizationCodeDefer.promise;this._getTransitoryAuthorizationCodeDefer=i.defer()}else this._getTransitoryAuthorizationCodeDefer=i.defer(),this._currentAuthCodeInfo={nextLoadTime:0};return c.getTransitoryAuthorizationCode({targetClientId:"unified_checkout_client",targetScope:"AdobeID,openid,sao.stock,additional_info.roles,additional_info.vat_id,additional_info.dob,update_profile.countryCode"}).then(function(e){this._currentAuthCodeInfo.code=e.authCode||"",this._currentAuthCodeInfo.nextLoadTime=Date.now()+l.upgradeCommerceAuthCodeRefreshDuration,this._getTransitoryAuthorizationCodeDefer.resolve(this._currentAuthCodeInfo.code)}.bind(this),function(e){this._currentAuthCodeInfo.code="",this._currentAuthCodeInfo.nextLoadTime=Date.now()+l.upgradeCommerceAuthCodeRefreshDuration,this._getTransitoryAuthorizationCodeDefer.resolve(this._currentAuthCodeInfo.code)}.bind(this)).done(),this._getTransitoryAuthorizationCodeDefer.promise},loadCommerceForView:function(){return this._loadCommerce()},loadTrackingBeaconForView:function(){return this._loadTrackingBeacon()},_loadTrackingBeacon:function(){return this._trackingBeaconLoad||(this._trackingBeaconLoad=i.defer(),t.defer(function(){try{if(t=window,i=document,n="script",o="https://connect.facebook.net/en_US/fbevents.js",t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],(a=i.createElement(n)).async=!0,a.src=o,(s=i.getElementsByTagName(n)[0]).parentNode.insertBefore(a,s)),void 0!==window.fbq){window.fbq("init","{1772359959706965}"),window.fbq("track","PageView");var e=document.createElement("img");e.style="display:none;",e.src="https://www.facebook.com/tr?id=1772359959706965&ev=PageView&noscript=1",document.body.appendChild(e)}}catch(e){w.warn("error inserting iFrame for tracking beacon",e)}var t,i,n,o,r,a,s;this._trackingBeaconLoad.resolve()}.bind(this))),this._trackingBeaconLoad.promise},_loadCommerce:function(){return this._commerceLoadingDefer||(this._commerceLoadingDefer=i.defer(),this._getTransitoryAuthorizationCode().done(),t.defer(function(){try{var e=document.createElement("iframe");e.style.display="none",e.src=l.upgradeCommercePreloadIframeSrc,document.body.appendChild(e)}catch(e){w.warn("error inserting iFrame in _loadCommerce",e)}this._commerceLoadingDefer.resolve()}.bind(this))),this._commerceLoadingDefer.promise},handleShowUpgradeLearnMore:function(e){"string"==typeof e?e={workflow:e}:(e=e||{}).workflow||(e.workflow="unknown-workflow"),e.jumpToLearnMore=!0,this._handleShowUpgrade(!1,e)},handleShowUpgrade:function(e){e="string"==typeof e?{workflow:e}:e||{},this._handleShowUpgrade(!0,e)},isOnUpgradeRoute:function(){var e=window.location.pathname.match(/[^\/]+/g);return e&&-1!==e.indexOf("pricing")},shouldUseUnbounceForPlansPage:function(){return"US"===c.getUserCountry()},handleUnbouncePricingPageInterstitial:function(){c.requiresAuth().then(function(){if(this.shouldUseUnbounceForPlansPage()){var e=p.parse(window.location.href,!0).query;this._getTransitoryAuthorizationCode().then(function(t){var i="&host="+encodeURIComponent(window.location.host),n="";e.destinationUrl&&(n="&destinationUrl="+encodeURIComponent(e.destinationUrl));var o="";e.srcUrl&&(o="&srcUrl="+encodeURIComponent(e.srcUrl));var r="";e.touchpointName&&(r="&touchpointName="+encodeURIComponent(e.touchpointName)),window.location.href="/ex/pricing?code="+encodeURIComponent(t)+i+n+r+o}.bind(this))}else window.location.href="/pricing"}.bind(this)).done()},_handleShowUpgrade:function(t,i){var n="";i.destinationUrl&&(n="&destinationUrl="+encodeURIComponent(i.destinationUrl));var o="";i.workflow&&(o="&touchpointName="+encodeURIComponent(i.workflow));var r="&host="+window.location.host;if(this.shouldUseUnbounceForPlansPage()){var a="/sp/i-pricing?srcUrl="+encodeURIComponent(window.location.pathname)+r+o+n;e('<a href="'+a+'" target="_blank"></a>')[0].click()}else{this._currentOptions=i;var s=this.isOnUpgradeRoute();!l.allowUpgradePage&&s?(w.warn("trying to view upgrade page on bad env",window.location.pathname),window.location.href="/"):this.getPricingData(i).then(function(e){s?this._getUpgradeView().renderInLanding({workflow:i.workflow,plansData:e,parent$:this._landingParent$,jumpToPlans:t,jumpToLearnMore:i.jumpToLearnMore,marketingTouchpointCTA:i.marketingTouchpointCTA,hidePlans:i.hidePlans}):this._showUpgradeViewWithData(e,t,i)}.bind(this),function(e){w.error("could not get upgrade data in handleShowUpgrade",e)}.bind(this)).done(),w.debug("show-upgrade:"+i.workflow)}},_showMerchNotificationHandler:function(e,i,n,o){try{t.isFunction(e)&&e(i),t.isFunction(n)&&n()}catch(e){w.error(o)}},showMerchPopover:function(e){var i=k[e.touchpointName],n=e.name||i&&i.analyticsTrigger,r={direction:e.position||"auto",primaryClickHandler:function(){this._showMerchNotificationHandler(e.notify,"primary",null,"Error while calling the primary popover notify fn"),this.handleShowUpgrade({workflow:n,marketingTouchpointCTA:"upgrade"})}.bind(this),secondaryClickHandler:function(){var t=null;"postWatermark"!==e.name&&(t=this.handleShowUpgradeLearnMore.bind(this,{workflow:n,marketingTouchpointCTA:"learn-more"})),this._showMerchNotificationHandler(e.notify,"secondary",t,"Error while calling the secondary popover notify fn")}.bind(this),hideHandler:function(t){this._showMerchNotificationHandler(e.notify,t,null,"Error while calling the hide popover notify fn")}.bind(this),name:e.touchpointName||"untitled:merchPopover",target:e.$element||e.element,logo:"/images/video_po_replace_logo.png",primaryTxt:o.getString("merch-touchpoint-primary-txt-default"),secondaryTxt:o.getString("merch-touchpoint-secondary-txt-default"),primaryBtnTitle:o.getString("merch-touchpoint-primary-btn-default"),secondaryBtnTitle:o.getString("merch-touchpoint-secondary-btn-default"),hideEvent:"hide-picker",analyticsEvent:"viewedMerchandising",primaryCTAAnalytic:"clickedMerchandisingCTA",secondaryCTAAnalytic:"clickedMerchandisingMaybeLater"};e.anchorLocation&&(r.refWidth=e.anchorLocation.width,r.refHeight=e.anchorLocation.height,r.top=e.anchorLocation.top,r.left=e.anchorLocation.left);var a=t.assign({},r,i,e);return new g(a).show(a.direction)},_getBusinessSegmentPlan:function(e,i){return t.find(i.orderedPlans,(function(t){return t.id.split(".")[1]===e}))},showMerchMessagingModal:function(e){var i,n=!1,o=t.clone(e);"premiumTemplate"==e.workflow&&(n=a.hasFeature("upgrade-premium-template-show-pricing"),i="create-from-premium-template-attempted"),"remixPremiumTemplate"===e.workflow&&(n=a.hasFeature("upgrade-premium-template-show-pricing"),i="remix-from-premium-template-attempted"),"remixPremiumTemplateFromEditorTemplateSearch"===e.workflow&&(n=a.hasFeature("upgrade-premium-template-show-pricing"),i="remix-from-premium-template-attempted-in-editor-search"),n?this.getPricingData().then(function(n){var r=this._getBusinessSegmentPlan(e.segment||"INDIVIDUAL",n);if(r){var a=t.find(r.offers,(function(e){return e.offerId===r.defaultOfferId}));a&&(o.partials=u.getPricePartials(),o.additionalFieldsForModel={priceDisplay:t.assign({},a.priceDisplay,{selected:!0})})}window.marvel.events.trigger(i,"tbd:whatmerchstring",o)}.bind(this)):window.marvel.events.trigger(i,"tbd:whatmerchstring",o)},_showUpgradeViewWithData:function(t,i,n){var o=e(document.body).find(".upgrade-overlay-holder");o.length||(o=e("<div class='upgrade-overlay-holder needs-showing hide'></div>"),e(document.body).append(o)),this._getUpgradeView().renderInApp({workflow:this._currentOptions.workflow,parent$:o,plansData:t,jumpToLearnMore:n.jumpToLearnMore,jumpToPlans:i,marketingTouchpointCTA:n.marketingTouchpointCTA,hidePlans:n.hidePlans})},showPlansInLanding:function(e){if(!e.workflow){var t=p.parse(window.location.href,!0);e.workflow=t.query.workflow||"landing"}if(!e.jumpToPlans&&window.location.hash&&window.location.hash.length>1){var i=window.location.hash.substring(1);"plans"===i?e.jumpToPlans=!0:e.jumpToAnchor=i}this._initPlansData(e.plansData).then(function(t){this._lastDataFromServer={data:t,timestamp:new Date},this._landingParent$=e.parent$,this._getUpgradeView().renderInLanding(e)}.bind(this)).done()},isConfettiArmed:function(){return this._confettiArmed},disarmConfetti:function(){this._confettiArmed=!1},userReturnedViaPurchasedRoute:function(e){this._confettiArmed=!0;marvel._firstLaunchSession;var t,i=a.hasFeature("entitle-brand-kit"),n=e.query.touchpointName||"unknown",o=e.query.productId,s=e.query.pricePoint||"unknown",l=e.query.orderId,d=-1!==e.pathname.indexOf("/cancel"),c=-1!==e.pathname.indexOf("/default"),p=d?"cancel":"success";return t=d?"cancel":c?"default":"custom",i||d||w.warn("non-entitled user in non-cancel purchase return",l),r.trackEvent("endPurchaseFlow",{trigger:n,productId:o,pricePoint:s,orderId:l,pathtype:t,reason:p},"onboarding:planspagepurchase"),!d},requestTypeKitSyncUserEntitlement:function(){var e=i.defer(),t=l.adobeFontsApiEndpoint+"/v1/refresh_user",n=l.cid,o=c.getProfile().userId;return c.ajax({type:"PUT",url:t,dataType:"text",headers:{HTTP_X_GW_IMS_USER_ID:o,"X-Api-Key":n},success:function(t,i,n){f.addPageAction&&f.addPageAction("spark_web_typekit_refresh_user",{status:"succeeded",statusCode:n.status}),e.resolve(i)},error:function(t,i,n){f.addPageAction&&f.addPageAction("spark_web_typekit_refresh_user",{status:"failed",statusCode:t.status}),w.error("requestTypeKitSyncUserEntitlement failed with ["+t.status+"]: "+n,t),e.resolve(t)}}),e.promise},_initPlansData:function(e){return this.modPlansDataForUnauthenticatedFeatures(e).then(function(e){return e.noPlans?e:(e.plansById={},this._termInfoMap=this._getExpandedTermMap(e.termsInfo.map,e.termsInfo.termsToTermId),this._perLicenseString=e.termsInfo.perLicenseString||"",e.termMap=this._termInfoMap,e.commitmentAndTermMap=e.termsInfo.commitmentAndTermMap,this.countryInfo=e.countryInfo,t.each(e.orderedPlans,function(i){e.plansById[i.id]=i,i.offersById={},i.offers?t.each(i.offers,function(e){e.priceDisplay=this._getPriceForDisplay(e),e.priceDisplay.oldPrice&&(i.hasSpecialOffers=!0),i.offersById[e.offerId]=e}.bind(this)):i.apps&&(t.each(i.apps,function(e){t.each(e.offers,function(t){t.priceDisplay=this._getPriceForDisplay(t),t.priceDisplay.oldPrice&&(e.hasSpecialOffers=!0),i.offersById[t.offerId]=t}.bind(this))}.bind(this)),i.defaultPriceOfferId&&(i.defaultPrice=i.offersById[i.defaultPriceOfferId]))}.bind(this)),e)}.bind(this))},_formats:{},_getExpandedTermMap:function(e,i){var n={};return t.each(i,(function(t,i){n[i]=e[t]})),n},_getCurrencyFormat:function(e){var t=e.formatString,i=this._formats[t];if(!i){i={originalString:t,delimiter:e.delimiter},this._formats[t]=i;var n=t.indexOf("'"),o=0!==n,r=t.indexOf("'",n+1),a=t.substring(n+1,r),s=(o?t.substring(0,n):t.substring(r+1)).trim();if(o){var l=t.lastIndexOf("0",n);i.space=t.substring(l+1,n),t=t.substring(0,l+1),i.space&&(a=i.space+a)}else{var d=t.indexOf("#",r);i.space=t.substring(r+1,d),t=t.substring(d,t.lastIndexOf("0")+1),i.space&&(a+=i.space)}if(a=a.replace(/ /g,"&nbsp;"),i.symbolAtEnd=o,i.symbol=a,e.delimiter){var c=s.indexOf(e.delimiter);i.numPlaces=s.length-c-1,i.wholeNumberFormatString=s.substring(0,c)}else i.numPlaces=0,i.wholeNumberFormatString=s}return i},_getRepeatedString:function(e,t){if(e.repeat)return e.repeat(t);if(t){for(var i=e,n=1;n<t;n++)i+=e;return i}return""},_getFormattedWholeNumber:function(e,t){var i=e+"";if(5===t.length){if(i.length>3){var n="$1"+t[1];i=String(i).replace(/(.)(?=(\d{3})+$)/g,n)}}else w.debug("unsupported wholeNumberFormatString:"+t);return i},_getFormattedCurrencyNumber:function(e,i){var n,o=this._getCurrencyFormat(i),r={symbol:o.symbol,symbolAtEnd:o.symbolAtEnd,fractionDelimiter:o.delimiter};if(e)if(o.numPlaces){var a,s=Math.floor(e),l=t.round(e-s,o.numPlaces);n=this._getFormattedWholeNumber(s,o.wholeNumberFormatString),0===l?a=this._getRepeatedString("0",o.numPlaces):(a=(l+"").substring(2)).length<o.numPlaces&&(a+=this._getRepeatedString("0",o.numPlaces-a.length)),r.fraction=a}else n=this._getFormattedWholeNumber(e,o.wholeNumberFormatString);else n="0",r.fraction=r.fractionDelimiter?"00":"";var d=n;return r.fractionDelimiter&&(d+=r.fractionDelimiter+r.fraction),r.numberString=n,r.fullNumberString=d,r},_getPriceForDisplay:function(e){var t=e.pricing,i=t.price.displayPrice,n=this._termInfoMap[e.term],r=this._getFormattedCurrencyNumber(i,t.currency),a=r.symbol,s=e.perLicense&&this._perLicenseString,l={price:i,numberString:r.numberString,symbolAtEnd:r.symbolAtEnd,currencySymbol:a,time:o.getString(n.abbr),timeAppend:o.getString(s),fraction:r.fraction,fractionDelimiter:r.fractionDelimiter,fullNumberString:r.fullNumberString};if(!i&&t.currency.isDefault&&(l.currencySymbol="",l.numberString="0"),t.price.oldPrice){var d=this._getFormattedCurrencyNumber(t.price.oldPrice,t.currency);l.oldPrice={price:t.price.oldPrice,numberString:d.numberString,fullNumberString:d.fullNumberString,symbolAtEnd:d.symbolAtEnd,currencySymbol:a,time:o.getString(n.abbr),timeAppend:o.getString(s),fraction:d.fraction,fractionDelimiter:d.fractionDelimiter},l.priceIsForAfterTrial=e.trial}return l}}))}.apply(t,n))||(e.exports=o)},387:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(10),i(45)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s,l,d=new r.default({color:"rebeccapurple",name:"marketingController"}),c=["spark-newsletter"];return l=i.Model.extend({emailListSettings:{},_getBrowserStorage:function(){return this.browserStorage||(this.browserStorage=new a(window.sessionStorage)),this.browserStorage},showedNewsletterPitch:function(){this._showedNewsletterPitch=!0},setNewsletterOptedIn:function(){try{window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true"),window.localStorage.setItem("spark-newsletter-pitches","4")}catch(e){}},newsletterOptedOut:function(){try{window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true");var e=parseInt(window.localStorage.getItem("spark-newsletter-pitches")||"1");e++,window.localStorage.setItem("spark-newsletter-pitches",String(e))}catch(e){}},resetNewsletterOptOut:function(){try{window.localStorage.setItem("spark-newsletter-pitches","1"),window.sessionStorage.setItem("dismissed-spark-newsletter-pitch","true")}catch(e){}},getModelForOptinViewIfUserCanReceiveEmail:function(e,n){if(!this.userQualifiesToReceiveEmail())return null;var r=t.assign({mode:e},n||{});return t.isUndefined(r.showGlobalMarketingChoice)&&(r.showGlobalMarketingChoice=!o.getMarketingChoiceForUser()),new i.Model(r)},userQualifiesToReceiveMarketing:function(){var e=!1,i=o.getUserEmail();if(!t.isEmpty(i)&&!o.isEnterprise()&&!o.isAutomatedTestUser()){var n=i.split("@");if(2===n.length){var r=n[1];e=!/(k12)|(usd)|(\.edu)|(\.ac)|(cvsdvt\.org)/.test(r.toLowerCase())}}return e},userQualifiesToReceiveEmail:function(){return"US"===o.getUserCountry()&&this.userQualifiesToReceiveMarketing()},shouldSeeNewsletterPitch:function(){var e;if(!this._showedNewsletterPitch)try{if(!("true"===window.sessionStorage.getItem("dismissed-spark-newsletter-pitch"))){try{e=parseInt(window.localStorage.getItem("spark-newsletter-pitches")||"1",10)}catch(t){e=1}if(e<=3&&this.userQualifiesToReceiveEmail())return this.getEmailListOptInStatus("sparknewsletter").then(function(t){return t&&"subscribed"===t.status?n.reject(new Error("MarketingControllerCls::shouldSeeNewsletterPitch")):e}.bind(this))}}catch(e){}return n.reject(new Error("MarketingControllerCls::shouldSeeNewsletterPitch"))},getSettingIfEmailList:function(e){return this.emailListSettings.hasOwnProperty(e)?{value:this.emailListSettings[e]}:null},emailListSettingsLoaded:function(){return this.statusesDeferred||(this.statusesDeferred=n.defer(),this.userQualifiesToReceiveEmail()?this._getAllEmailListSubscriptionStatuses().then(this._initEmailListSubscriptionStatuses.bind(this)).done():this.statusesDeferred.resolve("unqualifiedToReceiveEmail")),this.statusesDeferred.promise},_initEmailListSubscriptionStatuses:function(e){var i=[];t.each(e,function(e){var n,o,r;"fulfilled"===e.state?(o="subscribed"===(n=e.value).status,r=t.find(c,(function(e){return e.replace(/-/g,"")===n.listId})),this.emailListSettings[r]=o):"rejected"===e.state&&(d.error("email list subscription status failed to be initialized",e.reason),i.push(e.reason))}.bind(this)),t.isEmpty(i)?this.statusesDeferred.resolve("success"):this.statusesDeferred.resolve("unableToLoadEmailSettingsForQualifiedUser")},_getAllEmailListSubscriptionStatuses:function(){var e,i=[];return t.each(c,function(t){var o=t.replace(/-/g,"");e=s.getEmailListOptInStatus(o).then((function(e){return e.listId=o,e}),(function(e){return d.error("unable to get opt-in status for email list "+o,e),n.reject(e)})),i.push(e)}.bind(this)),n.allSettled(i)},getFilteredChanges:function(e){var i={},n={};return t.each(e,function(e,t){this.emailListSettings.hasOwnProperty(t)&&(i[t]={value:e,changed:this.emailListSettings[t]!==e},i[t].changed&&(n[t]=e,d.debug("MarketingController.getFilteredChanges differences has "+t+" with value "+e)))}.bind(this)),t.isEmpty(n)?{settings:i}:{settings:i,differences:n}},saveAndUpdateSettings:function(e){var i,o=[];return t.each(e,(function(e,t){if(c.indexOf(t)>-1){var r=t.replace(/-/g,"");i=s.updateEmailListOptInForUser(e,r).then((function(i){var n=e?"subscribed":"unsubscribed";return d.info("Updated Status of Email List: "+r+" to: "+n),{settingId:t,status:e}}),(function(e){return d.error("unable to update opt-in status for email list "+r,e),n.reject(e)})),o.push(i)}})),n.allSettled(o).then(function(e){var i=[];if(t.each(e,function(e){"fulfilled"===e.state?this.emailListSettings[e.value.settingId]=e.value.status:"rejected"===e.state&&(d.error("failed to save updated opt-in status for email list",e.reason),i.push(e.reason))}.bind(this)),i.length>0)return n.reject(i)}.bind(this))},_fetchEmailListOptinStatus:function(e){var t=n.defer();return o.isValid().then(function(){o.ajax({type:"GET",url:"/list/subscription-status/"+e,success:function(e,i,n){t.resolve(e)},error:function(e,i,n){t.reject(n)}})}.bind(this),(function(e){t.reject(e)})).done(),t.promise},getEmailListOptInStatus:function(e){return this._getBrowserStorage().get("spark-mrkt-subscription-"+e+"-status")?n.resolve({status:this._getBrowserStorage().get("spark-mrkt-subscription-"+e+"-status")}):this._fetchEmailListOptinStatus(e)},_saveOptInValue:function(e,t){var i="subscribe"===t?"subscribed":"unsubscribed";this._getBrowserStorage().set("spark-mrkt-subscription-"+e+"-status",i)},updateEmailListOptInForUser:function(e,t){var i=n.defer(),r=e?"subscribe":"unsubscribe";return o.isValid().then(function(){o.ajax({type:"GET",url:"/list/"+r+"/"+t,success:function(e,n,o){this._saveOptInValue(t,r),i.resolve(e)}.bind(this),error:function(e,t,n){i.reject(n)}.bind(this)})}.bind(this),function(e){i.reject(e)}.bind(this)),i.promise}}),s=new l}.apply(t,n))||(e.exports=o)},388:function(e,t,i){var n,o;n=[i(4)],void 0===(o=function(e){return!0===e.nr.disabled?{addPageAction:function(){},addRelease:function(){},addToTrace:function(){},finished:function(){},info:{},interaction:function(){var e={actionText:function(){return e},createTracer:function(){return e},end:function(){return e},getContext:function(){return e},ignore:function(){return e},onEnd:function(){return e},save:function(){return e},setAttribute:function(){return e},setName:function(){return e}};return e},noticeError:function(){},setCurrentRouteName:function(){},setCustomAttribute:function(){},setErrorHandler:function(){},setPageViewName:function(){}}:(window.newrelic&&window.newrelic.setCustomAttribute&&window.newrelic.setCustomAttribute("application.version",e.buildVersion),window.newrelic)}.apply(t,n))||(e.exports=o)},390:function(e,t,i){"use strict";i.r(t);var n=i(23),o=i.n(n),r=i(20),a=i.n(r),s=i(1),l=i.n(s),d=i(8),c=i.n(d),p=i(7),h=i.n(p),u=new(i(10).default)({color:"rebeccapurple",name:"UDSController"}),g={classroom_role:"none",ssp_role:"none",loadStatus:"200"},m=new(function(){function e(){o()(this,e)}return a()(e,[{key:"init",value:function(){var e=this;this._udsDataLoaded=l.a.defer(),h.a.requiresAuth().then((function(){c.a.allFeaturesLoaded().then((function(){e._getUserDataFromUDS().then((function(t){var i=t.data;e._udsDataLoaded.resolve(Object.assign({},g,i))}))})).done()})).done()}},{key:"getUdsData",value:function(){return this._udsDataLoaded.promise}},{key:"getUdsValue",value:function(e){return this._udsDataLoaded.promise.then((function(t){return t[e]}))}},{key:"_getUserDataFromUDS",value:function(){return window.fetch("/uds/v2/",{credentials:"include"}).then((function(e){return e.status<200||e.status>=300?(404!==e.status&&u.info("Got non-404 non-200 response from UDS, assuming user has no roles: "+e.status),{data:{loadStatus:e.status+""}}):e.json()})).catch((function(e){return u.warn("Got an error attempting to call UDS, assuming user has no roles.",e),{data:{loadStatus:"fetch-error"}}}))}}]),e}());t.default=m},391:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(9),i(392),i(10),i(16)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";new a.default({color:"blue",name:"PopOverView"});return i.View.extend({parentEl:".popover-wrapper",cachename:"popover-view",events:{"click .popover-primary-btn":"handlePrimaryClick","click .popover-secondary-btn":"handleSecondaryClick"},initialize:function(i){t.bindAll(this,t.functionsIn(this)),this.setOptions(i),"auto"===this.height&&this.determineHeight(),this.showing=!1,marvel.events.on("spark-area-change",function(){this.showing&&this.hide()}.bind(this)),e(window).resize(t.throttle(function(){this.showing&&(this.hideOnResize?this.hide():this.show())}.bind(this),1e3)),this.hideEvent&&marvel.events.on(this.hideEvent,function(){this.showing&&this.hide()}.bind(this))},setOptions:function(t){t&&(t.target&&(this.$referenceView=t.target instanceof e?t.target:e(t.target)),this.popOverName=t.name||"unnamed-takeover",this.logoURL=this._normalizeImageNameBasedOnScreen(t.logo)||void 0,this.primaryTxt=t.primaryTxt||"",this.secondaryTxt=t.secondaryTxt||"",this.dialogClass=t.dialogClass||"",this.primaryBtnTitle=t.primaryBtnTitle||"",this.secondaryBtnTitle=t.secondaryBtnTitle||"",this.primaryClickHandler=t.primaryClickHandler||void 0,this.hideHandler=t.hideHandler||void 0,this.secondaryClickHandler=t.secondaryClickHandler||void 0,this.height=t.height||"auto",this.width=t.width||340,this.direction=t.direction||"auto",this.top=t.top||void 0,this.left=t.left||void 0,this.positionOffset="number"==typeof t.positionOffset?t.positionOffset:10,this.refHeight=t.refHeight||void 0,this.refWidth=t.refWidth||void 0,this.hideEvent=t.hideEvent||void 0,this.hideOnResize=t.hideOnResize||!1,this.highlight=t.highlight||!1,this.template=t.template||r,this.keepViewOnHide=t.keepViewOnHide||!1,this.isBeta=t.isBeta||!1,this.parentCssToAdd=t.parentCssToAdd,this.analyticsEvent=t.analyticsEvent||"viewedOnboarding",this.analyticsTrigger=t.analyticsTrigger||t.name||"unnamed",this.primaryCTAAnalytic=t.primaryCTAAnalytic||"clickedOnboardingCTA",this.secondaryCTAAnalytic=t.secondaryCTAAnalytic||"clickedOnboardingMaybeLater")},handlePrimaryClick:function(){o.trackEvent(this.primaryCTAAnalytic,{trigger:this.analyticsTrigger}),t.isFunction(this.primaryClickHandler)&&this.primaryClickHandler(),this.hide()},handleSecondaryClick:function(){o.trackEvent(this.secondaryCTAAnalytic,{trigger:this.analyticsTrigger}),t.isFunction(this.secondaryClickHandler)&&this.secondaryClickHandler(),this.hide()},_isInEditor:function(){return window.marvel._siteSection&&0===window.marvel._siteSection.indexOf("editor:")},determineHeight:function(){var t=e("<div/>");t.html(s.mustacheRender(this.template,{primaryText:this.primaryTxt,isBeta:this.isBeta,secondaryText:this.secondaryTxt,dialogClass:this.dialogClass,logoURL:this.logoURL,secondaryBtnTitle:this.secondaryBtnTitle,primaryBtnTitle:this.primaryBtnTitle,height:"auto",width:this.width+"px",direction:"top"})).appendTo(this.parentEl);var i=t.find(".popover-dialog");i.css("animation","none"),this.height=i.height(),t.remove()},show:function(i){if(!i||"auto"==this.direction){var r=this.$referenceView?this.getDocumentOffset(this.$referenceView).top:this.top,a=this.$referenceView?this.getDocumentOffset(this.$referenceView).left:this.left,l=e(window).height()-(this.$referenceView?this.getDocumentOffset(this.$referenceView).top+this.$referenceView.outerHeight(!0):this.top+this.refHeight),d=e(window).width()-(this.$referenceView?this.getDocumentOffset(this.$referenceView).left+this.$referenceView.outerHeight(!0):this.left+this.refWidth),c=[{dir:"top",val:r},{dir:"left",val:a},{dir:"bottom",val:l},{dir:"right",val:d}],p=t.maxBy(c,(function(e){return e.val}));i=p&&p.dir?p.dir:"bottom",l<=this.height/2&&(i="top"),r<=this.height/2&&(i="bottom"),a<=this.width/2&&(i="right"),d<=this.width/2&&(i="left")}var h,u,g,m;switch(i){case"bottom":g="top";break;case"top":g="bottom";break;case"left":g="right";break;case"right":g="left";break;case"bottom-left":g="top-right",m="right";break;default:g="top"}this.highlight&&this.highlightElement(this.$referenceView),this.$el.html(s.mustacheRender(this.template,{primaryText:this.primaryTxt,isBeta:this.isBeta,secondaryText:this.secondaryTxt,dialogClass:this.dialogClass,logoURL:this.logoURL,secondaryBtnTitle:this.secondaryBtnTitle,primaryBtnTitle:this.primaryBtnTitle,height:this.height+"px",width:this.width+"px",direction:g}));var f=this.$el.parent();f.length||(f=e(this.parentEl)).append(this.$el),this.parentCssToAdd&&f.addClass(this.parentCssToAdd);var v=this.$el.find(".popover-dialog");this.$referenceView||(this.$referenceView={offset:function(){return{top:this.top,left:this.left}}.bind(this),outerWidth:function(){return this.refWidth}.bind(this),outerHeight:function(){return this.refHeight}.bind(this)});var b=this.positionElementAroundAnother(this.$referenceView,v,{position:i,positionOffset:this.positionOffset,align:m});return h=b.y+"px",u=b.x+"px",v.css({top:h,left:u}),v.addClass(g),this.showing=!0,o.trackEvent(this.analyticsEvent,{trigger:this.analyticsTrigger}),t.defer(function(){this.$el.removeClass("hide")}.bind(this)),this.$el.find(".popover-fixed").removeClass("hide"),t.defer(function(){e("#active-popover").click(function(e){e.stopImmediatePropagation(),this.showing&&this.hide("no-selection")}.bind(this))}.bind(this)),n(!0)},highlightElement:function(e){e.addClass("popover-highlight-element")},removeHighlight:function(e){e.removeClass("popover-highlight-element")},getDocumentOffset:function(t){var i=0,n=0;if(t=e(t)[0]){var o=t.offsetParent;for(i=t.offsetLeft,n=t.offsetTop;t;)t===o&&(i+=t.offsetLeft,n+=t.offsetTop,o=t.offsetParent),i-=t.scrollLeft||0,n-=t.scrollTop||0,t=t.parentNode}return{left:i,top:n}},positionElementAroundAnother:function(t,i,n){n=e.extend({position:"right",positionOffset:0,align:"center",alignOffset:0},n);var o=t.tagName?e(t):t,r=e(i),a=r.offsetParent();r.removeClass("top bottom left right");var s=o.offset(),l=o.outerWidth(),d=o.outerHeight(),c=a.offset(),p=r.outerWidth(),h=r.outerHeight(),u=n.positionOffset,g=n.align,m=n.alignOffset,f=s.left-c.left,v=s.top-c.top;switch(n.position){case"top":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v-h-u;break;case"bottom":case"bottom-left":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v+d+u;break;case"left":f=f-p-u,v=v+this.getAlignmentAdjustment(g,d,h)+m;break;case"right":default:f=f+l+u,v=v+this.getAlignmentAdjustment(g,d,h)+m}return{x:f,y:v}},getAlignmentAdjustment:function(e,t,i){var n=0;switch(e){case"left":case"top":n=0;break;case"right":case"bottom":n=t-i;break;case"center":default:n=(t-i)/2}return n},_normalizeImageNameBasedOnScreen:function(e){return e&&window.devicePixelRatio>1&&-1==e.indexOf("@2x")?e.replace(/\.(?=[^.]*$)/,"@2x."):e},hide:function(i){if(this.showing=!1,this.parentCssToAdd){var n=this.$el.parent();n.length&&n.removeClass(this.parentCssToAdd)}return this.$el.addClass("hide"),this.$el.find(".popover-fixed").addClass("hide"),t.isFunction(this.hideHandler)&&this.hideHandler(i),this.keepViewOnHide||(e("#active-popover").unbind("click"),this.remove()),this},remove:function(){if(this.parentCssToAdd){var e=this.$el.parent();e.length&&e.removeClass(this.parentCssToAdd)}return i.View.prototype.remove.apply(this,arguments),this}})}.apply(t,n))||(e.exports=o)},392:function(e,t){e.exports='<div id="active-popover" class="popover-fixed hide"></div>\n<div class="popover-dialog {{direction}} {{#dialogClass}}{{.}}{{/dialogClass}}" style="height: {{height}}; width: {{width}}; top: {{topOffset}}; left: {{leftOffset}};">\n    <div class="popover-section">\n        {{#logoURL}}\n            <div class="popover-logo" style="background-image: url(\'{{.}}\');"></div>\n        {{/logoURL}}\n        <div class="popover-content" style="text-align:{{#logoURL}}center{{/logoURL}}{{^logoURL}}left{{/logoURL}};">\n\n            <div class="popover-primary-text{{^isBeta}} beta{{/isBeta}}">{{{primaryText}}}</div>\n            <div class="popover-secondary-text">{{{secondaryText}}}</div>\n            <div class="popover-btns">\n                {{#secondaryBtnTitle}}\n                    <button class="popover-secondary-btn">{{.}}</button>\n                {{/secondaryBtnTitle}}\n                {{#primaryBtnTitle}}\n                    <button class="popover-primary-btn">{{.}}</button>\n                {{/primaryBtnTitle}}\n            </div>\n        </div>\n    </div>\n</div>\n'},393:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2),i(7),i(175),i(8),i(387),i(10),i(4),i(390)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c){"use strict";var p=new l.default({color:"rebeccapurple",name:"userProfile"});return n.Model.extend({userTypeMap:{B:"Free",IN:"Individual",INS:"Individual",ENTS:"Enterprise",ENT:"Enterprise",TM:"Teams",TMS:"Teams",K12F:"EDU Spark K12 Free",HEDF:"Edu Spark HED free",K12P:"EDU CC All apps K12 paid",Unknown:"Unknown"},initProfile:function(e){var t=i.defer();return o.isValid().then(function(){var i=o.getProfile();i&&(this._acProfile=i,this.getUDSDataWhenLoaded().done(),this._init(e),this.loadProfileImage(this.profile.avatar,100).then(function(e){this.profile.avatar._data=e,t.resolve()}.bind(this),function(e){this.profile.avatar._data="",t.resolve()}.bind(this)))}.bind(this)),t.promise},getUDSDataWhenLoaded:function(){return c.default.getUdsData().then(function(e){return this.udsData=e,e}.bind(this))},getIsUserPublishBlockedBasedOnUds:function(){return this.getUDSDataWhenLoaded().then(function(e){return"none"!==e.ssp_role}.bind(this))},_init:function(e){this._id=e.profileId,this._type=e.profileType,this._acProfile=this._acProfile||o.getProfile(),this._settings=t.assign({},this.defaults),this.profile=t.clone(this._settings),this.udsData={loadStatus:"loading"},this.profile.displayName=this.getSetting("displayName"),this._settings.displayName=this.profile.displayName,this.profile.email=this.getSetting("email"),this.profile.getUserProfilePictureUrl=this.getUserProfilePictureUrl.bind(this)},defaults:{category:"",avatar:{default:"/images/icon-generic-avatar.svg"}},_getValueFromAuthControllerProfile:function(e){return this._acProfile[e]},getSetting:function(e){if(-1===e.indexOf("-")){if("first_name"===e||"last_name"===e){var i=this._settings.displayName;if(i===this._acProfile.displayName)return this._getValueFromAuthControllerProfile(e);var n=i&&i.split(" ")||[""];return 1===n.length?"first_name"===e?n[0]:"":"first_name"===e?n.slice(0,-1).join(" "):n[n.length-1].trim()}return"usertype"===e?this.getUserType():"udsData"===e?this.udsData:t.isUndefined(this._settings[e])?this._acProfile[e]:this._settings[e]}var o=s.getSettingIfEmailList(e);return o?o.value:a.hasFeature(e)},_serviceLevelToInt:function(e){return 0===e.indexOf("PAID_LVL")?parseInt(e.substring(9),10):d.serviceLevelFree},_getMaxServiceLevelFromContexts:function(e){return e.length?t.reduce(e,function(e,t){var i=this._serviceLevelToInt(t.prodCtx.serviceLevel);return Math.max(i,e)}.bind(this),d.serviceLevelFree):this._serviceLevelToInt("FREE_BASIC")},_getAllSparkProductContextsFromAll:function(e){return t.filter(e||[],(function(e){return"spark"===e.prodCtx.serviceCode}))},getPaidLevel:function(){var e=this.getSetting("serviceAccounts"),i=t.find(e,(function(e){return"spark"===e.serviceCode})),n=this.getSetting("projectedProductContext")||[],o=this._getAllSparkProductContextsFromAll(n);return Math.max(this._serviceLevelToInt(i?i.serviceLevel:"FREE_BASIC"),this._getMaxServiceLevelFromContexts(o))},getUserTypeId:function(){var e;return t.find(this.userTypeMap,function(t,i){var n="user-type-"+i;if(a.hasFeature(n)&&this.userTypeMap[i])return e=i,!0}.bind(this)),e&&"Unknown"!==e||(e="Unknown"),e},getUserType:function(){var e=this.getUserTypeId();return this.userTypeMap[e]},isEDUAccount:function(){var e=this.getUserType();return-1!==["K12F","HEDF","K12P"].indexOf(e)||!!a.hasFeature("_enterprise-safe-search")},isNonEnterpriseUser:function(){return"type1"===this._acProfile.account_type},getClassroomManagerLinkWhenLoaded:function(){return this.getUDSDataWhenLoaded().then(function(e){return"teacher"===e.ssp_role&&d.classroomManagerLink}.bind(this))},isAdobeAccount:function(){var e=o.getUserEmail();return/@adobe+(test)?.com$/g.test(e)},getProfileHomeSettings:function(){return{isEDUAccount:this.isEDUAccount(),isAdobeAccount:this.isAdobeAccount(),userType:this.getUserType(),canSeeInAppUpgradeMarketing:this._canSeeInAppUpgradeMarketing(),canSeeMarketing:s.userQualifiesToReceiveMarketing(),canSeePaidUserMarketing:this._canSeePaidUserMarketing()}},_canSeeInAppUpgradeMarketing:function(){return!a.hasFeature("entitle-brand-kit")&&s.userQualifiesToReceiveMarketing()},_canSeePaidUserMarketing:function(){return a.hasFeature("entitle-brand-kit")&&s.userQualifiesToReceiveMarketing()},canShowNonDooploImageSourceForUser:function(e,t){return"stock"===(e=e.toLowerCase())?!!a.hasFeature("stock-picker-enable-in-"+t)&&this.getSetting("user-flag-image-source-stock"):"giphy"!==e||!!a.hasFeature("image-picker-suppports-giphy")&&(!!a.hasFeature("giphy-picker-enable-in-"+t)&&this.getSetting("user-flag-image-source-giphy"))},filterDooploBitmapServicesForUser:function(e,i){var n={enabled:[],blocked:[],show:[]},o=function(e,t,i){this.getSetting(e)?i?n.enabled.push(t):n.show.push(t):n.blocked.push(t)}.bind(this);return e&&e.length?t.each(e,function(e){e=e.toLowerCase(),o(r.imageServices.flagPrefixDooplo+e,e,!0)}.bind(this)):t.each(r.imageServices.dooplo,function(e){var t=r.imageServices.flagPrefixDooplo+e;o(t,e,!0);var i=r.imageServices.showFlagPrefixDooplo+e;o(i,e,!1)}.bind(this)),n.enabled=t.filter(n.enabled,(function(e){return"The Noun Project"!==e})),n},getGetNoticedSettings:function(){var e={supported:this.isNonEnterpriseUser(),value:!1};return e.supported&&(e.value=!this.getSetting("share-default-to-unlisted")),e},isUserProfileDefaultUrl:function(e){return e===this.defaults.avatar.default},getUserProfilePictureUrl:function(e){return this.getSizedProfileImage(e)},getSizedProfileImage:function(e){return this.profile&&this.profile.avatar?this.profile.avatar._data:""},loadProfileImage:function(e,t){return e.componentName?this.getNamedImageAsset(e.componentName,t):o.getUserProfilePictureUrl("max").then(function(t){return t||e.default}.bind(this),function(t){return p.error("error loading user profile image, using default instead",t),e.default}.bind(this))},getUserProfileImageForTransload:function(e){var t,n=this.profile[e],o=i.defer();if(n)if(n._data)0===n._data.indexOf("https")||n._data===this.defaults.avatar.default?o.resolve(n._data):r.convertUrlToBlob(n._data).then((function(e){t={source:"file",file:e},o.resolve(t)}),(function(e){o.reject(e)}));else{var a=this.getNamedImageAssetComponent(e);a&&(t={source:"component",component:a}),o.resolve(t)}else o.resolve();return o.promise},getUserDisplayName:function(e){var t,i=this._settings&&this._settings.displayName;return e.preferFirstPlusInitial?this._getValueFromAuthControllerProfile("displayName")===i&&(t=this._getValueFromAuthControllerProfile("last_name")||"",""!==(i=this._getValueFromAuthControllerProfile("first_name")||"")?(i=i.charAt(0).toLocaleUpperCase()+i.substring(1),""!==t&&(i+=" "+t.charAt(0).toLocaleLowerCase())):i=t):e.preferFirst&&(i=this._getValueFromAuthControllerProfile("first_name")||"Friend"),i},emailListSettingsLoaded:function(){return s.emailListSettingsLoaded()},saveUpdatedProfileSettings:function(e){var n=e.featureFlipperChanges,o=n&&n.authenticated||{},r=[],l=s.getFilteredChanges(e),d=n&&n.numUnauthenticated?n.unauthenticated:null;return t.each(e,(function(e,t){-1!==t.indexOf("-")&&(l.settings[t]||"featureFlipperChanges"===t||(o[t]=e))})),l.differences&&r.push(s.saveAndUpdateSettings(l.differences)),t.isEmpty(o)&&!d||r.push(a.setUserFlagsBothKinds(o,d)),r.length>0?i.allSettled(r).then((function(e){return n&&n.total&&(o.featureFlipperChanges=n),o})):i.resolve(o)},uploadNamedImageAsset:function(e,t){var i=this.composite.getDCXComposite().current,n={name:e,path:e,isUpdate:!!i.getComponentWithAbsolutePath("/"+e),parent:i.getChildrenOf()[0],relationship:"rendition",type:t.type,file:t};return this.composite.pushComponentWithRetry(n).then(function(){return this.composite.saveChanges((function(){}))}.bind(this))},updateNamedImageAsset:function(e,t,i,n){var o=this.composite.getDCXComposite().current,r={name:e,relationship:"rendition",type:i||"image/jpg",path:e,isUpdate:!!o.getComponentWithAbsolutePath("/"+e),parent:o.getChildrenOf()[0],copyFrom:{source:n,assetId:t}};return this.composite.pushComponentWithRetry(r)},getNamedImageAssetComponent:function(e){return this.composite.getDCXComposite().current.getComponentWithAbsolutePath("/"+e)},getNamedImageAsset:function(e,t){var n=this.getNamedImageAssetComponent(e);return n?this.composite.getImageComponentHref(n,t):i.reject("UserProfile: no component found for "+e)}})}.apply(t,n))||(e.exports=o)},394:function(e,t){e.exports="<style>\n    {{#assets}}\n    #{{id}} {\n        {{^hideAssetUntilLoaded}}\n        {{^rendition}}\n        background-image: url('{{{url}}}.{{fileType}}');\n        {{/rendition}}\n        {{#rendition}}\n        background-image: url('{{{.}}}');\n        {{/rendition}}\n        {{/hideAssetUntilLoaded}}\n        {{#hwar}}\n        padding-top: {{.}};\n        {{/hwar}}\n        {{#w}}\n        width: {{.}};\n        {{/w}}\n        {{#h}}\n        height: {{.}};\n        {{/h}}\n    }\n\n    {{/assets}}\n    @media\n        only screen and (-webkit-min-device-pixel-ratio: 1.5),\n        only screen and (min--moz-device-pixel-ratio: 1.5),\n        only screen and (-o-min-device-pixel-ratio: 1.5/1),\n        only screen and (min-device-pixel-ratio: 1.5),\n        only screen and (min-resolution: 192dpi),\n        only screen and (min-resolution: 1.5dppx) {\n\n        {{#assets}}\n        #{{id}} {\n            {{^hideAssetUntilLoaded}}\n            {{^rendition}}\n            background-image: url('{{{url}}}@2x.{{fileType}}');\n            {{/rendition}}\n            {{#rendition2x}}\n            background-image: url('{{{.}}}');\n            {{/rendition2x}}\n            {{/hideAssetUntilLoaded}}\n        }\n        {{/assets}}\n</style>\n"},395:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzgiIGhlaWdodD0iMzMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDggOCI+PHBhdGggZD0iTTYuNDEgMWwtLjY5LjcyTDIuOTQgNC41bC0uODEtLjc4TDEuNDEgMyAwIDQuNDFsLjcyLjcyIDEuNSAxLjUuNjkuNzIuNzItLjcyIDMuNS0zLjUuNzItLjcyTDYuNDEgMXoiIGZpbGw9IiMzNTQxNGMiLz48L3N2Zz4K"},396:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(4),i(2)],void 0===(o=function(e,t,i,n,o){"use strict";var r=null,a={},s={},l={},d={Advertisement:{title:"Advertisement",iconURL:"/images/examples/flyer-lt.svg"},Announcement:{title:"Announcement",iconURL:"/images/examples/announcement-lt.svg"},"Animated Story":{title:"Animated Story",iconURL:"/images/examples/announcement-lt.svg"},Article:{title:"Article",iconURL:"/images/examples/webpage-lt.svg"},Brochure:{title:"Brochure",iconURL:"/images/examples/brochure-lt.svg"},Catalog:{title:"Catalog",iconURL:"/images/examples/catalog-lt.svg"},"Did You Know":{title:"Did You Know",iconURL:"/images/examples/flyer-lt.svg"},"Explainer/How To":{title:"Explainer/How To",iconURL:"/images/examples/flyer-lt.svg"},"Event Recap":{title:"Event Recap",iconURL:"/images/examples/flyer-lt.svg"},"Facebook Cover":{title:"Facebook Cover",iconURL:"/images/examples/flyer-lt.svg"},"Facts and Figures":{title:"Facts and Figures",iconURL:"/images/examples/flyer-lt.svg"},"For Fun":{title:"For Fun",iconURL:"/images/examples/flyer-lt.svg"},Flyer:{title:"Flyer",iconURL:"/images/examples/flyer-lt.svg"},Fundraiser:{title:"Fundraiser",iconURL:"/images/examples/fundraiser-lt.svg"},Greeting:{title:"Greeting",iconURL:"/images/examples/flyer-lt.svg"},"Hero Image":{title:"Hero Image",iconURL:"/images/examples/flyer-lt.svg"},Invitation:{title:"Invitation",iconURL:"/images/examples/flyer-lt.svg"},Lesson:{title:"Lesson",iconURL:"/images/examples/school-lt.svg"},"Linkedin Cover":{title:"Linkedin Cover",iconURL:"/images/examples/school-lt.svg"},Meme:{title:"Meme",iconURL:"/images/examples/flyer-lt.svg"},Newsletter:{title:"Newsletter",iconURL:"/images/examples/newsletter-lt.svg"},"Personal Story":{title:"Personal Story",iconURL:"/images/examples/photoessay-lt.svg"},"Photo Journal":{title:"Photo Journal",iconURL:"/images/examples/photoessay-lt.svg"},"Photo Story":{title:"Photo Story",iconURL:"/images/examples/photoessay-lt.svg"},Presentation:{title:"Presentation",iconURL:"/images/examples/presentation-lt.svg"},Pitch:{title:"Pitch",iconURL:"/images/examples/presentation-lt.svg"},Portfolio:{title:"Portfolio",iconURL:"/images/examples/flyer-lt.svg"},Resume:{title:"Resume",iconURL:"/images/examples/newsletter-lt.svg"},Recipe:{title:"Recipe",iconURL:"/images/examples/newsletter-lt.svg"},Report:{title:"Report",iconURL:"/images/examples/newsletter-lt.svg"},"Sales Promotion":{title:"Sales Promotion",iconURL:"/images/examples/flyer-lt.svg"},"Social Cause":{title:"Social Cause",iconURL:"/images/examples/newsletter-lt.svg"},"Social Graphic":{title:"Social Graphic",iconURL:"/images/examples/newsletter-lt.svg"},"Social Newsletter":{title:"Social Newsletter",iconURL:"/images/examples/newsletter-lt.svg"},School:{title:"School",iconURL:"/images/examples/school-lt.svg"},Testimonial:{title:"Testimonial",iconURL:"/images/examples/photoessay-lt.svg"},"Training Material":{title:"Training Material",iconURL:"/images/examples/photoessay-lt.svg"},"Travel Journal":{title:"Travel Journal",iconURL:"/images/examples/photoessay-lt.svg"},"Twitter Cover":{title:"Twitter Cover",iconURL:"/images/examples/photoessay-lt.svg"},Webpage:{title:"Webpage",iconURL:"/images/examples/webpage-lt.svg"},Whitepaper:{title:"Whitepaper",iconURL:"/images/examples/webpage-lt.svg"},Quote:{title:"Quote",iconURL:"/images/examples/flyer-lt.svg"}};function c(e){switch(e.type){case"theo":e.uri=e.imageURI||e.thumbURI;break;case"voice":e.uri=e.embedURI,e.uri||(e.uri="https://cc-api-cp.adobe.io/api/v2/voice/assets/"+e.alias+"/video/embed?api_key=LucaApp1");break;case"slate":e.uri=n.slateExampleServer+e.alias+"/"}a[e.alias]=e}return new(o.Model.extend({getUseCase:function(e){return d[e]},fetch:function(){e.ajax({method:"GET",url:"/examples/favorites",success:function(e){var i=e;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){window.marvel.logger.error("JSON parse failed when fetching list of examples and categories "+e),r.reject(e)}t.each(i.categories,(function(e){e&&e.slug&&(s[e.slug]=e)})),t.each(i["favorite-examples"],(function(e){e&&e.alias&&c(e)})),r.resolve()},error:function(e){window.marvel.logger.error("Failed to load favorite examples data "+e.status,e),r.reject(e.status)}})},loaded:function(){return r||(r=i.defer(),this.fetch()),r.promise},fetchByExample:function(t){var n=i.defer();return e.ajax({method:"GET",url:"/examples/detail/"+t,success:function(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return window.marvel.logger.error("JSON parse failed when fetching specific example "+e),n.reject(e)}c(t),n.resolve(t)},error:function(e){window.marvel.logger.error("Failed to load example ["+t+"] data "+e.status,e),n.reject(e.status)}}),n.promise},getExamplesForType:function(e){return this.loaded().then((function(){return t.filter(a,(function(t){return t.type==e}))}))},getExamplesForTypeSample:function(e,i){return this.getExamplesForType(e).then((function(e){return t.sampleSize(e,i)}))},getExample:function(e){return a[e]?i.resolve(a[e]):(l[e]||(l[e]=this.fetchByExample(e)),l[e])},getCategories:function(){return this.loaded().then((function(){return s}))},getCategory:function(e){return this.getCategories().then((function(i){var n=null;return t.each(i,(function(t){t.slug===e&&(n=t)})),n}))},getCategoriesForNPWOverlay:function(){return this.getCategories().then((function(e){var i=t.filter(e,(function(e){return e.listedInNPWOverlay}));return i.sort((function(e,t){return e.name.localeCompare(t.name)})),i}))},getSubCategories:function(e){return this.getCategories().then((function(i){var n=t.filter(i,(function(t){return t.subcategory==e}));return n.sort((function(e,t){return e.name.localeCompare(t.name)})),n}))},getCategoryFavorites:function(e){return this.getCategory(e).then(function(e){var n=[],o=[];return t.each(e.favorites,function(e){var t=o.length;o[t]="placeholder",n.push(this.getExample(e).then((function(e){return o[t]=e,e})))}.bind(this)),i.allSettled(n).then((function(){return o}))}.bind(this))}}))}.apply(t,n))||(e.exports=o)},397:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(9),i(255),i(10),i(30),i(94),i(4),i(398),i(399),i(400),i(401),i(402),i(403),i(405),i(8),i(63),i(45),i(16),i(87)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v,b,w,k,x,y){"use strict";var S=new s.default({color:"aqua",name:"upgrade-view"}),_=[],C=i.View.extend({events:{"click .plan-buy-button":"offerButtonClick","click .view-plans-button":"viewPlansButtonClick","click .plan-get-started-button":"offerButtonClick","click .upgrade-view-close-btn":"handleCloseUpgradeView","click a":"handleAnchorClick","click .plan-see-hide-features":"handleShowFeatures"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._controller=e.controller,this._browserStorage=new k("sessionStorage"),this._plansSectionTemplate={},this._pageVariant={}},_plans:{},_getTermInfo:function(e){return this._plans.termMap[e]},_getCommitmentTermInfo:function(e){return this._plans.commitmentAndTermMap[e]},_combineNames:function(e){var t="";if(e.length)if(1===e.length)t=e[0];else if(2===e.length)t=e[0]+" and "+e[1];else{var i;for(i=0;i<e.length-1;i++)t+=e[i]+", ";t+="and "+e[i]}return t},handleViewTransitionEnd:function(i){this._viewOverlay$.addClass("hide"),this._isView&&e(document.body).removeClass("no-scroll-upgrade-view"),t.each(_,(function(t){e(document.body).removeClass(t)}))},handleCloseUpgradeView:function(e){e&&!this._hidePlans&&this.sendPlanAnalytic("dismissPurchasePanel",{reason:"cancel"}),marvel._dialogShowing=!1,window.marvel.events.dialogClosed(),this._viewOverlay$.one("transitionend.upgradeview",this.handleViewTransitionEnd),this.needsShowing$.removeClass("showing"),e&&this._controller.upgradeViewClosed()},handleShowFeatures:function(t){t.preventDefault();var i=e(t.currentTarget),n=i.children().first();n.text().trim()===x.getString("upgrade-see-details")?(n.text(x.getString("upgrade-hide-details")),i.removeClass("see-details")):(n.text(x.getString("upgrade-see-details")),i.addClass("see-details"));var o=i.data("planclassname");e(".plan-features-"+o).toggle()},sendAnalytic:function(e,t){"string"==typeof(e=e||{})&&(e={type:e}),e.workflow=this.workflow,r.trackEvent("plansPageEvent",e,null,t)},sendPlanAnalytic:function(e,i,n){var o=this._controller.getUserAnalytics();(i=t.assign({},{trigger:this.workflow,context:this._pageVariant&&this._pageVariant.id||"unknown"},i||{},o,this._plansShowingAnalytics||{})).showingPlans&&(i.showingPlans=i.showingPlans.join(",")),r.trackEvent(e,i,null,n)},handleAnchorClick:function(t){var i=e(t.currentTarget),n=i.attr("href");if("#"===n.charAt(0))t.preventDefault(),this.scrollToElement(n);else{var o;if(i.data("app")){i.hasClass("download-app-store-button");var r=i.hasClass("download-google-play-button");i.hasClass("about-app");o={type:r?"androidAppClick":"iosAppClick",id:i.data("analytics")}}o?this.sendAnalytic(o):i.hasClass("landing-plans-edu-link")?this.sendPlanAnalytic("plansPageLinkClick:eduLink"):i.hasClass("landing-plans-cc-premium-info-link")&&this.sendPlanAnalytic("plansPageLinkClick:ccPremiumInfokLink")}},setupPlanDiv:function(i){if(this._plansShowingAnalytics.showingPlans.push(i.id),i.recommended&&(this._plansShowingAnalytics.recommended=i.id),i.div$.data("plan",i),i.price$=i.div$.find(".plan-price"),t.each(i.price$,(function(t){var n=i.offersById[e(t).data("offer")];e(t).data("offer",n)})),i.items&&i.items.length>1||i.apps)if(i.offersDropdown=new a(i.div$.find(".plan-dropdown"),i.dropdownOptions),i.apps){var n=i.div$.find(".single-app-dropdown");i.appsDropdownOptions.placeholderText=n.attr("placeholder")||x.getString("upgrade-select-application"),i.appsDropdown=new a(n,i.appsDropdownOptions),n.removeClass("hide"),i.defaultPrice&&(i.defaultPrice.div$=i.div$.find(".default-price-holder .plan-price"),i.defaultPrice.div$.addClass("selected")),i.appsDropdown.render()}else i.offersDropdown.render();else i.div$.addClass("single-offer");i.defaultOfferId&&this.setPlanOffer(i,i.defaultOfferId)},setPlanApp:function(e,i,n){var o,r=e.apps[i],a=e.selectedOfferTerms||e.defaultOfferTerms[0];t.find(r.offers,function(e){if(e.termsId===a)return o=e,!0}.bind(this)),o?e.selectedOfferTerms=o.termsId:t.find(e.defaultOfferTerms,function(t){var i=e.offersInfo.offerIdsByTerms[t];if(i)return o=i,!0}.bind(this)),e.selectedApp||(e.div$.find(".plan-pricing-area").removeClass("hide"),e.defaultPrice&&e.defaultPrice.div$.removeClass("selected")),e.selectedApp=r,e.offersDropdown.renderItems(r.offersInfo.dropdownItems,o.offerId),this.setPlanOffer(e,o)},setPlanOffer:function(i,n,o){if(i.showFreeText)return i.div$.addClass("free"),void(i.selectedOffer=n);var r;"string"==typeof n&&(n=i.offersById[n]),r=n.priceDisplay.price<=0&&!n.trial&&!n.promotion,i.selectedPrice$&&i.selectedPrice$.removeClass("selected"),t.find(i.price$,(function(t){if(e(t).data("offer")===n)return i.selectedPrice$=e(t),!0})),i.selectedPrice$.addClass("selected"),i.selectedOffer=n,r?i.div$.addClass("free"):i.div$.removeClass("free"),o&&i.apps&&(i.selectedOfferTerms=n.termsId)},offerDropdownOnChange:function(e,t){this.setPlanOffer(e.options.plan,t,!0)},appDropdownOnChange:function(e,t){this.setPlanApp(e.options.plan,t,!0)},_getTermsPriceLineString:function(e){var t={commitment:x.getString(this._getTermInfo(e.commitment).commitment),commitmentAndTerms:x.getString(this._getCommitmentTermInfo(e.termsId))};return"mm"!==e.termsId&&(t.billing=x.getString(this._getTermInfo(e.term).billed)),t},_getOfferDropdownOption:function(e){var t=e.priceDisplay,i=this._getTermsPriceLineString(e),n=this.getMenuPriceLine(t,i);return{id:e.offerId,name:n.line,buttonText:n.buttonText}},getOffersInfo:function(e){var i={dropdownItems:[],offerIdsByTerms:{}};return t.each(e,function(e){i.offerIdsByTerms[e.termsId]=e.offerId,i.dropdownItems.push(this._getOfferDropdownOption(e))}.bind(this)),i},_initPlans:function(e){this.countryInfo=e.plansData.countryInfo;var i=[],n={};this.planDivHasExtraHeight=!1,t.each(e.plansData.orderedPlans,function(o){o.supertitle=o.supertitle,o.title=x.getString(o.title),o.subtitle=x.getString(o.subtitle),o.upgradeButtonText=x.getString(o.upgradeButtonText),o.trialSettings&&o.trialSettings.titleStringId?(o.trialTitle=x.getString(o.trialSettings.titleStringId),o.isTrial=!0,this.planDivHasExtraHeight=!0):o.promoSettings&&o.promoSettings.titleStringId&&(o.promoTitle=x.getString(o.promoSettings.titleStringId),o.isPromo=!0),o.promotion&&o.promotion.term_value&&(o.promotionTermValue=o.promotion.term_value),o.promotion&&o.promotion.term_unit&&(o.promotionTermUnit=x.getString(o.promotion.term_unit)),o.promotion&&o.promotion.promotion_type&&(o.promotionType=o.promotion.promotion_type),t.isObject(e.pageVariant)&&t.isObject(e.pageVariant.plans)&&t.isObject(e.pageVariant.plans[o.id])&&(o=t.assign({},o,e.pageVariant.plans[o.id])),o.hide||(i.push(o),n[o.id]=o),!0===o.hasAdminFeatures&&(e.plansData.hasAdminFeatures=!0)}.bind(this)),e.plansData.orderedPlans=i,this._plansById=n,this._plans=e.plansData,this._plans.orderedPlans=i},getMenuPriceLine:function(e,t){return e.terms=t,{line:x.mustacheRender(this.menuLineTemplate,e),buttonText:t.commitmentAndTerms||t.commitment}},initPlansDisplay:function(){var i=this.plans$.find(".inner");t.each(i,function(t){var i=e(t),n=i.data("plan"),o=this._plansById[n];o&&(o.div$=i)}.bind(this)),this._plansShowingAnalytics={showingPlans:[],recommended:"none"},t.each(this._plans.orderedPlans,function(e){if(e.apps||e.offers)if(e.items=[],e.dropdownOptions={items:[],defaultValue:e.defaultOfferId,onchangeCallback:this.offerDropdownOnChange.bind(this),plan:e,checkmarkStyle:"use-checkmark",widthSetByStyle:!0,centerAlignIfWider:!0,minWidthAlignTarget:!0},e.offers)t.each(e.offers,function(t){e.items.push({offerId:t.offerId,isSpark:t.isSpark,quantity:t.quantity||1}),e.dropdownOptions.items.push(this._getOfferDropdownOption(t))}.bind(this));else if(e.apps){var i=e.apps;e.apps={},e.appsDropdownOptions={items:[],defaultValue:e.defaultOfferId,onchangeCallback:this.appDropdownOnChange.bind(this),plan:e},t.each(i,function(t){t.id=t.id||t.name,e.apps[t.id]=t,e.appsDropdownOptions.items.push({id:t.id,name:t.name}),t.offersInfo=this.getOffersInfo(t.offers)}.bind(this))}this.setupPlanDiv(e)}.bind(this))},renderInApp:function(e){window.marvel.events.dialogShown("upgrade"),this._viewOverlay$=e.parent$,this._isView=!0,this.renderOptions(e)},renderInLanding:function(e){this._isView=!1,this.renderOptions(e)},_renderPageVariant:function(t){var i=e(".mrvl-mrkt-nav-start-now");t.pageVariant.addBuyNowToNavBar&&(i.text(x.getString(t.pageVariant.upgradeButtonText)),i.css("width","100px"),i.on("click",(function(t){t.preventDefault(),e(".plan-buy-button")[0].click()}))),t.pageVariant&&e(document.body).addClass(t.pageVariant.cssId),t.robotsMetaContent&&e("head").append('<meta name="robots" content="'+t.robotsMetaContent+'"')},_renderView:function(t){this.workflow=t.workflow,this._hidePlans=t.hidePlans,this.setElement(t.parent$),this.renderPlans(t),t.hasPlansAtTop?this.$el.addClass("plans-page-plans-top"):this.$el.removeClass("plans-page-plans-top"),this._renderPageVariant(t);t.jumpToAnchor&&this.scrollToElement(t.jumpToAnchor,{fromLoad:!0}),t.hidePlans?this.sendAnalytic("viewedPlansPageNoPlans"):this.sendPlanAnalytic("displayPurchasePanel"),e(".fouc").removeClass("fouc")},_loadTarget:function(e){return n.Promise((function(t,i){window.adobe&&window.adobe.target?window.adobe.target.getOffer({mbox:c.upgradeMboxName,params:{touchpointName:e.workflow,srcUrl:encodeURI(window.location.pathname),returnHost:window.location.host},success:function(e){window.adobe.target.applyOffer({mbox:c.upgradeMboxName,offer:e}),t()},error:function(e,i){S.warn("Failed to load target!",{status:e,error:i}),t()}}):(S.debug("Target disabled or not available, not using it."),t())}))},_getPageVariant:function(e){this._allowedVariants=e.plansData.allowedVariants||e.allowedVariants;var i=this._browserStorage.get("paid_traffic_source"),n=window.location.pathname.split("/");if(n.length>=3){var o=n[n.length-1];if(this._allowedVariants.hasOwnProperty(o))return this._browserStorage.set("paid_traffic_source",o),this._allowedVariants[o]}return!t.isEmpty(i)&&this._allowedVariants.hasOwnProperty(i)?this._allowedVariants[i]:e.plansData.pageVariant},shouldExcludeFromSparkRunExperiment:function(e){return e.hidePlans||e.marketingTouchpointCTA||e.jumpToAnchor||this._browserStorage.get("paid_traffic_source")&&0===this._browserStorage.get("paid_traffic_source").indexOf("gmo")||-1!==window.location.pathname.search(/gmo/i)},isAtMarketingTouchpoint:function(e){return e.marketingTouchpointCTA||e.jumpToLearnMore},renderOptions:function(e){var i=t.cloneDeep(e);i.pageVariant=i.plansData.pageVariant,this._pageVariant=i.pageVariant;var o=[this._controller.loadCommerceForView(),this._controller.loadTrackingBeaconForView()];n.allSettled(o).then(function(){this.isAtMarketingTouchpoint(i)?(i.pageVariant=this._getPageVariant(i),this._pageVariant=i.pageVariant,i.showViewPlansLink=!1,this._renderView(i)):this._loadTarget(i).then(function(){i.showViewPlansLink=!0,i.hasPlansAtTop=!0,this._renderView(i)}.bind(this)).done()}.bind(this)).done()},_initMainVideo:function(){var e=this.$el.find(".plans-video-viewer");if(e.length){var t=e.find("iframe");e.find(".close-button").on("click",function(){return e.addClass("hide"),t[0].contentWindow.postMessage('{"event":"command","func":"pauseVideo"}',"https://www.youtube.com"),this.$el.removeClass("showing-hero-video"),!1}.bind(this)),this.$el.find(".watch-plans-video-button").on("click",function(i){e.removeClass("hide");var n=t.attr("data-src");return t[0].src=n+"&autoplay=1",this.$el.addClass("showing-hero-video"),!1}.bind(this))}},render:function(){return this.$el.length&&this.$el.parent().length||this.setElement(e(document.body).find(".landing-plans-view")),this.$el.html(this._rendered_template),this.page$=this.$el,this.plans$=this.page$.find(".list-of-plans"),this.planDivHasExtraHeight&&this.plans$.addClass("has-extra-height"),this._isView?(this.needsShowing$=this.$el.filter(".needs-showing").add(this.$el.find(".needs-showing")),this._viewOverlay$.removeClass("hide"),t.delay(function(){this.needsShowing$.addClass("showing")}.bind(this),5),this.scroller$=this.$el,e(document.body).addClass("no-scroll-upgrade-view")):this.scroller$=e(window),this.initPlansDisplay(),this._isView||this.$el.removeClass("hide"),this._initMainVideo(),this.brandsExamplesView?this.brandsExamplesView.setElement(this.$el.find(".brands-examples-view-holder")):this.brandsExamplesView=new v({el:this.$el.find(".brands-examples-view-holder"),model:new i.Model({parentWorkflow:this.workflow,pickerOnTop:!0,parentZIndex:1*this.$el.css("z-index")||0})}),this.brandsExamplesView.render(),this},_getPartialsForPageVariant:function(e){var i=u;return!t.isEmpty(e)&&this._plansSectionTemplate.hasOwnProperty(e.id)&&(i=this._plansSectionTemplate[e.id]),{"plans-plans-section":i}},renderPlans:function(e){this._initPlans(e);var i,n={plansData:e.plansData,showViewPlansLink:e.showViewPlansLink,upgradeButtonText:x.getString(e.pageVariant.upgradeButtonText),pricingVariantSubUrl:e.pageVariant.pricingVariantSubUrl,hidePlansPricingCTA:e.pageVariant.hidePlansPricingCTA,getStartedButtonText:x.getString(e.pageVariant.getStartedButtonText),isInAppView:this._isView,hideAllPlans:e.hidePlans,ccPlansLink:e.plansData.ccPlansLink,eduLink:y.getLocalizedURL(e.plansData.eduLink,x.getLocale()),ccPremiumInfoLink:x.formatMessage(e.plansData.ccPremiumInfoLink,{"zendesk-locale":x.getZendeskLocale()}),eduPhoneNumber:e.plansData.eduPhoneNumber,enterprisePhoneNumber:e.plansData.enterprisePhoneNumber,promoTermsLink:e.plansData.promoTermsLink,teamPromoTermsLink:e.plansData.promoTermsLink,trialTermsLink:e.plansData.trialTermsLink,customerServicePhoneNumber:e.plansData.customerServicePhoneNumber,enterpriseLink:y.getLocalizedURL(e.plansData.enterpriseLink,x.getLocale()),showCCPremiumInfo:e.plansData.showCCPremiumInfo,platformInfo:d.getPlatformInfo()},o=this._getPartialsForPageVariant(e.pageVariant);i=n.hideAllPlans?{}:t.extend({"plans-plans":h,"plans-plans-section":u,"plan-price-display":g},o);var r=p;this.menuLineTemplate=m,this._rendered_template=x.mustacheRender(r,n,i),this.render()},showAlert:function(e,t){return window.marvel._isInApp?l.showAlert(e,t):(alert(t),n())},viewPlansButtonClick:function(e){this.sendPlanAnalytic("pricing:viewPlansClicked")},offerButtonClick:function(t){var i=e(t.target).closest(".inner").data("plan");if(i.selectedOffer){var n=i.selectedOffer.offerId,o=i.div$.hasClass("free"),r=i.productCode,a=function(){this._controller.handleUserClicksToPurchasePlan({offerId:n,quantity:i.quantity,isSpark:i.selectedOffer.isSpark,countryCode:this.countryInfo.countryCode,languageCode:this.countryInfo.locale,isSparkFree:o,productId:r,pricePoint:i.selectedOffer.pricePoint,workflow:this.workflow,view:this._isView&&this,ucReturnUrl:i.ucReturnUrl})}.bind(this);if(o)this.sendPlanAnalytic("dismissPurchasePanel",{reason:"get-started"},a);else{var s={productId:r,customerSegment:i.selectedOffer.segment,offerTerm:this._plans.termsInfo.termsToTermId[i.selectedOffer.term],offerCommitment:this._plans.termsInfo.termsToTermId[i.selectedOffer.commitment],offerId:n};this.sendPlanAnalytic("beginPurchaseFlow",s,a)}}else this.showAlert(x.getString("upgrade-error-title-plans"),x.getString("upgrade-error-text-select-offer")).done()},scrollToElement:function(i,n){var o;if(n=n||{},"#plans"===i&&this._plans.orderedPlans.length){var r,a=t.find(this._plans.orderedPlans,(function(e){if(e.recommended)return e;r||"SPK.FREE"===e.id||(r=e)}));o=a?a.div$:this.$el.find(i)}else try{o="string"==typeof i?this.$el.find(i):i}catch(e){}o&&o.length||(o=this.$el.find("div:first")),this._isView||(n.fromLoad?this._scrollBound||(this._scrollBound=!0,this._scrollCap=this._scrollCap.bind(this),this._clearScrollCap=this._clearScrollCap.bind(this)):this._lastJumpTime&&e(window).off("scroll.uc",this._scrollCap));var s,l=o.offset().top-(this.scroller$.offset()||{top:0}).top,d=this.scroller$.scrollTop();if(this._isView)s=l+d;else{s=l-66}this.scroller$.scrollTop(s),o.focus(),n.fromLoadFix||n.fromLoad&&!this._isView&&(this._lastScrollTo=i,this._lastJumpTime=Date.now(),t.delay(function(){e(window).one("scroll.uc",this._scrollCap),e(document.body).one("wheel.uc",this._clearScrollCap.bind(this)),e(document.body).one("mousedown.uc",this._clearScrollCap.bind(this))}.bind(this)))},_clearScrollCap:function(){this._lastJumpTime&&(this._lastJumpTime=0,e(window).off("scroll.uc",this._scrollCap))},_scrollCap:function(t){this._lastJumpTime&&(this.scrollToElement(this._lastScrollTo,{fromLoadFix:!0}),Date.now()-this._lastJumpTime<1e4&&e(window).one("scroll.uc",this._scrollCap))}});return C.getPricePartials=function(){return{"plan-price-display":g}},C}.apply(t,n))||(e.exports=o)},398:function(e,t){e.exports='{{#isInAppView}}\n    <div class="upgrade-overlay">\n{{/isInAppView}}\n    <div class="landing-plans-sections">\n        {{> plans-plans-section }}\n\n        <div class="plans-blurb-section plans-page-section">\n            <div class="blurb-row-holder stunning-graphics">\n                <div class="blurb-row  stunning-graphics">\n                    <div class="blurb-text">\n                        <div class="blurb-text-inner">\n                            <div class="blurb-text-inner-inner">\n                                <h3 class="blurb-title">{{upgrade-plan-section2-title}}</h3>\n                                <p class="blurb-blurb-text">{{upgrade-plan-section2-subtitle}}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="blurb-video">\n                        <video src="/images/pricing/v2/feature1.mp4" poster="/images/pricing/v2/feature1.png" loop muted\n                               autoplay id="pricing-feature1" class="stunning-graphics-video"></video>\n                    </div>\n                </div>\n                <div class="feature-row-holder stunning-graphics">\n                    <div class="content">\n                        <h3>{{upgrade-plan-section2-content1-title}}</h3>\n                        <p>{{upgrade-plan-section2-content1-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section2-content2-title}}</h3>\n                        <p>{{upgrade-plan-section2-content2-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section2-content3-title}}</h3>\n                        <p>{{upgrade-plan-section2-content3-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section2-content4-title}}</h3>\n                        <p>{{upgrade-plan-section2-content4-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section2-content5-title}}</h3>\n                        <p>{{upgrade-plan-section2-content5-subtitle}}</p>\n                    </div>\n                </div>\n            </div>\n\n            <div class="blurb-row-holder express">\n                <div class="blurb-row express">\n\n                    <div class="blurb-text">\n                        <div class="blurb-text-inner">\n                            <div class="blurb-text-inner-inner">\n                                <h3 class="blurb-title">{{upgrade-plan-section3-title}}</h3>\n                                <p class="blurb-blurb-text">{{upgrade-plan-section3-subtitle}}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="blurb-video">\n                        <video src="/images/pricing/v2/feature2.mp4" poster="/images/pricing/v2/feature2.png" loop muted\n                               autoplay id="pricing-feature2" class="express-video"></video>\n                    </div>\n                </div>\n                <div class="feature-row-holder express">\n                    <div class="content">\n                        <h3>{{upgrade-plan-section3-content1-title}}</h3>\n                        <p>{{upgrade-plan-section3-content1-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section3-content2-title}}</h3>\n                        <p>{{upgrade-plan-section3-content2-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section3-content3-title}}</h3>\n                        <p>{{upgrade-plan-section3-content3-subtitle}}</p>\n                    </div>\n                </div>\n            </div>\n\n            <div class="blurb-row-holder work">\n                <div class="blurb-row work">\n                    <div class="blurb-text">\n                        <div class="blurb-text-inner">\n                            <div class="blurb-text-inner-inner">\n                                <h3 class="blurb-title">{{upgrade-plan-section4-title}}</h3>\n                                <p class="blurb-blurb-text">{{upgrade-plan-section4-subtitle}}</p>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="blurb-video">\n                        <video src="/images/pricing/v2/feature3.mp4" poster="/images/pricing/v2/feature3.png" loop muted\n                               autoplay id="pricing-feature3" class="work-video"></video>\n                    </div>\n                </div>\n\n                <div class="feature-row-holder work">\n                    <div class="content">\n                        <h3>{{upgrade-plan-section4-content1-title}}</h3>\n                        <p>{{upgrade-plan-section4-content1-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section4-content2-title}}</h3>\n                        <p>{{upgrade-plan-section4-content2-subtitle}}</p>\n                    </div>\n                    <div class="content">\n                        <h3>{{upgrade-plan-section4-content3-title}}</h3>\n                        <p>{{upgrade-plan-section4-content3-subtitle}}</p>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        {{#showViewPlansLink}}\n            <a name="plans-plans" href="#plans-plans"\n               class="sp-cta-button-secondary hero-button view-plans-button">{{upgrade-view-plans}}</a>\n        {{/showViewPlansLink}}\n    </div>\n{{#isInAppView}}\n        <button class="upgrade-view-close-btn x-close-btn needs-showing"\n                data-auto="upgrade-view-close-button"></button>\n{{/isInAppView}}\n\n</div>\n'},399:function(e,t){e.exports='<ul class="list list-of-plans{{^plansData.hasAdminFeatures}} no-admin-features{{/plansData.hasAdminFeatures}}{{#plansData.somePlansHaveApps}} has-apps{{/plansData.somePlansHaveApps}} number-of-plans-{{plansData.numberOfPlans}}"\n    id="plans" name="plans">\n    {{#plansData}}\n        {{#orderedPlans}}\n            <li class="inner{{#recommended}} recommended{{/recommended}}{{#discounted}} discounted{{/discounted}} {{#trial}} trial{{/trial}}"\n                data-plan="{{id}}">\n                <span class="recommended recommended-only">{{upgrade-recommended-text}}</span>\n                {{#promoTitle}}\n                <span class="discounted discounted-only">{{promoTitle}}</span>\n                {{/promoTitle}}\n                {{#trialTitle}}\n                    <span class="trial trial-only">{{trialTitle}}</span>\n                {{/trialTitle}}\n                <div class="plan-info{{#recommended}} recommended-plan-info{{/recommended}}">\n                    <div class="plan-info-header {{#recommended}} recommended-plan-info-header{{/recommended}}">\n                        <div class="plan-supertitle">{{#supertitle}}{{.}}{{/supertitle}}</div>\n                        <div class="plan-title">{{title}}</div>\n\n                        {{#image}}\n                            <div class="plan-image {{planClassName}}">\n                                <img src="{{{.}}}"/>\n                            </div>\n                        {{/image}}\n\n                        <div class="plan-subtitle">{{{subtitle}}}</div>\n                        {{^showFreeText}}\n                            <div class="plan-pricing-area{{#hasSpecialOffers}} has-special-offers{{/hasSpecialOffers}}">\n                                {{#offers}}\n                                    {{> plan-price-display }}\n                                {{/offers}}\n                                {{#defaultPrice}}\n                                    <div class="default-price-holder">\n                                        {{> plan-price-display }}\n                                    </div>\n                                {{/defaultPrice}}\n                                {{#apps}}\n                                    {{#offers}}\n                                        {{> plan-price-display }}\n                                    {{/offers}}\n                                {{/apps}}\n\n                                <div class="plan-dropdown-area">\n                                    {{#hasApps}}\n                                        <div class="single-app-dropdown hide"\n                                             placeholder="{{upgrade-select-application}}"></div>\n                                    {{/hasApps}}\n                                    <div class="plan-dropdown"></div>\n                                </div>\n                            </div>\n\n                        {{/showFreeText}}\n                        {{#showFreeText}}\n                            <div class="plan-pricing-area simply-free">\n                                <div class="free-text is-free">{{upgrade-show-free-text-free}}</div>\n                                <div class="free-text no-credit-card-required">{{upgrade-show-free-text-credit-card}}</div>\n                            </div>\n                        {{/showFreeText}}\n                        <button class="plan-buy-button sp-cta-button-primary">{{upgradeButtonText}}</button>\n                    </div>\n                    <div class="plan-see-hide-features see-details" data-planClassName="{{planClassName}}">\n                        <div class="plan-see-hide-features-label">\n                            {{upgrade-see-details}}\n                        </div>\n                        <div class="plan-see-hide-features-arrow" />\n                    </div>\n\n                    <ul class="plan-info-features plan-features-{{planClassName}}">\n                        <li class="check-plan-has-feature {{#hasFeatureUseStunningImages}} checked{{/hasFeatureUseStunningImages}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureInviteOthers}} checked{{/hasFeatureInviteOthers}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureCreateUniqueDesigns}} checked{{/hasFeatureCreateUniqueDesigns}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureRemoveWatermark}} checked{{/hasFeatureRemoveWatermark}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeaturePersonalizeDesigns}} checked{{/hasFeaturePersonalizeDesigns}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureSwitchBrands}} checked{{/hasFeatureSwitchBrands}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureDesignFromTemplates}} checked{{/hasFeatureDesignFromTemplates}}"></li>\n                        <li class="check-plan-has-feature {{#hasFeatureAdobeFonts}} checked{{/hasFeatureAdobeFonts}} no-bottom-border"></li>\n\n                        {{#plansData.hasAdminFeatures}}\n                            <li class="space divider"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureConsolidateBilling}} checked{{/hasFeatureConsolidateBilling}}"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureReassignLicenses}} checked{{/hasFeatureReassignLicenses}}"></li>\n                            <li class="check-plan-has-feature {{#hasFeatureDedicatedTechnicalSupport}} checked{{/hasFeatureDedicatedTechnicalSupport}}"></li>\n                        {{/plansData.hasAdminFeatures}}\n\n                        {{#hasFeatureUseStunningImages}}\n                            <li class="plan-feature named-plan-feature use-stunning-images">\n                                <div>\n                                    {{upgrade-feature-use-stunning-images}}\n                                </div>\n                            </li>\n                        {{/hasFeatureUseStunningImages}}\n\n                        {{#hasFeatureInviteOthers}}\n                            <li class="plan-feature named-plan-feature invite-others">\n                                <div>\n                                    {{upgrade-feature-invite-others}}\n                                </div>\n                            </li>\n                        {{/hasFeatureInviteOthers}}\n\n                        {{#hasFeatureCreateUniqueDesigns}}\n                            <li class="plan-feature named-plan-feature create-unique-designs">\n                                <div>\n                                    {{upgrade-feature-create-unique-designs}}\n                                </div>\n                            </li>\n                        {{/hasFeatureCreateUniqueDesigns}}\n\n                        {{#hasFeatureDesignFromTemplates}}\n                            <li class="plan-feature named-plan-feature design-from-templates">\n                                <div>\n                                    {{upgrade-feature-design-from-templates}}\n                                </div>\n                            </li>\n                        {{/hasFeatureDesignFromTemplates}}\n\n                        {{#hasFeaturePersonalizeDesigns}}\n                            <li class="plan-feature named-plan-feature personalize-designs">\n                                <div>\n                                    {{upgrade-feature-personalize-designs}}\n                                </div>\n                            </li>\n                        {{/hasFeaturePersonalizeDesigns}}\n\n                        {{#hasFeatureSwitchBrands}}\n                            <li class="plan-feature named-plan-feature switch-brands">\n                                <span class="new-tag"></span>\n                                <div>\n                                    {{upgrade-feature-switch-brands}}\n                                </div>\n                            </li>\n                        {{/hasFeatureSwitchBrands}}\n\n                        {{#hasFeatureRemoveWatermark}}\n                            <li class="plan-feature named-plan-feature remove-watermark">\n                                <div>\n                                    {{upgrade-feature-remove-watermark}}\n                                </div>\n                            </li>\n                        {{/hasFeatureRemoveWatermark}}\n\n                        {{#hasFeatureAdobeFonts}}\n                            <li class="plan-feature named-plan-feature has-adobe-fonts">\n                                <div>\n                                    {{upgrade-feature-has-adobe-fonts}}\n                                </div>\n                            </li>\n                        {{/hasFeatureAdobeFonts}}\n\n\n                        {{#hasFeatureConsolidateBilling}}\n                            <li class="plan-info-upgrade-admin-label ">{{upgrade-admin-features-label}}</li>\n                            <li class="plan-feature named-plan-feature consolidate-billing admin-feature">\n                                <div>\n                                    {{upgrade-feature-consolidate-billing}}\n                                </div>\n                            </li>\n                        {{/hasFeatureConsolidateBilling}}\n                        {{#hasFeatureReassignLicenses}}\n                            <li class="plan-feature named-plan-feature reassign-licenses admin-feature">\n                                <div>\n                                    {{upgrade-feature-reassign-licenses}}\n                                </div>\n                            </li>\n                        {{/hasFeatureReassignLicenses}}\n                        {{#hasFeatureDedicatedTechnicalSupport}}\n                            <li class="plan-feature named-plan-feature dedicated-tech-support admin-feature">\n                                <div>\n                                    {{upgrade-feature-dedicated-tech-support}}\n                                </div>\n                            </li>\n                        {{/hasFeatureDedicatedTechnicalSupport}}\n                    </ul>\n                </div>\n            </li>\n        {{/orderedPlans}}\n    {{/plansData}}\n</ul>\n\n\n'},400:function(e,t){e.exports='{{^hideAllPlans}}\n    <a name="plans-plans"></a>\n    <div class="landing-plans-plans-wrapper">\n        <div class="landing-plans-plans-wrapper-inner">\n            <div class="landing-plans-plans">\n                <div class="plans-wrapper{{^plansData.hasAdminFeatures}} no-admin-features{{/plansData.hasAdminFeatures}}{{#plansData.somePlansHaveApps}} has-apps{{/plansData.somePlansHaveApps}}">\n                    <div class="plans-wrapper-header">\n                        <h1 class="plans-wrapper-title"><span>{{upgrade-plans-wrapper-title}}&nbsp;</span><div class="brand plans-wrapper-title-item"><span class="hidden team">{{upgrade-plans-wrapper-title-item-team}}</span><span class="hidden marketing">{{upgrade-plans-wrapper-title-item-marketing}}</span><span class="hidden instagram">{{upgrade-plans-wrapper-title-item-instagram}}</span><span class="hidden stories">{{upgrade-plans-wrapper-title-item-stories}}</span><span class="hidden campaign">{{upgrade-plans-wrapper-title-item-campaign}}</span><span class="hidden friends">{{upgrade-plans-wrapper-title-item-friends}}</span><span class="hidden designs">{{upgrade-plans-wrapper-title-item-designs}}</span><span class="hidden brand">{{upgrade-plans-wrapper-title-item-brand}}</span><span class="hidden club">{{upgrade-plans-wrapper-title-item-club}}</span></div></h1>\n                    </div>\n                    <div class="plans-wrapper-features">\n                        <h4 class="upgrade-features-label">{{upgrade-features-label}}</h4>\n                        <ul>\n                            <li class="plan-feature use-stunning-images">\n                                <div>{{upgrade-feature-use-stunning-images}}</div>\n                            </li>\n                            <li class="plan-feature invite-others">\n                                <div>{{upgrade-feature-invite-others}}</div>\n                            </li>\n                            <li class="plan-feature create-unique-designs">\n                                <div>{{upgrade-feature-create-unique-designs}}</div>\n                            </li>\n                            <li class="plan-feature design-from-templates">\n                                <div>{{upgrade-feature-design-from-templates}}</div>\n                            </li>\n                            <li class="plan-feature personalize-designs">\n                                <div>{{upgrade-feature-personalize-designs}}</div>\n                            </li>\n                            <li class="plan-feature switch-brands">\n                                <span class="new-tag">{{upgrade-new-tag}}</span>\n                                <div>{{upgrade-feature-switch-brands}}</div>\n                            </li>\n                            <li class="plan-feature remove-watermark">\n                                <div>{{upgrade-feature-remove-watermark}}</div>\n                            </li>\n                            <li class="plan-feature has-adobe-fonts">\n                                <div>{{upgrade-feature-has-adobe-fonts}}</div>\n                            </li>\n                        </ul>\n                        <h4 class="upgrade-admin-label">{{upgrade-admin-label}}</h4>\n                        <ul>\n                            <li class="plan-feature consolidate-billing admin-feature">\n                                <div>{{upgrade-feature-consolidate-billing}}</div>\n                            </li>\n                            <li class="plan-feature reassign-licenses admin-feature">\n                                <div>{{upgrade-feature-reassign-licenses}}</div>\n                            </li>\n                            <li class="plan-feature dedicated-tech-support admin-feature">\n                                <div>{{upgrade-feature-dedicated-tech-support}}</div>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                {{> plans-plans }}\n                <div class="clear"></div>\n            </div>\n            {{#plansData.hasAdminFeatures}}\n                {{#promoTermsLink}}\n                    <p class="discount-terms-conditions">{{#fmr}}upgrade-discount-terms-conditions{{/fmr}}</p>\n                {{/promoTermsLink}}\n                {{^promoTermsLink}}\n                    {{#trialTermsLink}}\n                        <p class="discount-terms-conditions">{{#fmr}}upgrade-trial-terms-conditions{{/fmr}}</p>\n                    {{/trialTermsLink}}\n                    {{^trialTermsLink}}\n                        <p class="discount-terms-conditions">{{#fmr}}upgrade-terms-conditions{{/fmr}}</p>\n                    {{/trialTermsLink}}\n                {{/promoTermsLink}}\n            {{/plansData.hasAdminFeatures}}\n            {{^plansData.hasAdminFeatures}}\n                <p class="discount-terms-conditions">{{#fmr}}upgrade-terms-conditions{{/fmr}}</p>\n            {{/plansData.hasAdminFeatures}}\n\n            {{#platformInfo.androidOrIos}}\n                <div class="landing-plans-mobile-apps-section">\n                    {{#platformInfo.iOS}}\n                        <div class="landing-plans-ios-apps-section flex-vertical">\n                            {{#platformInfo.apps.inOrder}}\n                                <div class="landing-plans-ios-app {{id}} flex-vertical">\n                                    <p class="landing-plans-ios-about {{id}}">{{{downloadFormatForReason}}}</p>\n                                    <a class="download-app-store-button link-background cc-paid-cta ios"\n                                       href="{{{appStoreUrl}}}"\n                                       alt="{{downloadAlt}}"\n                                       data-app="{{id}}"\n                                       data-analytics="plans-cta-download-ios-{{id}}"></a>\n                                </div>\n                            {{/platformInfo.apps.inOrder}}\n                        </div>\n                    {{/platformInfo.iOS}}\n                    {{#platformInfo.android}}\n                        <div class="landing-plans-android-apps-section flex-vertical">\n                            {{#platformInfo.apps.inOrder}}\n                                {{#googlePlay}}\n                                    <div class="landing-plans-android-app post flex-vertical">\n                                        <p class="landing-plans-android-about post">{{{downloadFormatForReason}}}</p>\n                                        <a class="download-google-play-button link-background cc-paid-cta android"\n                                           href="{{{googlePlayUrl.upgradeView}}}"\n                                           data-app="post"\n                                           data-analytics="plans-cta-download-android-post"\n                                           alt="{{googlePlayDownloadAlt}}"></a>\n                                    </div>\n                                {{/googlePlay}}\n                            {{/platformInfo.apps.inOrder}}\n                        </div>\n                    {{/platformInfo.android}}\n                </div>\n            {{/platformInfo.androidOrIos}}\n\n            <div class="learn-more-edu learn-more-and-call"><div class="learn-more-and-call-header">{{upgrade-education-label}}</div><div class="learn-more-and-call-text with-phone-text"><div>{{#fmr}}upgrade-call-education{{/fmr}}</div></div><div class="learn-more-and-call-text learn-more-and-call-explainer"><div>{{#fmr}}upgrade-learn-more-edu{{/fmr}}</div></div></div>\n\n\n            <div class="learn-more-enterprise learn-more-and-call">\n                <div class="learn-more-and-call-header">{{upgrade-enterprise-label}}</div><div class="learn-more-and-call-text with-phone-text"><div>{{#fmr}}upgrade-call-enterprise{{/fmr}}</div></div><div class="learn-more-and-call-text learn-more-and-call-explainer"><div>{{#fmr}}upgrade-learn-more-enterprise{{/fmr}}</div></div>\n            </div>\n\n            <div class="cc-footer">\n                <img src="/images/pricing/v2/icon-cc.svg" alt="{{upgrade-cc-text}}" />\n                <p class="cc-text">{{#fmr}}upgrade-cc-text{{/fmr}}</p>\n            </div>\n        </div>\n    </div>\n{{/hideAllPlans}}\n\n\n'},401:function(e,t){e.exports='<div class="plan-price{{#symbolAtEnd}} symbol-at-end{{/symbolAtEnd}}{{#priceDisplay}}{{#oldPrice}} has-special-offer{{/oldPrice}}{{#selected}} selected{{/selected}}{{/priceDisplay}}"\n     data-offer="{{offerId}}">\n    {{#priceDisplay}}\n        {{#oldPrice}}\n            <div class="old-price-div">\n                <div style="text-align: center; font-weight: 400; font-size: 16px; display: block;">\n                    <br />\n                    {{upgrade-regular-label}}\n                </div>\n                {{^symbolAtEnd}}\n                    <div class="currency">{{{currencySymbol}}}</div><div class="value old-price">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time old-price"><div class="value-fraction old-price">{{fraction}}{{^fraction}}{{/fraction}}</div><div class="time">{{time}}</div></div>\n                {{/symbolAtEnd}}\n                {{#symbolAtEnd}}\n                    <div class="value old-price">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time old-price"><div class="fraction-and-currency old-price"><div class="value-fraction old-price">{{fraction}}</div><div class="currency">{{{currencySymbol}}}</div></div><div class="time">{{time}}</div></div>\n                {{/symbolAtEnd}}\n            </div>\n        <div class="new-price-div">\n        {{/oldPrice}}\n        {{#trial}}\n            {{^oldPrice}}\n                <div class="old-price-div">\n                <div style="text-align: center; font-weight: 400; font-size: 16px; display: block;">\n                    <br />\n                    &nbsp;\n                </div>\n                <div class="currency">&nbsp;</div><div class="value">&nbsp;</div><div class="fraction-and-time"><div class="value-fraction">&nbsp;</div><div class="time">&nbsp;</div></div>\n            </div>\n            {{/oldPrice}}\n            <br/>\n            <div align="center" class="trial-text">\n                {{#oldPrice}}\n                {{upgrade-2-months-free-label}}\n                {{/oldPrice}}\n                {{^oldPrice}}\n                &nbsp;\n                {{/oldPrice}}\n            </div>\n        {{/trial}}\n        {{^symbolAtEnd}}\n            <div class="{{#trial}}{{#oldPrice}}trial-price{{/oldPrice}}{{/trial}}"><div class="currency">{{{currencySymbol}}}</div><div class="value">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time"><div class="value-fraction">{{fraction}}{{^fraction}}{{/fraction}}</div><div class="time">{{time}}{{#discounted}}*{{/discounted}}</div></div></div>\n        {{/symbolAtEnd}}\n        {{#symbolAtEnd}}\n            <div class="{{#trial}}{{#oldPrice}}trial-price{{/oldPrice}}{{/trial}}"><div class="value">{{numberString}}{{fractionDelimiter}}</div><div class="fraction-and-time"><div class="fraction-and-currency"><div class="value-fraction">{{fraction}}</div><div class="currency">{{{currencySymbol}}}</div></div><div class="time">{{time}}{{#discounted}}*{{/discounted}}{{#trial}}*{{/trial}}</div></div></div>\n        {{/symbolAtEnd}}\n        {{#oldPrice}}\n        </div>\n        {{/oldPrice}}\n    {{/priceDisplay}}\n</div>\n'},402:function(e,t){e.exports='<div class="plan-offer-dropdown-line-terms">{{terms.commitment}}{{#terms.billing}}, {{.}}{{/terms.billing}}</div>\n<span>&nbsp;-&nbsp;</span>\n<div class="plan-offer-dropdown-line-pricing">\n{{^symbolAtEnd}}\n<span class="currency">{{{currencySymbol}}}</span>\n{{/symbolAtEnd}}\n{{^priceIsForAfterTrial}}\n{{#oldPrice}}\n    <span class="old-price price-text">{{fullNumberString}}&nbsp;</span>\n<span class="new-price price-text">\n{{/oldPrice}}\n{{^oldPrice}}\n<span class="price-text">\n{{/oldPrice}}\n{{fullNumberString}}\n{{/priceIsForAfterTrial}}\n{{#priceIsForAfterTrial}}\n<span class="price-text">\n{{oldPrice.fullNumberString}}\n{{/priceIsForAfterTrial}}\n</span>\n{{#symbolAtEnd}}\n<span class="currency">{{{currencySymbol}}}</span>\n{{/symbolAtEnd}}\n<span class="payment-time">{{time}}</span>{{#priceIsForAfterTrial}}{{#fmr}}upgrade-plans-priceline-after-trial-ends{{/fmr}}{{/priceIsForAfterTrial}}\n</span>\n</div>\n'},403:function(e,t,i){var n=i(404);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},404:function(e,t,i){var n=i(129);(e.exports=i(91)(!1)).push([e.i,"@-webkit-keyframes slideme{0%{opacity:0}5%{opacity:1}10%{opacity:1}15%{opacity:0}20%{opacity:0}30%{opacity:0}}@keyframes slideme{0%{opacity:0}5%{opacity:1}10%{opacity:1}15%{opacity:0}20%{opacity:0}30%{opacity:0}}.close-button{position:absolute;right:0;top:0;background-color:red;background:url("+n(i(103))+");background-size:18px 18px;background-repeat:no-repeat;background-position:50%;width:60px;height:60px;z-index:1000}.plans-page,.upgrade-overlay-holder{width:100%;font-family:adobe-clean,sans-serif}.plans-page .landing-plans-mobile-apps-section,.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app,.upgrade-overlay-holder .landing-plans-mobile-apps-section,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app{margin:20px 0}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p{color:#82919b;font-weight:400;margin-bottom:20px}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p a,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p a,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p a,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p a{color:#35414c;font-weight:700;text-decoration:none;cursor:pointer}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app p a:hover,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app p a:hover,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app p a:hover,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app p a:hover{opacity:.8}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background{display:inherit;background-size:contain;background-repeat:no-repeat;width:154px;height:44px}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-app-store-button,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-app-store-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-app-store-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-app-store-button{background-image:url(/images/landing/appstoredownloadbtn.svg)}.plans-page .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-google-play-button,.plans-page .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-google-play-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-android-app .link-background.download-google-play-button,.upgrade-overlay-holder .landing-plans-mobile-apps-section .landing-plans-ios-app .link-background.download-google-play-button{background-image:url(/images/landing/googleplaydownloadbtn.svg)}.plans-page a,.upgrade-overlay-holder a{text-decoration:none}.plans-page .upgrade-overlay,.upgrade-overlay-holder .upgrade-overlay{font-size:16px}.plans-page h1,.plans-page h2,.plans-page h3,.plans-page h4,.plans-page h5,.upgrade-overlay-holder h1,.upgrade-overlay-holder h2,.upgrade-overlay-holder h3,.upgrade-overlay-holder h4,.upgrade-overlay-holder h5{max-width:calc(100vw - 32px)}.plans-page h1,.upgrade-overlay-holder h1{font-size:1.8em}.plans-page h1.big,.upgrade-overlay-holder h1.big{font-size:2.5em;padding-bottom:15px;font-weight:300}.plans-page h2,.upgrade-overlay-holder h2{font-size:1.5em}.plans-page h3,.upgrade-overlay-holder h3{font-size:1.4em;font-family:adobe-clean,sans-serif}.plans-page h4,.plans-page h5,.upgrade-overlay-holder h4,.upgrade-overlay-holder h5{font-size:1.2em}.plans-page h6,.upgrade-overlay-holder h6{font-size:1.1em}.plans-page .tag-line,.upgrade-overlay-holder .tag-line{color:#181919}.plans-page .landing-plans-sections,.upgrade-overlay-holder .landing-plans-sections{width:100%;margin:auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center}.plans-page .landing-plans-sections p,.upgrade-overlay-holder .landing-plans-sections p{color:#82919c;font-size:1.125em;line-height:1.5em;font-weight:500}.plans-page .landing-plans-sections .plans-page-section,.upgrade-overlay-holder .landing-plans-sections .plans-page-section{width:100%;margin:auto}.plans-page .landing-plans-view,.plans-page .upgrade-overlay,.upgrade-overlay-holder .landing-plans-view,.upgrade-overlay-holder .upgrade-overlay{font-size:16px}.plans-page .landing-plans-view h2,.plans-page .upgrade-overlay h2,.upgrade-overlay-holder .landing-plans-view h2,.upgrade-overlay-holder .upgrade-overlay h2{font-size:2.25em;font-family:brandon-grotesque,adobe-clean,sans-serif;font-weight:400;color:#35414c}.plans-page .view-plans-button,.upgrade-overlay-holder .view-plans-button{border:2px solid #82919b;color:#82919b;margin:60px auto 70px;border-radius:24px;width:150px;padding:0 24px;font-size:16px;line-height:38px;height:42px}.plans-page .landing-plans-plans-wrapper,.upgrade-overlay-holder .landing-plans-plans-wrapper{background-color:#f2f4f5;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 auto}.plans-page .landing-plans-plans-wrapper-inner,.upgrade-overlay-holder .landing-plans-plans-wrapper-inner{margin:80px auto 60px;width:1036px}.plans-page .plans-blurb-section,.upgrade-overlay-holder .plans-blurb-section{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;padding:0;font-family:adobe-clean,sans-serif;overflow:hidden;margin:0}.plans-page .plans-blurb-section .feature-row-holder,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder{display:-webkit-flex;display:flex;margin:80px auto 40px;max-width:1200px;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;text-align:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.plans-page .plans-blurb-section .feature-row-holder h3,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder h3{color:#4b00b0;font-size:18px;line-height:24px;font-weight:700;margin-bottom:16px}.plans-page .plans-blurb-section .feature-row-holder p,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder p{font-size:15px;line-height:20px;color:#284660}.plans-page .plans-blurb-section .feature-row-holder .content,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder .content{-webkit-flex-basis:33%;flex-basis:33%;-webkit-flex-grow:0;flex-grow:0;height:140px;padding:0 30px;margin-bottom:60px}.plans-page .plans-blurb-section .feature-row-holder .content h3,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder .content h3{font-size:18px;line-height:18px;margin-bottom:16px}.plans-page .plans-blurb-section .feature-row-holder .content p,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder .content p{font-size:15px;line-height:20px}.plans-page .plans-blurb-section .feature-row-holder.stunning-graphics,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder.stunning-graphics{-webkit-flex-basis:20%;flex-basis:20%;-webkit-flex-grow:0;flex-grow:0}.plans-page .plans-blurb-section .feature-row-holder.stunning-graphics h3,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder.stunning-graphics h3{color:#4b00b0}.plans-page .plans-blurb-section .feature-row-holder.express h3,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder.express h3{color:#ff4931}.plans-page .plans-blurb-section .feature-row-holder.work h3,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder.work h3{color:#10c459}.plans-page .plans-blurb-section .blurb-row-holder,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder{background:#fff;display:block;margin:100px auto 0}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row{max-width:1169px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text{text-align:left;margin:auto;display:inline-block;width:40%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title{margin-bottom:30px;font-size:37px;line-height:44px;font-weight:900}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text{font-size:21px;font-weight:400;line-height:30px;color:#284660}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video{display:inline-block;width:50%;text-align:center}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video video,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video video{width:100%;height:auto;margin:0 auto}.plans-page .plans-blurb-section .blurb-row-holder.stunning-graphics,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.stunning-graphics{-webkit-order:0;order:0}.plans-page .plans-blurb-section .blurb-row-holder.stunning-graphics .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.stunning-graphics .blurb-title{color:#4b00b0}.plans-page .plans-blurb-section .blurb-row-holder.express,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.express{-webkit-order:1;order:1}.plans-page .plans-blurb-section .blurb-row-holder.express .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.express .blurb-title{color:#ff4931}.plans-page .plans-blurb-section .blurb-row-holder.work,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.work{-webkit-order:2;order:2}.plans-page .plans-blurb-section .blurb-row-holder.work .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder.work .blurb-title{color:#10c459}@media (max-width:768px){.plans-page .plans-blurb-section .blurb-row-holder,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder{width:100vw;text-align:center;display:block;max-width:700px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row{display:block}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text{margin-top:0;display:block;width:100%;text-align:center}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title{font-size:37px;line-height:44px;margin:0 auto 30px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text{font-size:21px;line-height:30px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video{display:block;margin:100px auto 0;width:100%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video video,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video video{width:80%;height:auto}.plans-page .plans-blurb-section .feature-row-holder,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder{margin:80px auto 60px}}@media (max-width:767px){.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-video{-webkit-transform:scale(1.2);transform:scale(1.2);margin:80px auto 0}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text{width:90%}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-title{font-size:32px;line-height:36px;margin:0 auto 30px}.plans-page .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text,.upgrade-overlay-holder .plans-blurb-section .blurb-row-holder .blurb-row .blurb-text .blurb-blurb-text{font-size:18px;line-height:24px}.plans-page .plans-blurb-section .feature-row-holder,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder{display:block;text-align:center;margin-top:0}.plans-page .plans-blurb-section .feature-row-holder .content,.upgrade-overlay-holder .plans-blurb-section .feature-row-holder .content{-webkit-flex-basis:0;flex-basis:0;-webkit-flex-grow:0;flex-grow:0;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:auto;margin:80px auto 0;text-align:center;width:80%;padding:0}}.plans-page.upgrade-overlay-holder,.upgrade-overlay-holder.upgrade-overlay-holder{position:fixed;width:100%;height:100vh;overflow:auto;z-index:100001;top:100%;transition:top .5s ease-in}.plans-page.upgrade-overlay-holder .x-close-btn,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn{position:fixed;z-index:2001;right:26px;top:calc(100vh + 26px);background-image:url(/images/icon-close-x.svg);background-color:transparent;background-repeat:no-repeat;background-size:contain;background-position:50%;width:20px;height:20px;border:none;outline:none;cursor:pointer;color:transparent;opacity:0;transition:opacity .5s ease-in,top .5s ease-in}.plans-page.upgrade-overlay-holder .x-close-btn.showing,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn.showing{opacity:.5;top:26px}.plans-page.upgrade-overlay-holder .x-close-btn.showing:hover,.upgrade-overlay-holder.upgrade-overlay-holder .x-close-btn.showing:hover{opacity:1}.plans-page.upgrade-overlay-holder.showing,.upgrade-overlay-holder.upgrade-overlay-holder.showing{top:0}.plans-page.upgrade-overlay-holder.showing-hero-video,.upgrade-overlay-holder.upgrade-overlay-holder.showing-hero-video{overflow:hidden}.plans-page.upgrade-overlay-holder.showing-hero-video .upgrade-view-close-btn,.upgrade-overlay-holder.upgrade-overlay-holder.showing-hero-video .upgrade-view-close-btn{display:none}.landing-plans-hero{padding-top:48px;text-align:center;position:relative;height:200px;font-size:2em}.landing-plans-hero h2,.landing-plans-hero h4{font-family:adobe-clean,sans-serif;color:#35414c}.landing-plans-hero h2{color:#fff;line-height:1.14;width:70%;margin:0 auto 38px;text-align:center;font-size:48px}.landing-plans-hero h4{margin-top:20px;margin-bottom:50px;color:#fff;font-size:20px}.landing-plans-hero h4 a{color:#fff;font-weight:400}.landing-plans-hero .graphic-device{width:764px;height:auto}.landing-plans-view,.upgrade-overlay-holder .upgrade-overlay{-webkit-align-content:center;align-content:center;text-align:center;background:#fff}.landing-plans-plans-wrapper p.discount-terms-conditions{font-size:14px;line-height:17px;font-weight:400;padding-left:350px;margin:10px auto 40px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper p.discount-terms-conditions a{color:#82919b;font-weight:400;text-decoration:underline}.landing-plans-plans-wrapper p.discount-terms-conditions .phone{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans{font-family:adobe-clean,sans-serif;margin:0 auto;position:relative;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:center;justify-content:center}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper{width:310px;text-align:left;font-weight:400;margin-right:50px;opacity:1}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper h4{font-size:18px;font-weight:700;line-height:52px;color:#35414c;height:52px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .admin-feature{display:block}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .upgrade-admin-label{height:40px;line-height:40px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .upgrade-features-label{height:52px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .admin-feature,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .divider,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .upgrade-admin-label{display:none}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:60px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title span{font-size:40px;font-weight:900;line-height:48px;text-align:left;font-family:adobe-clean,sans-serif;color:#284660}@media (min-width:768px) and (max-width:1023px){.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title span{font-size:40px;line-height:48px}}@media (max-width:767px){.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title span{font-size:36px;line-height:46px}}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden{position:absolute;opacity:0;-webkit-animation:slideme 18s infinite;animation:slideme 18s infinite;width:auto;color:#10c459;margin:0}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:first-child{-webkit-animation-delay:2s;animation-delay:2s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(2){-webkit-animation-delay:4s;animation-delay:4s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(3){-webkit-animation-delay:6s;animation-delay:6s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(4){-webkit-animation-delay:8s;animation-delay:8s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(5){-webkit-animation-delay:10s;animation-delay:10s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(6){-webkit-animation-delay:12s;animation-delay:12s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(7){-webkit-animation-delay:14s;animation-delay:14s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(8){-webkit-animation-delay:16s;animation-delay:16s}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item .hidden:nth-child(9){-webkit-animation-delay:18s;animation-delay:18s}@media (max-width:767px){.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-title .plans-wrapper-title-item{display:block}}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-header{height:440px;position:relative}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.no-admin-features .plans-wrapper-header{height:378px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.has-apps.no-admin-features .plans-wrapper-header,.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper.has-apps .plans-wrapper-header{height:418px}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc{color:#35414c;font-family:adobe-clean,sans-serif;font-size:15px;line-height:19px;font-weight:400;text-align:left;opacity:1;display:inline-block}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc strong{font-weight:900}.landing-plans-plans-wrapper .landing-plans-plans .plans-wrapper .plans-wrapper-desc h4{font-weight:700}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature{background-repeat:no-repeat;background-position:0;background-size:32px 32px;text-align:left;height:60px;font-size:15px;padding-top:3px;position:relative}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature div{font-size:15px;line-height:17px;font-weight:400;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-left:45px;width:100%}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature span.new-tag{position:absolute;background-color:#10c459;color:#fff;font-weight:700;border-radius:4px;min-width:24px;height:16px;top:50%;padding-left:5px;padding-right:5px;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:11px;text-align:center;line-height:16px;right:318px}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.create-premium-templates{background-image:url(/images/pricing/v2/feature-icons/create-premium-templates.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.invite-others{background-image:url(/images/pricing/v2/feature-icons/invite-others.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.create-unique-designs{background-image:url(/images/pricing/v2/feature-icons/create-unique-designs.svg);background-size:32px 32px}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.use-stunning-images{background-image:url(/images/pricing/v2/feature-icons/use-stunning-images-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.remove-watermark{background-image:url(/images/pricing/v2/feature-icons/remove-watermark-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.reassign-licenses{background-image:url(/images/pricing/v2/feature-icons/reassign-licenses-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.personalize-designs{background-image:url(/images/pricing/v2/feature-icons/personalize-designs-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.switch-brands{background-image:url(/images/pricing/v2/feature-icons/switch-brands.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.consolidate-billing{background-image:url(/images/pricing/v2/feature-icons/consolidate-billing-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.design-from-templates{background-image:url(/images/pricing/v2/feature-icons/design-from-templates-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.dedicated-tech-support{background-image:url(/images/pricing/v2/feature-icons/dedicated-tech-support-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .plan-feature.has-adobe-fonts{background-image:url(/images/pricing/v2/feature-icons/has-adobe-fonts-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans .check-plan-has-feature{background-repeat:no-repeat;background-position:0;height:60px;border-bottom:1px solid rgba(53,65,76,.2)}.landing-plans-plans-wrapper .landing-plans-plans .check-plan-has-feature.checked{background-position:50%;background-size:14px auto;background-image:url(/images/pricing/v2/checked.svg)}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary{border:2px solid #1473e6;color:#1473e6;font-size:15px;font-weight:700;min-width:140px;max-width:170px;height:40px;background-color:#fff;line-height:25px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary:hover{color:#fff;background-color:#1473e6;border-color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .sp-cta-button-primary.selected{background-color:#fff;color:#1473e6}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line{font-size:18px;line-height:26px;font-weight:400;color:#35414c}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line a{font-weight:400;text-decoration:none;color:#1473e6;cursor:pointer}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line a:hover{color:#1269d0}.landing-plans-plans-wrapper .landing-plans-plans .landing-plans-plans-footer-line.landing-plans-enterprise-info{margin-top:24px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans{font-family:adobe-clean,sans-serif;background-color:#fff;display:-webkit-flex;display:flex;height:1200px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-info-header{height:500px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps{height:730px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps li.inner{width:260px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-apps.no-admin-features .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features{height:850px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features.has-apps{height:890px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features .plan-info-header{height:430px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features.divider{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner{list-style:none;border-radius:0;width:222px;padding:0;margin:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info{opacity:1;margin:0;padding:0;transition:opacity .6s}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info.recommended-plan-info,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info:hover{opacity:1}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-upgrade-admin-label{display:none;font-family:adobe-clean,sans-serif;font-size:18px;line-height:40px;text-align:left;border-top:1px solid rgba(53,65,76,.2);font-weight:700;padding:10px 0 0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .named-plan-feature{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header{padding:20px 10px 40px;border-bottom:1px solid rgba(53,65,76,.2)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-supertitle{font-size:13px;font-weight:400;margin:10px auto 5px;line-height:24px;color:#82919b}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-title{color:#35414c;font-size:21px;font-weight:900;text-transform:uppercase;margin:0 0 20px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-buy-button{margin:0;height:44px;font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-subtitle{font-size:15px;line-height:19px;font-weight:400;color:#35414c;margin:0 0 24px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header.recommended-plan-info-header .plan-subtitle{height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image{width:100%;margin:0 auto 24px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.free img,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.individual img{width:60px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.team img{width:78px;height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-image.ccp img{width:auto;height:48px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area{margin:0 0 20px;color:#35414c;font-weight:400;font-family:adobe-clean,sans-serif;min-height:66px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-dropdown{margin:0 auto}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free{min-height:70px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text{font-size:24px;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.is-free{font-weight:700;font-size:24px;line-height:22px;padding:0 0 3px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.no-credit-card-required{font-size:15px;font-weight:400;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price{display:none;color:#35414c;font-size:24px;font-weight:700;line-height:22px;font-family:adobe-clean,sans-serif;margin:0 0 15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div{display:inline-block;font-weight:700}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div.trial-text{font-weight:400;display:block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div.currency,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price div.fraction-and-time div.time{font-weight:400;font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price.selected{display:inline-block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price.has-special-offer.selected{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;margin-top:-22px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area .plan-price.has-special-offer.selected .old-price{-webkit-text-decoration-color:#dc4158;-moz-text-decoration-color:#dc4158;text-decoration-color:#dc4158}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-dropdown-area{height:32px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-pricing-area .plan-dropdown{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-header .plan-pricing-area.single-offer .plan-pricing-area .plan-price{width:100%;border-radius:40px;padding-left:0;padding-right:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .no-bottom-border{border:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-see-hide-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space{height:60px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space.empty{background-color:#f2f4f5;opacity:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-info .plan-info-features .space.divider{opacity:.2;height:40px;border-bottom:40px solid rgba(53,65,76,.5)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .recommended-only{font-size:14px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown{font-size:15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:20px auto 5px;max-width:326px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown .ddv-dropdown-button,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown .ddv-dropdown-button{background:#fff url(/images/pricing/v2/downcaret.svg) no-repeat center right 10px;background-size:12px 8px;background-color:#fcfcfc;padding:5px 22px 5px 12px;width:160px;height:32px;border-radius:4px;color:#284660;font-size:15px;line-height:19px;font-weight:400;margin:0 auto;text-align:center}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown .ddv-dropdown-button:hover,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown .ddv-dropdown-button:hover{background-color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .plan-dropdown .ddv-dropdown-line,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .single-app-dropdown .ddv-dropdown-line{font-size:15px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .discounted-only,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .recommended-only,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner .trial-only{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended{opacity:1;background:linear-gradient(#5256d0,#4599cd);color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-subtitle,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-title{opacity:1;color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-supertitle{color:#f2f4f5}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .plan-pricing-area .plan-price{color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .sp-cta-button-primary{opacity:1;background-color:#f2f4f5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none;border:0}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .plan-info-header .sp-cta-button-primary:hover{color:#1473e6;background-color:#fff}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .check-plan-has-feature.checked{background-image:url(/images/pricing/v2/checked-white.svg)}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .recommended-only{display:block;font-size:14px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.recommended .recommended{height:32px;text-transform:uppercase;font-family:adobe-clean,sans-serif;color:#fff;display:block;line-height:32px;font-weight:700;border-radius:8px 8px 0 0;margin-top:-32px;background-color:#10c459}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .plan-supertitle{color:#82919b}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .discounted-only{display:block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .recommended-only,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .trial-only{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.discounted .discounted{height:32px;text-transform:none;font-family:adobe-clean,sans-serif;color:#35414c;display:block;font-size:14px;line-height:32px;font-weight:700;border-radius:8px 8px 0 0;margin-top:-32px;background-color:#ffdb2a;text-transform:uppercase}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.trial .plan-supertitle{color:#82919b}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.trial .discounted-only{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.trial .trial-only{display:block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.trial .recommended-only{display:none}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans li.inner.trial .trial{height:32px;font-family:adobe-clean,sans-serif;color:#35414c;display:block;font-size:14px;line-height:32px;font-weight:700;border-radius:8px 8px 0 0;margin-top:-32px;background-color:#ffdb2a;text-transform:uppercase}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.no-admin-features li.inner{width:260px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-offer-dropdown-line-pricing,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-price{display:-webkit-flex;display:flex}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-offer-dropdown-line-pricing .old-price,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-price .old-price{text-decoration:line-through}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-offer-dropdown-line-pricing .trial-price,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-price .trial-price{color:#ffdb2a}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-offer-dropdown-line-pricing div.trial-text,.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans .plan-price div.trial-text{font-size:16px;font-weight:400;display:block}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-extra-height li.inner .plan-info .plan-info-header .plan-subtitle{height:150px}.landing-plans-plans-wrapper .landing-plans-plans .list-of-plans.has-extra-height li.inner .plan-info .plan-info-header.recommended-plan-info-header .plan-subtitle{height:60px}.landing-plans-plans-wrapper .cc-footer{color:#82919b;text-align:center;font-size:15px;line-height:26px;font-weight:400;margin:50px auto 30px;font-family:inherit}.landing-plans-plans-wrapper .cc-footer p{margin-top:10px}.landing-plans-plans-wrapper .cc-footer a{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .learn-more-and-call{margin:12px auto;display:block;width:880px;text-align:left;font-weight:400;color:#1473e6}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-header{font-family:adobe-clean,sans-serif;font-weight:700;font-size:20px;line-height:80px;margin:0;height:80px;text-align:left;text-transform:uppercase;color:#35414c;display:inline-block;width:200px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-text{display:inline-block;background-color:#fff;font-family:adobe-clean,sans-serif;font-weight:400;height:80px;margin:0;font-size:16px;color:#35414c;line-height:19px;text-align:center;position:relative;border-top-right-radius:4px;border-bottom-right-radius:4px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-text div{padding-left:15px;font-weight:400;width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-explainer{width:460px;font-weight:400;font-size:15px;line-height:19px;position:relative;border-top-right-radius:4px;border-bottom-right-radius:4px}.landing-plans-plans-wrapper .learn-more-and-call .learn-more-and-call-explainer div{font-weight:400;width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .learn-more-and-call .with-phone-text{width:220px;padding:32px;font-size:18px;border-radius:4px;color:#82919b;background-color:#fff;margin:0}.landing-plans-plans-wrapper .learn-more-and-call .with-phone-text .phone,.landing-plans-plans-wrapper .learn-more-and-call a{color:#1473e6;font-weight:400}@media (max-width:1024px){.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner{width:90%;max-width:648px;margin:40px auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper{float:none;text-align:center;padding:0 0 30px;width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-header{width:100%;text-align:center;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-header .plans-wrapper-title{text-align:left;height:130px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper.has-apps .plans-wrapper-header,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper.no-admin-features .plans-wrapper-header{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-desc{width:100%;text-align:center;line-height:24px;font-size:18px;margin:0 0 40px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .plans-wrapper .plans-wrapper-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions{padding:0;text-align:center;font-size:16px;line-height:20px;font-weight:400;margin:0 auto 40px;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions .phone{color:#1473e6;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .discount-terms-conditions a{color:#82919b;font-weight:400;text-decoration:underline}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .upgrade-admin-label,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .upgrade-features-label{display:none;font-family:adobe-clean,sans-serif}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call{width:100%;display:block;padding:25px;text-align:center;background-color:#fff;border-radius:8px;margin:20px auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-header{font-family:adobe-clean,sans-serif;font-size:20px;height:auto;line-height:20px;margin:0 auto 10px;text-align:center;display:block;padding:0}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-text{display:block;text-align:center;margin:0 auto;width:100%;padding:20px 0 30px;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .learn-more-and-call-explainer{width:100%;font-size:16px;line-height:20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .learn-more-and-call .with-phone-text{font-size:20px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans{display:block;width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans{height:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;background-color:transparent}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .space{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.no-admin-features{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.has-apps .inner .plan-info-header{height:470px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.has-apps .inner,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans.no-admin-features .inner{width:100%;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner{width:100%;max-width:100%;display:block;background-color:#fff;margin:0 auto 40px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info{opacity:1;padding:0 20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .collapsible{font-size:20px;line-height:18px;color:#82919b;font-weight:400;cursor:pointer;padding:20px;margin:0 auto;text-align:center;outline:none;background:url(/images/pricing/v2/down.svg);background-repeat:no-repeat;background-size:24px 24px;background-position:70%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;height:25px;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:20px auto;text-align:center;line-height:18px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features .plan-see-hide-features-label{font-size:20px;color:#82919b;white-space:nowrap;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features .plan-see-hide-features-arrow{width:24px;height:24px;display:inline-block;background-image:url(/images/pricing/v2/uparrow.svg);background-position:100% -3px;background-repeat:no-repeat;background-size:24px 24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-see-hide-features.see-details .plan-see-hide-features-arrow{background-image:url(/images/pricing/v2/downarrow.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features{padding:0 5px 5px;display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .plan-info-upgrade-admin-label{display:block}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .check-plan-has-feature{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .named-plan-feature{display:block;margin:20px auto 25px;padding-left:45px;position:relative}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .named-plan-feature div{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-features .named-plan-feature span.new-tag{top:0;-webkit-transform:none;transform:none;background-color:transparent;background-repeat:no-repeat;background-size:16px auto;left:-16px;width:16px;height:16px;right:0;background-image:url(/images/pricing/v2/new_star.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info.recommended-plan-info .plan-info-features{display:block}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header{height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-subtitle{font-size:18px;height:auto;margin:0 0 40px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-supertitle{font-size:16px;line-height:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-title{font-size:24px;line-height:30px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-buy-button{font-size:18px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-dropdown .ddv-dropdown-button{width:100%}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image{margin:0 auto 20px;text-align:center;height:auto}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.individual img{width:92px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.team img{width:120px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.free img{width:92px;height:92px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-image.ccp img{width:auto;height:48px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area{font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free{min-height:65px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.is-free{font-size:24px;line-height:22px;font-family:inherit;font-weight:400;margin-bottom:3px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area.simply-free .free-text.no-credit-card-required{font-size:15px;font-weight:400;line-height:22px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area .plan-price{font-size:24px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info .plan-info-header .plan-pricing-area div{font-weight:400;font-family:inherit}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.discounted,.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.trial{-webkit-order:-1;order:-1;margin-top:20px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended{-webkit-order:-2;order:-2}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-see-hide-features{display:none}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature{background-size:32px 32px}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.create-premium-templates{background-image:url(/images/pricing/v2/feature-icons/create-premium-templates-w.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.invite-others{background-image:url(/images/pricing/v2/feature-icons/invite-others-w.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.create-unique-designs{background-image:url(/images/pricing/v2/feature-icons/create-unique-designs-w.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.use-stunning-images{background-image:url(/images/pricing/v2/feature-icons/use-stunning-images-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.remove-watermark{background-image:url(/images/pricing/v2/feature-icons/remove-watermark-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.personalize-designs{background-image:url(/images/pricing/v2/feature-icons/personalize-designs-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.switch-brands{background-image:url(/images/pricing/v2/feature-icons/switch-brands-w.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.design-from-templates{background-image:url(/images/pricing/v2/feature-icons/design-from-templates-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner.recommended .plan-info-features li.plan-feature.has-adobe-fonts{background-image:url(/images/pricing/v2/feature-icons/has-adobe-fonts-w-1.svg)}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .landing-plans-plans .list-of-plans .inner .plan-info-features .plan-feature{height:40px;font-weight:400}.landing-plans-plans-wrapper .landing-plans-plans-wrapper-inner .cc-footer .cc-text{font-size:16px;line-height:20px}}.hero-video-viewer{display:block;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;z-index:200;padding-top:5px;padding-bottom:5px}.hero-video-viewer.hide{display:none}.hero-video-viewer .cc-paid-hero-video,.hero-video-viewer iframe{width:100%;height:100%}.hero-video-viewer .close-button{position:absolute;right:0;top:0;background-color:red;background:url("+n(i(103))+");background-size:18px 18px;background-repeat:no-repeat;background-position:50%;width:60px;height:60px;z-index:1000}.flex-horizontal{-webkit-flex-direction:row;flex-direction:row}.flex-horizontal,.flex-vertical{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center}.flex-vertical{-webkit-flex-direction:column;flex-direction:column}.scroller-mask{-webkit-overflow-scrolling:touch;overflow:hidden;-ms-overflow-style:none}.scroller-mask::-webkit-scrollbar{display:none}.scroller-mask .scroller{position:absolute;top:0;display:-webkit-flex;display:flex;transition:-webkit-transform .1s;transition:transform .1s;transition:transform .1s,-webkit-transform .1s}.scroller-mask .scroller.non-flex-scroller{position:inherit}.scroller-mask .scroller.initting{transition:-webkit-transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s}.scroller-mask .scroller-hit-area{position:absolute;top:0;height:100%;width:10%;max-width:100px;min-width:75px}.scroller-mask .scroller-hit-area.left{left:0;cursor:w-resize}.scroller-mask .scroller-hit-area.left.disabled{z-index:-1}.scroller-mask .scroller-hit-area.right{right:0;cursor:e-resize}.scroller-mask .scroller-hit-area.right.disabled{z-index:-1}.scroller-mask.supports-touch,.scroller-mask.supports-track-scroll-h{overflow-x:auto;overflow-y:hidden}.scroller-mask.supports-touch .scroller-hit-area,.scroller-mask.supports-track-scroll-h .scroller-hit-area{display:none}.scroller-mask.scroll-not-needed{overflow:hidden}.scroller-mask.scroll-not-needed .scroller{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.example-assets-row-mask{width:100vw;position:relative;height:454px}.example-assets-row-mask.desktop{width:calc(100vw - 16px)}@media (max-width:1024px){.example-assets-row-mask{height:346px}}.example-assets-row-scroller{height:calc(100% - 3px)}.example-assets-row{height:100%;left:0;bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:baseline;align-items:baseline;padding:0 15px}.example-asset-item{max-height:100%;height:276px;-webkit-justify-content:flex-start;justify-content:flex-start;margin:0 14px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.example-asset-item:first-child{margin-left:0}.example-asset-item:last-child{margin-right:0}.example-asset-item .asset-background{max-height:calc(100% - 50px);width:276px;position:relative;background-repeat:no-repeat;background-size:contain;background-position:bottom;box-shadow:0 1px 3px rgba(0,0,0,.1)}.example-asset-item .asset-title{height:50px;line-height:50px;font-size:14px;font-weight:400;text-align:left;width:100%;padding:0 20px;background:#fff;border-bottom-left-radius:4px;border-bottom-right-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.1);z-index:1;-webkit-flex-shrink:0;flex-shrink:0}.example-asset-item .show-asset-btn{display:none}.example-asset-item.can-preview .show-asset-btn{display:block;cursor:-webkit-zoom-in;cursor:zoom-in;width:100%;height:100%;background-repeat:no-repeat;background-position:50%;position:absolute;bottom:0}.example-asset-item.can-preview.video .show-asset-btn{background-image:url(/images/icon-video-play-button.svg);background-size:18%}@media (max-width:1024px){.example-asset-item{width:200px;height:200px}.example-asset-item .asset-background{width:200px}}.bullets-area .bullet-item{display:-webkit-flex;display:flex;width:376px;height:359px;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-align-items:center;align-items:center;margin-left:12px;margin-right:12px;font-size:15px;text-align:center;font-weight:400;padding:32px;border-radius:4px;background-color:#fff}.bullets-area .bullet-item:first-child{margin-left:0}.bullets-area .bullet-item:last-child{margin-right:0}.bullets-area .bullet-item .bullet-image{width:204px;height:126px;background-repeat:no-repeat;background-size:contain;background-position:50%}.bullets-area .bullet-item .bullet-title{font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:1.375em;font-weight:700;margin-top:40px;margin-bottom:14px;line-height:28px;color:#35414c}.bullets-area .bullet-item .bullet-text{line-height:1.5;font-weight:400;width:100%;color:#35414c}@media (max-width:1024px){.bullets-area .bullet-item{width:320px;height:337px;margin-left:5px;margin-right:5px;padding:30px}}@media (max-width:800px){.bullets-area.flex-horizontal{-webkit-flex-direction:column;flex-direction:column}.bullets-area.flex-horizontal .bullet-item{width:376px;height:335px;margin:10px 0;max-width:calc(100vw - 16px)}.bullets-area.flex-horizontal .bullet-item:first-child{margin-top:0}.bullets-area.flex-horizontal .bullet-item:last-child{margin-bottom:0}}.plan-info .ddv-dropdown{height:100%;width:100%}.plan-info .ddv-dropdown .ddv-dropdown-overlay{position:fixed;width:200vw;height:200vh;top:-50vh;left:-50vw;background-color:#fff;opacity:0;z-index:10001}.plan-info .ddv-dropdown .ddv-dropdown-button{width:100%;color:#35414c;padding:5px 35px 5px 23px;font-size:16px;border-radius:23px;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;background:#f2f4f5 url(/images/caret-arrow.png) 90% 50% no-repeat;background-size:11px auto;border:1px solid #dce0e3;cursor:pointer;font-style:normal;font-weight:400;transition:border-color .4s;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;line-height:150%;text-align:center}.plan-info .ddv-dropdown .ddv-dropdown-button:focus,.plan-info .ddv-dropdown .ddv-dropdown-button:hover{border-color:#82919b}.plan-info .ddv-dropdown .ddv-dropdown-bg{z-index:10002;background-color:#fff;box-shadow:0 2px 10px 1px hsla(0,0%,60%,.35);border-radius:6px;padding:2px 0;position:fixed;overflow-y:auto}.plan-info .ddv-dropdown .ddv-dropdown-bg.hide{display:none}.plan-info .ddv-dropdown .ddv-dropdown-bg.center-vertical{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line{padding:0 34px 0 12px;margin:0;border-radius:0;cursor:pointer;font-size:14px;color:#4b4b4b;font-weight:400;text-align:left;line-height:32px;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;border-left:2px solid transparent}.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line div{-webkit-flex-shrink:0;flex-shrink:0}.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line div,.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line span{font-weight:400}.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line:hover:not(.arrow-nav){background-color:#f5f5f5}.plan-info .ddv-dropdown .ddv-dropdown-bg .ddv-dropdown-line.selected{background-image:url("+n(i(395))+");background-repeat:no-repeat;background-size:10px 8px;background-position:right 12px center;background-color:#f5f5f5;color:#0d66d0;border-left:2px solid}.cc-logo{height:24px;width:32px;background-repeat:no-repeat;background-size:contain;background-image:url(/images/icon-logo-cc-red.svg)}.cc-logo.gray{background-image:url(/images/icon-logo-cc-gray.svg)}.sp-cta-button-primary,.sp-cta-button-secondary{height:32px;border-radius:24px;font-size:15px;font-weight:700;line-height:30px;padding:0 16px;min-width:75px;text-align:center;cursor:pointer;transition:background-color .3s,color .3s}.sp-cta-button-primary.link,.sp-cta-button-secondary.link{text-decoration:none;line-height:32px}.sp-cta-button-primary.disabled,.sp-cta-button-secondary.disabled{background-color:rgba(130,145,155,.09);color:#d8dde0}.sp-cta-button-primary.disabled:active,.sp-cta-button-primary.disabled:hover,.sp-cta-button-secondary.disabled:active,.sp-cta-button-secondary.disabled:hover{cursor:default;background-color:rgba(130,145,155,.09)}.sp-cta-button-primary{color:#fff;background-color:#1473e6}.sp-cta-button-primary:hover{background-color:#1269d0}.sp-cta-button-primary:active{background-color:#1056a7}.sp-cta-button-secondary{color:#82919b;background-color:transparent;border:2px solid #82919b;line-height:28px;transition:background-color .3s,color .3s,border-color .3s}.sp-cta-button-secondary:hover{background-color:#82919b;color:#fff}.sp-cta-button-secondary:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark,.sp-cta-button-secondary.over-dark-photo{color:#dce0e3;border-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo.over-dark-photo,.sp-cta-button-secondary.over-dark.over-dark-photo{color:#fff;border-color:#fff}.sp-cta-button-secondary.over-dark-photo:hover,.sp-cta-button-secondary.over-dark:hover{color:#35414c;background-color:#dce0e3}.sp-cta-button-secondary.over-dark-photo:hover.over-dark-photo,.sp-cta-button-secondary.over-dark:hover.over-dark-photo{background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active,.sp-cta-button-secondary.over-dark:active{background-color:#35414c;border-color:#35414c;color:#fff}.sp-cta-button-secondary.over-dark-photo{color:#fff;border:2px solid #fff}.sp-cta-button-secondary.over-dark-photo:hover{color:#35414c;background-color:#fff}.sp-cta-button-secondary.over-dark-photo:active{background-color:#35414c;border-color:#35414c;color:#fff}.mrvl-dlg-btn-acts .sp-cta-button-primary,.mrvl-dlg-btn-acts .sp-cta-button-secondary{margin-left:5px;margin-right:5px}.mrvl-dlg-btn-acts .sp-cta-button-primary:first-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:first-child{margin-left:0}.mrvl-dlg-btn-acts .sp-cta-button-primary:last-child,.mrvl-dlg-btn-acts .sp-cta-button-secondary:last-child{margin-right:0}.brands-examples-view .brand-assets-holder{-webkit-order:1;order:1}.brands-examples-view .brand-picker,.brands-examples-view.picker-on-top .brand-assets-holder{-webkit-order:2;order:2}.brands-examples-view.picker-on-top .brand-picker{-webkit-order:1;order:1}.example-assets-row{-webkit-transform:translate(0);transform:translate(0);opacity:1;transition:opacity .7s;display:-webkit-flex;display:flex}.example-assets-row.anim-out{opacity:0}.example-assets-row.anim-in{top:0;position:absolute}.example-assets-row.selected{display:-webkit-flex;display:flex}.example-assets-row .example-asset-item{height:250px}.example-assets-row .example-asset-item .asset-background{width:250px}@media (max-width:1024px){.example-assets-row .example-asset-item{width:200px;height:200px}.example-assets-row .example-asset-item .asset-background{width:200px}}.brand-picker{margin-top:54px;margin-bottom:60px;position:relative;max-width:calc(100vw - 16px);padding-left:16px;padding-right:16px}.brand-picker .border-box{position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:2px solid #dadee1}.brand-picker .brand-icon{z-index:1;width:80px;height:80px;background-size:50px 50px;background-position:top;background-repeat:no-repeat;margin-left:10px;margin-right:10px;cursor:pointer;transition:border-color .7s;border-bottom:2px solid #dadee1;opacity:.5}.brand-picker .brand-icon:last-child{margin-right:0}.brand-picker .brand-icon:nth-child(2){margin-left:0}.brand-picker .brand-icon.selected{border-bottom:2px solid #35414c;opacity:1}.brand-picker .brand-icon:hover{border-bottom:2px solid #35414c}@media (max-width:375px){.brand-picker .brand-icon{background-size:contain}}.bullet-item .bullet-image{height:160px}.bullet-item.logo .bullet-image{height:158px;width:238px;background-image:url(/images/features/steps-logo.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.logo .bullet-image{background-image:url(/images/features/steps-logo@2x.png)}}.bullet-item.logo-ccpl .bullet-image{background-image:url(/images/features/steps-logo-ccpl.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.logo-ccpl .bullet-image{background-image:url(/images/features/steps-logo-ccpl@2x.png)}}.bullet-item.colors .bullet-image{width:128px;height:133px;background-image:url(/images/features/steps-colors.svg)}.bullet-item.colors-and-fonts .bullet-image{width:242px;height:104px;background-image:url(/images/features/steps-colors-and-fonts.svg)}.bullet-item.fonts .bullet-image{width:99px;height:135px;background-image:url(/images/features/steps-fonts.svg)}.bullet-item.templates-and-themes .bullet-image{height:182px;width:218px;background-image:url(/images/features/steps-templates-and-themes.png)}@media (max-width:768px){.bullet-item.templates-and-themes .bullet-image{margin-bottom:-32px}}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.templates-and-themes .bullet-image{background-image:url(/images/features/steps-templates-and-themes@2x.png)}}.bullet-item.intuitive .bullet-image{background-image:url(/images/features/intuitive.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.intuitive .bullet-image{background-image:url(/images/features/intuitive@2x.png)}}.bullet-item.tell-a-story .bullet-image{background-image:url(/images/features/tell-a-story.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.tell-a-story .bullet-image{background-image:url(/images/features/tell-a-story@2x.png)}}.bullet-item.share .bullet-image{background-image:url(/images/features/share.png)}@media only screen and (-webkit-min-device-pixel-ratio:1.5),only screen and (-webkit-min-device-pixel-ratio:2),only screen and (min--moz-device-pixel-ratio:1.5),only screen and (min-device-pixel-ratio:1.5),only screen and (min-resolution:1.5dppx),only screen and (min-resolution:192dpi){.bullet-item.share .bullet-image{background-image:url(/images/features/share@2x.png)}}",""])},405:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(8),i(7),i(9),i(4),i(56),i(406),i(407),i(409),i(394),i(410),i(16)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g){"use strict";var m;return i.View.extend({defaultBrands:{defaultId:"morningGlo",assetsRoot:"/images/brandExamples/brand-",displayOrder:["morningGlo","rgFitness","pattiWatts","emeraldJones","blueWater"],thumbFileType:"png",allChildren:[{id:"morningGlo",icon:"MorningGlo.svg",displayOrder:["presentation","ad","flyer","engaging-tip","invitation"],allChildren:[{id:"presentation",title:g.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"MG_Video"},{id:"ad",title:g.getString("brand-examples-ad"),aspectRatio:1,contentType:"post",thumb:"MG_2ndlocation"},{id:"flyer",title:g.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"MG_Page"},{id:"invitation",title:g.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"MG_PostClass"},{id:"engaging-tip",title:g.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"MG_PostTip"}]},{id:"rgFitness",icon:"RGFitness.svg",displayOrder:["presentation","ad","flyer","engaging-tip","invitation"],allChildren:[{id:"presentation",title:g.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"RG_Video"},{id:"ad",title:g.getString("brand-examples-ad"),aspectRatio:1,contentType:"post",thumb:"RGPost_SignUp"},{id:"flyer",title:g.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"RGPage"},{id:"invitation",title:g.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"RGPost_Quote"},{id:"engaging-tip",title:g.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"RGPost_Hustle"}]},{id:"pattiWatts",icon:"PattiWatts.svg",displayOrder:["advertisement","tip","newsletter","quote","tip2"],allChildren:[{id:"advertisement",title:g.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"PW_Video"},{id:"tip",title:g.getString("brand-examples-tip"),aspectRatio:1,contentType:"post",thumb:"PW_PostTip"},{id:"newsletter",title:g.getString("brand-examples-newsletter"),aspectRatio:250/370,contentType:"page",thumb:"PW_Page"},{id:"quote",title:g.getString("brand-examples-quote"),aspectRatio:1,contentType:"post",thumb:"PW_Quote"},{id:"tip2",title:g.getString("brand-examples-tip"),aspectRatio:1,contentType:"post",thumb:"PW_Tip2"}]},{id:"emeraldJones",icon:"EmeraldLandscaping.svg",displayOrder:["presentation","portfolio","flyer","invitation","tip"],allChildren:[{id:"presentation",title:g.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"EJVideo"},{id:"portfolio",title:g.getString("brand-examples-portfolio"),aspectRatio:1,contentType:"post",thumb:"EJPost_portfolio"},{id:"flyer",title:g.getString("brand-examples-flyer"),aspectRatio:250/370,contentType:"page",thumb:"EJPage"},{id:"invitation",title:g.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"EJPost_Offer"},{id:"tip",title:g.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"EJPost_Tip"}]},{id:"blueWater",icon:"BlueWater.svg",displayOrder:["presentation","guide","flyer","tip","invitation"],allChildren:[{id:"presentation",title:g.getString("brand-examples-video-story"),aspectRatio:200/112,contentType:"video",thumb:"BWSC_Video"},{id:"guide",title:g.getString("brand-examples-guide"),aspectRatio:1,contentType:"post",thumb:"BWSC_PostProfile"},{id:"flyer",title:g.getString("brand-examples-flyer"),aspectRatio:200/294,contentType:"page",thumb:"BWSC_Page"},{id:"invitation",title:g.getString("brand-examples-invitation"),aspectRatio:1,contentType:"post",thumb:"BWSC_RecruitmentPost"},{id:"tip",title:g.getString("brand-examples-engaging-tip"),aspectRatio:1,contentType:"post",thumb:"BWSC_PostThanks"}]}]},events:{"click .brand-icon":"handleBrandIconClick","click .example-asset-item":"handleExampleAssetClick"},workflow:"brandsExamplesView",initialize:function(e){t.bindAll(this,t.functionsIn(this))},sendAnalytic:function(e){var t=this.model.get("parentWorkflow"),i=t?t+":"+this.workflow:this.workflow;a.trackEvent("brandsExamplesAction",e,i)},render:function(){return this._brandsRenderStage("beforeMustache"),this.$el.html(l.to_html(d,this.model.toJSON(),{})),this._brandsRenderStage("afterMustache"),this},_doChildSwitch:function(e,i){if(e.current){e.current.selector$&&e.current.selector$.removeClass("selected"),e.current.animDiv$.removeClass("selected"),e.current.animDiv$.addClass("anim-out"),e.current.animDiv$.addClass("anim-in");var n=e.current;t.delay((function(){e.current!==n&&(n.animDiv$.addClass("hide"),n.animDiv$.removeClass("anim-in"))}),750)}e.current=i,i.selector$&&i.selector$.addClass("selected"),e.current.animDiv$.addClass("selected"),e.current.animDiv$.removeClass("anim-in"),e.current.animDiv$.removeClass("hide"),t.delay((function(){e.current.animDiv$.removeClass("anim-out")}),1),this.current=e.current},setCurrentBrand:function(e){var t=this.model.get("brands");"string"==typeof e&&(e=t.byId[e]),e!==t.current?(this._doChildSwitch(t,e),this.examplesScroller.resetScroll()):this.current=e},_getOrderedChildrenSet:function(e,i){var n={},o=[];return t.each(i,(function(e,t){n[e]=t})),t.each(e,(function(e){var i=n[e.id];t.isUndefined(i)||(o[i]=e)})),t.compact(o)},_brandsRenderStage:function(n){var o=this.model.get("brands");if("beforeMustache"===n){o?this.model.set("brands",t.cloneDeep(o)):this.model.set("brands",t.cloneDeep(this.defaultBrands)),o=this.model.get("brands");var r=this.model.get("displayOrder")||o.displayOrder,a=this.model.get("exampleOrders"),s=c.contentTypeMap,d=[];o.children=this._getOrderedChildrenSet(o.allChildren,r),o.byId={},o.assetsById={},t.each(o.children,function(e){var n=o.assetsRoot+e.id+"/",r=a&&a[e.id]||e.displayOrder;o.byId[e.id]=e,e.logoUrl=n+e.icon,e.id===o.defaultId&&(e.selected=!0,o.current=e),e.assets=this._getOrderedChildrenSet(e.allChildren,r),t.each(e.assets,(function(t){var r=t.uri;t.thumbUrl=n+t.thumb,t.assetId=t.assetId||e.id+"_"+t.id,t.hwar=100/t.aspectRatio+"%",t.brandId=e.id,r||(t.model=new i.Model({assetId:t.assetId,type:s[t.contentType],useCase:t.title,uri:r,alias:t.alias})),o.assetsById[t.assetId]=t,d.push({id:t.assetId,url:t.thumbUrl})}))}.bind(this));var u=l.to_html(h,{assets:d,fileType:o.thumbFileType});this.model.set("examplesStyle",u)}else if("afterMustache"===n){t.each(this.$el.find(".example-assets-row"),(function(t){t=e(t),o.byId[t.data("id")].animDiv$=t})),t.each(this.$el.find(".brand-icon"),(function(t){t=e(t),o.byId[t.data("id")].selector$=t})),this.setCurrentBrand(o.current);var g=this.$el.find(".example-assets-row-mask"),m=new i.Model({scroller$:g.find(".example-assets-row-scroller"),content$:g.find(".example-assets-row")});this.examplesScroller?(this.examplesScroller.setElement(g),this.examplesScroller.model=m):this.examplesScroller=new p({el:g,model:m}),this.examplesScroller.render()}},handleBrandIconClick:function(t){var i=e(t.target).data("id");this.setCurrentBrand(i),this.sendAnalytic({type:"brandIconClick",brand:i})},handleExampleAssetClick:function(t){var i=e(t.currentTarget).closest(".example-asset-item"),n=i.data("assetid"),o=this.model.get("brands").assetsById[n],r=(this.model.get("parentZIndex")||1*this.$el.css("z-index")||0)+1,a=i.hasClass("can-preview");this.sendAnalytic({type:"brandAssetClick",assetId:n,canPreview:a}),a&&(m?m.setOptions({parentObj:this,model:o.model,fullScreen:!0,minZIndex:r}):m=new c({model:o.model,el:"#preview-overlay-fs",parentObj:this,fullScreen:!0,minZIndex:r}),m.showOverlay())},closeExample:function(){m&&m.handleCloseBtn()},remove:function(){this.examplesScroller&&this.examplesScroller.remove()}})}.apply(t,n))||(e.exports=o)},406:function(e,t){e.exports='{{#brands}}\n{{{examplesStyle}}}\n<div class="brands-examples-view flex-vertical{{#pickerOnTop}} picker-on-top{{/pickerOnTop}}">\n    <div class="brand-assets-holder example-assets-row-mask scroller-mask">\n        <div class="example-assets-row-scroller flex-vertical">\n        {{#children}}\n            <div class="example-assets-row flex-horizontal {{#selected}} selected{{/selected}}{{^selected}} anim-out hide{{/selected}}" data-id="{{id}}">\n                {{#assets}}\n                <div class="brand-asset example-asset-item flex-vertical {{contentType}}{{#uri}} can-preview{{/uri}}" data-assetid="{{assetId}}">\n                    <div class="asset-background" id="{{assetId}}" style="padding-top:{{hwar}};">\n                        <div class="show-asset-btn"></div>\n                    </div>\n                    <div class="asset-title">{{title}}</div>\n                </div>\n                {{/assets}}\n            </div>\n        {{/children}}\n        </div>\n    </div>\n    <div class="brand-picker flex-horizontal">\n        <div class="border-box"></div>\n    {{#children}}\n        <div class="brand-icon{{#selected}} selected{{/selected}}" data-id="{{id}}" style="background-image:url({{logoUrl}}"></div>\n    {{/children}}\n    </div>\n</div>\n{{/brands}}\n'},407:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(7),i(9),i(8),i(408),i(396),i(40),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p){"use strict";var h={theo:"post",slate:"page",voice:"video"},u=o.extend({el:"#preview-overlay",showFullScreen:!1,parentObj:null,events:{"click .preview-close-btn":"handleCaseOverlayCloseBtn","click .preview-blank-one-btn":"handleBlankOneClick","click .preview-resize-out-btn":"handleResizeOut","click .preview-resize-in-btn":"handleResizeIn","click .close-toast":"badgeToastClose"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),e.fullScreen&&(this.showFullScreen=e.fullScreen),e.parentObj&&(this.parentObj=e.parentObj),this.minZIndex=e.minZIndex||0},setOptions:function(e){this.showFullScreen=e.fullScreen,this.parentObj=e.parentObj,this.minZIndex=e.minZIndex||0,this.model=e.model||this.model},_getTypeName:function(e){return h[e]?h[e]:e},_getCreateNewButtonText:function(e){var t,i=c.getAppByType(e).getDisplayName();switch(e){case"post":t=s.hasFeature("post-gallery-remix")?"Remix this Post":"Create new "+i;break;default:t="Create new "+i}return t},createShareURI:function(e,t,i){if("theo"==t)return null;var n=p.publishedContentBases;if(n[t])return n[t]+"/"+i+"/";throw new Error("Unkown example type: "+t)},createFacebookShareURI:function(e,t,i){var n=this.createShareURI(e,t,i);return n?"https://www.facebook.com/sharer/sharer.php?u="+n:null},createTwitterShareURI:function(e,t,i){var n=this.createShareURI(e,t,i);if(!n)return null;switch(t){case"voice":return"https://twitter.com/intent/tweet?text="+encodeURIComponent('Check out this video: "'+e+'" '+n+" #adobespark via @AdobeSpark");case"slate":return"https://twitter.com/intent/tweet?text="+encodeURIComponent('Check out this web story: "'+e+'" '+n+" #adobespark via @AdobeSpark");default:throw new Error("Unkown example type: "+t)}},render:function(){if(this.$el.html(l.toString()),this.pageBody$=e("body"),this.bodyHasNoScroll=this.pageBody$.hasClass("no-scroll"),this.pageBody$.addClass("in-preview"),this.showBadge||e(".video-promotion").hide(),this.showFullScreen){this.$el.find(".preview-resize-in-btn").addClass("hide"),this.handleResizeOut();var n=this.createFacebookShareURI(this.model.get("title"),this.model.get("type"),this.model.get("alias")),o=this.createTwitterShareURI(this.model.get("title"),this.model.get("type"),this.model.get("alias"));n&&(e(".facebook-icon-item").removeClass("hide"),e(".preview-facebook-icon").attr("href",n)),o&&(e(".twitter-icon-item").removeClass("hide"),e(".preview-twitter-icon").attr("href",o))}else this.$el.find(".preview-social-icons").addClass("hide");this.iframeWrap$=this.$el.find(".preview-iframe-wrap"),this.iframeContainer$=this.$el.find(".preview-iframe-container"),this.iframe$=this.$el.find(".preview-iframe"),this.div$=this.$el.find(".preview-div"),this.divWrap$=this.$el.find(".preview-div-wrap"),this.type$=this.$el.find(".preview-case-type"),this.makeNewButton$=this.$el.find(".preview-blank-one-btn"),s.hasFeature("create-from-enabled")&&this.$el.find(".preview-make-one-btn").removeClass("hide");var r=this.model.get("type"),a=this._getTypeName(r),h=this.model.get("uri");"theo"===r?(this.div$.css("background-image","url("+h+")"),this.divWrap$.removeClass("hide"),this.iframeContainer$.addClass("hide")):("voice"===r?(this.iframe$.attr("src",h),e(".preview-resize-out-wrapper").addClass("hide"),this.showFullScreen&&(this.resizeVideo(),e(window).on("resize.resizevoice",this.resizeVideo))):this.iframe$.attr("src",h),this.divWrap$.addClass("hide"),this.iframeContainer$.removeClass("hide"));var u=c.getAppByType(a).getDisplayName();this.makeNewButton$.text(this._getCreateNewButtonText(a)),this.makeNewButton$.addClass(r),this.type$.text(u),this.type$.addClass(r),this.iframeWrap$.addClass(r),this.iframe$.addClass(r),this.iframeContainer$.addClass(r),this.$el.find(".case-overlay-shell").addClass(r),this.$el.find(".preview-main-area").addClass(r);var g=this.model.get("useCase"),m=this.model.get("description");(this._resetZIndexString=null,this.minZIndex)&&(1*this.$el.css("z-index")<this.minZIndex&&(this._resetZIndexString=this.$el[0].style.zIndex,this.$el.css("z-index",this.minZIndex)));if(g&&(this.caseTitle$=this.$el.find(".preview-case-title"),this.caseTitle$.text(g)),m&&(this.caseDesc$=this.$el.find(".preview-case-desc"),this.caseDesc$.text(m),this.caseDesc$.removeClass("hide")),this.caseRelated$=this.$el.find(".preview-case-related-items"),this.model.get("related")&&this.model.get("related").length){var f=this.model.get("related"),v=f.length>2?2:f.length,b=f.slice(0,v);t.each(b,function(e){d.getExample(e).then(function(e){var t=new i.Model(e),n=t.get("type");"theo"==n?h=t.get("imageURI")?t.get("imageURI"):t.get("thumbURI"):"voice"==n?(h=t.get("embedURI"))||(h="https://cc-api-cp.adobe.io/api/v2/voice/assets/"+t.get("alias")+"/video/embed?api_key=LucaApp1"):h=p.slateExampleServer+t.get("alias")+"/",t.set("uri",h);var o=this.createRelatedIem(t);this.caseRelated$.append(o)}.bind(this))}.bind(this))}else this.$el.find(".preview-case-related").addClass("hide");return this.showBadge&&(this.toast=this.$el.find("#custom-toast"),e("#custom-toast-text").attr("href","https://www.adobe.com/go/how-to-make-addictive-cooking-videos-for-social-media"),"mini-chocolate-cakes-recipe"!==this.model.get("slug")&&this.toast.hide(),this.badgeToastShow()),this.delegateEvents(),this},badgeToastShow:function(){var t=e(window).width()<=800?"400px":"353px";t=e(window).width()<=500?"300px":t,t=320===e(window).width()?"276px":t,setTimeout((function(){e("#custom-toast-text").delay(3e3).animate({width:t,opacity:"1"},{duration:700,queue:!1}),e(".close-toast").delay(1e3).animate({opacity:"1"},{duration:300,queue:!0})}),4e3)},badgeToastClose:function(){e(".close-toast").animate({opacity:"0"}),e("#custom-toast-text").animate({width:"0",opacity:"0"},{duration:400,queue:!1}),e("#custom-toast").animate({opacity:"0"},{duration:100,queue:!1}),e(".badgeBounce").addClass("badgeBounceReverse")},resizeVideo:function(){var t=e(window),i=t.width();i=.7*i>1280?1280:.7*i;var n,o,r=parseInt(t.height()-67);i/(16/9)>r?(o=r,n=r*(16/9)):(n=i,o=i/(16/9)),n=Math.ceil(n),o=Math.ceil(o),this.iframeContainer$.width(n),this.iframeContainer$.height(o);var a=(r-o)/2;if(this.iframeContainer$.css("margin-top",a),this.iframeContainer$.css("margin-bottom",a),this.showBadge){this.$el.find(".preview-main-area").height();r<800&&i>414&&(this.iframeContainer$.width(951),this.iframeContainer$.height(535),this.iframeContainer$.css("margin-top","17.5px"),this.iframeContainer$.css("margin-bottom","17.5px"))}},createRelatedIem:function(t){var i=t.get("type"),n=c.getAppByType(this._getTypeName(i)).getDisplayName(),o=e("<div></div>").addClass("preview-case-related-item"),r=e("<div></div>").addClass("preview-case-type").text(n).addClass(i),a=e("<div></div>").addClass("preview-case-related-thumb").css("background-image","url("+t.get("thumbURI")+")").addClass(i),s=e("<div></div>").addClass("preview-case-related-title").text(t.get("useCase"));return o.append(r).append(a).append(s),this.parentObj&&o.on("click",function(e){e.stopPropagation(),this.parentObj.handleExampleClick(t)}.bind(this)),o},_openEditor:function(){if(c.getAppByType(this._getTypeName(this.model.get("type"))).requestAppCreateNew("npw-example-blank","organizer:projects",{projectOverlay:"v1.1",exampleAlias:this.model.get("alias")}))return marvel.events.trigger("remove-first-use-prep"),!0},handleResizeOut:function(){this.showFullScreen?this.$el.find(".case-overlay-shell").addClass("case-overlay-shell-only-full-screen"):this.$el.find(".case-overlay-shell").addClass("case-overlay-shell-full-screen")},handleResizeIn:function(){this.$el.find(".case-overlay-shell").removeClass("case-overlay-shell-full-screen")},handleBlankOneClick:function(e){if("theo"==this.model.get("type")&&s.hasFeature("post-gallery-remix"))marvel.navigate("/remix-gallery/post/"+this.model.get("alias"),{trigger:!0}),this.hideOverlay();else{if(!this._openEditor())return!1;this.hideOverlay()}},onHide:function(){this.bodyHasNoScroll||this.pageBody$.removeClass("no-scroll"),this.pageBody$.removeClass("in-preview"),this.showFullScreen=!1,null!==this._resetZIndexString&&this.$el.css("z-index",this._resetZIndexString),this.$el.empty(),this.undelegateEvents(),e(window).off("resize.resizevoice")},handleCaseOverlayCloseBtn:function(){a.trackEvent("CaseOverlayCloseBtnClicked",{context:this.model.get("alias")},"exampleviewer:case-overlay"),this.handleCloseBtn()}});return u.contentTypeMap={video:"voice",page:"slate",post:"theo"},u}.apply(t,n))||(e.exports=o)},408:function(e,t){e.exports='<div class="case-overlay-shell" data-auto="case-overlay-shell">\n    <div class="preview-full-screen-overlay clearfix">\n        <ul class="preview-social-icons clearfix">\n            <li class="facebook-icon-item hide"><a href="#" class="preview-social-icon preview-facebook-icon" target="_blank"><img src="/images/facebook-grey.svg" alt="Facebook" class="preview-facebook-icon"></a></li>\n            <li class="twitter-icon-item hide"><a href="#" class="preview-social-icon preview-twitter-icon" target="_blank"><img src="/images/twitter-grey.svg" alt="Twitter" class="preview-twitter-icon"></a></li>\n        </ul>\n        <button class="preview-blank-one-btn" data-auto="preview-blank-one-btn-fs">Create new video</button>\n    </div>\n    <div class="mrvl-overlay-actions">\n        <button class="preview-resize-in-btn" data-auto="preview-resize-in-btn"></button>\n        <button class="preview-close-btn" data-auto="preview-close-btn"></button>\n    </div>\n\n    <div class="preview-main-area">\n        <div class="preview-iframe-container hide">\n            <div class="preview-iframe-wrap">\n                <iframe name="case-overlay-iframe" class="preview-iframe" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n                <div class="preview-resize-out-wrapper">\n                    <div class="preview-resize-out-btn" data-auto="preview-resize-out-btn"></div>\n                </div>\n            </div>\n        </div>\n        <div class="video-promotion">\n            <div id="custom-badge-toast" class="badge-position">\n                <a href="/about"><img id="custom-badge" class="badge badgeBounce" src="/images/feature-promotion/new-video-badge-dark@2x.png"></a>\n                <div id="custom-toast" class="badge-text">\n                    <a id="custom-toast-text" href="#">How to craft a great recipe video</a>\n                    <div class="close-toast circle">\n                        <span class="close"></span>\n                    </div> \n                </div>\n            </div>\n        </div>\n        <div class="preview-div-wrap hide">\n            <div class="preview-div"></div>\n        </div>\n    </div>\n\n    <div class="preview-case-area">\n        <div class="preview-case-panel">\n            <div class="preview-case-top">\n                <div class="preview-case-type" data-auto="preview-case-type"></div>\n                <h2 class="preview-case-title"></h2>\n                <p class="preview-case-desc hide"></p>\n\n                <div class="preview-make-btns">\n                    <div class="preview-blank-one-btn" data-auto="preview-blank-one-btn">Create new Page</div>\n                </div>\n            </div>\n            <div class="preview-case-related">\n                <h4>More like this:</h4>\n\n                <div class="preview-case-related-items clearfix"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},409:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(94)],void 0===(o=function(e,t,i,n,o){"use strict";return i.View.extend({events:{"mouseover .scroller-hit-area":"handleMouseOverHitArea","mousemove .scroller-hit-area":"handleMouseMoveHitArea","mouseleave .scroller-hit-area":"handleMouseLeaveHitArea"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this._debouncer=t.debounce(this.windowResized,100).bind(this)},render:function(){var i=o.getPlatformInfo(),n=this.$el.find(".scroller-hit-area left"),r=this.$el.find(".scroller-hit-area right");return this.$el.addClass("scroller-mask").addClass(i.cssString),this._appliedPlatformCssString=i.cssString,i.supportsTrackScrollH?(this._browserScroller=!0,n.length&&n.addClass("hide"),r.length&&r.addClass("hide")):(n.length||(n=e('<div class="scroller-hit-area left"></div>'),this.$el.append(n)),r.length||(r=e('<div class="scroller-hit-area right"></div>'),this.$el.append(r)),this._setScrollSupportNotification(!0)),this.right$=r,this.left$=n,this.scroller$=this.model.get("scroller$"),this._currentTarget$=this.scroller$.find("div:visible:first"),this.scroller$.addClass("initting"),this.scroller$.addClass("scroller"),this.resetScroll(),t.delay(function(){this.scroller$.removeClass("initting")}.bind(this),0),this._debouncerEventsSet||(this._debouncerEventsSet=!0,e(window).on("resize.sidescroller",this._debouncer)),this._removed=!1,this},_setScrollSupportNotification:function(e){e!==this._requested_scroll_suport_notification&&(e?(this._requested_scroll_suport_notification=!0,marvel.events.on("platformUtils:detected-support-track-scroll-h",this.detectedScrollSupport.bind(this))):(this._requested_scroll_suport_notification=!1,marvel.events.off("platformUtils:detected-support-track-scroll-h",this.detectedScrollSupport.bind(this))))},detectedScrollSupport:function(e){this._setScrollSupportNotification(!1),this._appliedPlatformCssString&&this.$el.removeClass(this._appliedPlatformCssString),this.$el.addClass("scroller-mask").addClass(e.cssString),this._appliedPlatformCssString=e.cssString,this._browserScroller=!0,this.resetScroll()},startCheck:function(){this.clearTheInterval(),this.scrollCheck()},startInterval:function(e){this.scrollInterval&&clearInterval(this.scrollInterval),this.scrollInterval="waitToStart"===e?setInterval(this.startCheck.bind(this),100):setInterval(this.scrollCheck.bind(this),5)},handleMouseOverHitArea:function(t){this._currentTarget$=e(t.currentTarget),this._currentOffsetX=t.offsetX,this.startInterval("waitToStart")},handleMouseMoveHitArea:function(t){this._currentTarget$=e(t.currentTarget),this._currentOffsetX=t.offsetX},clearTheInterval:function(){this.scrollInterval&&(clearInterval(this.scrollInterval),this.scrollInterval=null)},handleMouseLeaveHitArea:function(e){this.clearTheInterval(),this._currentOverEdgeScroll=0},resetScroll:function(){this.setNewMiddle(0),this.clearTheInterval()},setNewMiddle:function(e){var t=this.scroller$.find("div:visible:first"),i=this.$el.width(),n=.5*(t.outerWidth()-i);this.setNewScrollValue(e-n)},setNewScrollValue:function(t){var i,n,o=this.scroller$.find("div:visible:first"),r=e(document).width(),a=this.$el.width(),s=.5*(a-r),l=o.outerWidth(),d=.5*(l-a);this.scroller$.css("width",l+"px"),l<a?(t=d,this.left$.addClass("disabled"),this.right$.addClass("disabled"),this.$el.addClass("scroll-not-needed"),this.scroller$.css("transform","")):(this.$el.removeClass("scroll-not-needed"),this._browserScroller?(n=800,(t=-t)<(i=0)?t=i:t>n&&(t=n),this.scroller$.css("transform",""),this.$el.scrollLeft(t)):(i=a-(l+s),t>(n=0+s)?(t=n,this.left$.addClass("disabled"),this.right$.removeClass("disabled")):t<i?(t=i,this.right$.addClass("disabled"),this.left$.removeClass("disabled")):(this.right$.removeClass("disabled"),this.left$.removeClass("disabled")),this.scroller$.css("transform","translateX("+t+"px)"))),this._scrollValue=t},scrollCheck:function(){var e,t=this._currentTarget$.hasClass("left")?-1:1,i=this._currentTarget$.width(),n=this._scrollValue;e=-1===t?n+9*(1-this._currentOffsetX/i):n-9*(this._currentOffsetX/i),this.setNewScrollValue(e),this._scrollValue!=e?(this.clearTheInterval(),this._currentOverEdgeScroll=0):this._currentOverEdgeScroll!==t&&this.startInterval("scrollCheck")},isShowing:function(){return!this._removed},windowResized:function(){this.isShowing()?this.resetScroll():(this._debouncerEventsSet=!1,e(window).off("resize.sidescroller",this._debouncer))},remove:function(){return this._setScrollSupportNotification(!1),this._appliedPlatformCssString&&(this.$el.removeClass(this._appliedPlatformCssString),this._appliedPlatformCssString=null),this._debouncerEventsSet&&(this._debouncerEventsSet=!1,e(window).off("resize.sidescroller",this._debouncer)),this._removed=!0,this}})}.apply(t,n))||(e.exports=o)},410:function(e,t,i){var n=i(411);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},411:function(e,t,i){(e.exports=i(91)(!1)).push([e.i,".brands-examples-view .brand-assets-holder{-webkit-order:1;order:1}.brands-examples-view .brand-picker,.brands-examples-view.picker-on-top .brand-assets-holder{-webkit-order:2;order:2}.brands-examples-view.picker-on-top .brand-picker{-webkit-order:1;order:1}.example-assets-row{-webkit-transform:translate(0);transform:translate(0);opacity:1;transition:opacity .7s;display:-webkit-flex;display:flex}.example-assets-row.anim-out{opacity:0}.example-assets-row.anim-in{top:0;position:absolute}.example-assets-row.selected{display:-webkit-flex;display:flex}.example-assets-row .example-asset-item{height:250px}.example-assets-row .example-asset-item .asset-background{width:250px}@media (max-width:1024px){.example-assets-row .example-asset-item{width:200px;height:200px}.example-assets-row .example-asset-item .asset-background{width:200px}}.brand-picker{margin-top:54px;margin-bottom:60px;position:relative;max-width:calc(100vw - 16px);padding-left:16px;padding-right:16px}.brand-picker .border-box{position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:2px solid #dadee1}.brand-picker .brand-icon{z-index:1;width:80px;height:80px;background-size:50px 50px;background-position:top;background-repeat:no-repeat;margin-left:10px;margin-right:10px;cursor:pointer;transition:border-color .7s;border-bottom:2px solid #dadee1;opacity:.5}.brand-picker .brand-icon:last-child{margin-right:0}.brand-picker .brand-icon:nth-child(2){margin-left:0}.brand-picker .brand-icon.selected{border-bottom:2px solid #35414c;opacity:1}.brand-picker .brand-icon:hover{border-bottom:2px solid #35414c}@media (max-width:375px){.brand-picker .brand-icon{background-size:contain}}",""])},427:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(21),i(762),i(89),i(128),i(611),i(2514),i(4),i(262),i(38),i(9),i(287),i(266),i(258),i(622),i(139),i(130)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v,b,w,k){"use strict";var x=w.default,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return new(s.extend({_saveDeferredQueue:[],_getLucaDatTemplate:function(){return{version:2.4,viewCount:0,likeCount:0,cpVersion:"2.0",lucaAssetLocation:"",publishURL:"",cpAssetID:"",cpHash:"",category:"",scope:"",overrideCredits:!1,customCredits:"",authorFirstName:"",authorLastName:"",displayAuthorProfile:!1,created:"",lastModified:"",lastShared:"",ownerAdobeID:"",title:"",lucaUUID:"",imagePickerContexts:[]}},_getSlateDataTemplate:function(){return{version:2.5,category:"",scope:"",title:"",publishTitle:this.getSetting("newDocName"),publishTitleIsUserSet:!1,lastSharedTitle:"",overrideCredits:!1,customCredits:"",authorFirstName:"",authorLastName:"",displayAuthorProfile:!1,headerDisabled:void 0,lastPublishedHeaderDisabled:void 0,imagePickerContexts:[],googleAnalyticsId:null,lastPublishedGoogleAnalyticsId:null,cookieBannerEnabled:!1,lastPublishedCookieBannerEnabled:null,cookieBannerText:"",lastPublishedCookieBannerText:null,cookieBannerConsentCTA:"",lastPublishedCookieBannerConsentCTA:null}},getSetting:function(e){},seedNewDoc:function(t){var i=this.currentDoc.getDCXComposite(),n=i.current,r=this.currentDoc.getDCXRoot(),a=n.getChildrenOf(n.rootNode).find((function(e){return"page"===e.getValue("name")}));a||(a=n.addChild("page",void 0,0,n.rootNode)),this.currentDoc.addComponent({parent:a,name:"content",relationship:"primary",type:"application/vnd.adobe.luca.content+json",path:"luca.json",contents:"{}"});var s=(new Date).toUTCString(),l=this._getSlateDataTemplate();r.setValue("slate#data",l),l=e.extend(this._getLucaDatTemplate(),{lucaUUID:i.id,created:s,lastModified:s,ownerAdobeID:o.getProfile().userId}),this.currentDoc.addComponent({parent:a,name:"data",relationship:"primary",type:"application/vnd.adobe.luca.data+json",path:"lucaDat.json",contents:JSON.stringify(l)}).setModified()},_startingCreateDoc:function(){this.loadDocumentPromise=null},loadDocument:function(){return this.loadDocumentPromise||(this.loadDocumentPromise=s.prototype.loadDocument.call(this).then(function(e){e.getMyApp().clearCheckBrandFlags();var t=n(),i=null;return e.isNew()||(t=t.thenResolve(n.all([this._getComponentWithRetry(e,"/luca.json"),this._getComponentWithRetry(e,"/lucaDat.json")])).spread(function(t,o){var r=e.getDCXComposite().current,a=n(),s=!1;if(t&&"{}"!=t){try{i=JSON.parse(t)}catch(e){throw console.error("[slate] slate-app-storage failed to parse and init the luca.json model",{content:t,error:e}),e}if(!i.pages){var l=this._getComponentVersionByPath(r,"luca.json");if(null===l||l>0)throw new Error("pages array not found at lucaComponentVersion "+l);marvel.logger.warn("[slate] luca.json is missing pages[]")}var d=this._updateJsonImagePaths(i,r);o||(s=!0,o=this._getNewLucaDatState(i)),a=(a=a.thenResolve(this._ensureBrandKit(i,e))).then(function(){this._ensureLucaComponent(i,r,e)}.bind(this))}else if(!(this._getComponentByPath(r,"luca.json")||this._getComponentByPath(r,"lucaDat.json")||t||o)){var c=e.getDCXComposite(),p={id:c.id,title:c.name};o=this._getNewLucaDatState(p),this.seedNewDoc(),marvel.logger.warn("[slate] luca.json and lucaDat.json reference are missing from manifest")}return a.then(function(){this._ensureSlateData(e,o),this._ensureLucaDatWithState(r,e,s,o),this._cleanupUnusedImageComponents(d)}.bind(this))}.bind(this))),(t=t.then(function(){if(!i)return this._ensureBrandKit({},e)}.bind(this))).thenResolve(e)}.bind(this))),this.loadDocumentPromise},_getComponentWithRetry:function(e,t){var i=0;return k((function(){return e.getComponent(t)}),{maxAttempts:6,shouldRetry:r._isRetryableError,counter_cb:function(){i++},loggerFn:function(){marvel.logger.warn("[slate] loading component retried",{componentPath:t,attempt:i})}})().then((function(e){return i>0&&marvel.logger.info("[slate] loading component completed",{componentPath:t,attempt:i}),e})).catch((function(e){return marvel.logger.error("[slate] loading component failed after max attempts",{componentPath:t,attempt:i,error:e}),n.reject(e)}))},_updateJsonImagePaths:function(e,t){var i=e.pages&&e.pages.length?e.pages[0]:null,n=[];if(i)for(var o=i.sections,r=0,a=o.length;r<a;r++)for(var s=o[r].content_items,l=0,c=s.length;l<c;l++){var p=s[l].image;if(p&&p.image_url){var h=t.getComponentWithAbsolutePath("/"+d.setQueryParams(p.image_url));h&&(p.image_url=d.setQueryParam(p.image_url,"asset_id",h.id),n.push({url:p.image_url,asset_id:h.id}))}}return n},_getComponentByPath:(e,t)=>e.allComponents().find((function(e){return e.path===t})),_getComponentVersionByPath(e,t){var i=this._getComponentByPath(e,t);return i?parseInt(i.version):null},_ensureBrandKit:function(e,t){return u.getController().then(function(e){return this._ensureDocumentContext(t,e)}.bind(this)).then(function(i){this.updateJsonTheme(e,i,t)}.bind(this))},_ensureDocumentContext:function(e,t){var i=e.getMyApp(),n=i.getAuthoringContextId(e);return t.getContextById(n).then(function(t){var o=n&&!t;return marvel.features.hasFeature("entitle-brand-kit")?t||u.getDefaultBrand().then((function(t){var n=null;return t&&(n=t.getId()),i.setAuthoringContextId(e,n,!o).thenResolve(t)})):o?i.setAuthoringContextId(e,null,!o).thenResolve(null):null}.bind(this))},updateJsonTheme:function(e,t,i){var n=(i=i||this.currentDoc).getMyApp().getAuthoringContextThemeId(i);if(t&&n){var o=t.getThemeById(n);if(o){var r=e.theme,a=o.getValue("theme#data");r&&a&&m(r,a),e.theme=a,e.theme.id=n,e.theme.brandId=t.getId()}}},_ensureLucaComponent:function(e,t,i){var n=i.getComponentWithAbsolutePath("/luca.json");if(n)n.set("contents",JSON.stringify(e));else{var o=t.getComponentWithAbsolutePath("/luca.json");i.addComponent({name:o.name,relationship:o.relationship,type:o.type,path:o.path,contents:JSON.stringify(e)})}},_ensureSlateData:function(t,i){var n=t.getDCXRoot(),o=n.getValue("slate#data");if(!o){var r=this._getSlateDataTemplate();if(i){var a=JSON.parse(i);for(var s in o={},r)if(r.hasOwnProperty(s)){var l=a[s];o[s]=l}o.version=r.version,o=e.extend(r,o)}else o=r}o.publishTitle||(o.publishTitle=o.title),o.lastSharedTitle||(o.lastSharedTitle=o.publishTitle),n.setValue("slate#data",o)},_ensureLucaDatWithState:function(e,t,i,n){var o=t.getComponentWithAbsolutePath("/lucaDat.json");if(o)o.set("contents",n);else{var r=e.getChildrenOf()[0];o=t.addComponent({parent:r,name:"data",relationship:"primary",type:"application/vnd.adobe.luca.data+json",path:"lucaDat.json",contents:n})}i&&o.setModified()},_cleanupUnusedImageComponents:function(e){var i=this.currentDoc.getDCXComposite().current,n=t.find(i.getChildrenOf(),(function(e){return"page"==e.name})),o=i.getComponentsOf(n);t.each(o,(function(n){"image"===n.name&&(t.find(e,(function(e){return e.asset_id===n.id}))||i.removeComponent(n))}))},_getNewLucaDatState:function(t){var i=(new Date).toUTCString();return JSON.stringify(e.extend(this._getLucaDatTemplate(),{lucaUUID:t.id,created:i,lastModified:i,ownerAdobeID:o.getProfile().userId,title:t.title?t.title:""}))},getData:function(e,t){var i=(t=t||this.currentDoc).getDCXRoot().getValue("slate#data");if(i)return i[e];var n=t.getComponentWithAbsolutePath("/lucaDat.json");if(n){var o,r=n.get("contents");try{o=JSON.parse(r)}catch(t){console.error("[slate] slate-app-storage failed to getData",{key:e,stateStr:r,error:t})}return o[e]}},setData:function(e,t,i){var n;i=i||this.currentDoc,"object"==typeof e?n=e:(n={})[e]=t;var o,r,a=i.getDCXRoot(),s=i.getComponentWithAbsolutePath("/lucaDat.json");if(s){var l=s.get("contents"),d=l.length;if(l&&d)try{o=JSON.parse(l)}catch(t){console.error("[slate] slate-app-storage failed to setData",{keyOrObject:e,stateStr:l,stateStrLength:d,error:t})}else console.error("[slate] unable to update keyOrObject to lucaDat.json",{keyOrObject:e,stateStr:l,stateStrLength:d});if("string"==typeof n.credits&&(n.customCredits=n.credits,delete n.credits),"string"==typeof n.customCredits){var c=this.getDocumentDefaultCredits(),p=n.customCredits;p!=c?0===p.indexOf(c)?(n.overrideCredits=!1,n.customCredits=p.substr(c.length)):(n.overrideCredits=!0,n.customCredits=p):(n.overrideCredits=!1,n.customCredits="")}if(o){for(r in n)n.hasOwnProperty(r)&&(o[r]=n[r]);s.set("contents",JSON.stringify(o)),s.setModified()}}for(r in o=a.getValue("slate#data"),n)n.hasOwnProperty(r)&&(o[r]=n[r]);a.setValue("slate#data",o)},addComponent:function(e){return this.currentDoc.addComponent(e),this.nextSave()},nextSave:function(){var e=n.defer();return this._saveDeferredQueue.push(e),e.promise},getImage:function(t,i,o){var r=new n.defer,a=this.currentDoc.getDCXComposite().current.getComponentWithAbsolutePath(t);return this.currentDoc.getImageComponentHref(t,i.size).then(function(t){var i=0;!function n(){var o=document.createElement("img"),s=a.path+"?asset_id="+a.id+"&img_etag="+a.etag;o.onload=function(){r.resolve({path:s,size:{width:o.width,height:o.height}})},o.onerror=function(){e.get(s).success(l).error(d)};var l=function(e,t,o){i<2?n():d(o,t,"Image not accepting URL")},d=function(e,t,i){var n=i,o=1;"Image not accepting URL"!==i&&(o=e.status),r.reject({message:n,status:o})};i++,o.src=t}()}.bind(this)).catch((function(e){r.reject(e)})).done(),r.promise},copyThumbnailFrom:function(e,t){var i,o=n.defer();if(!e)return(i=this.currentDoc.getComponentWithAbsolutePath("/cover.jpg"))&&this.currentDoc.removeComponent(i),o.resolve(),o.promise;if(t){var r=t.split(" ");t={x:parseFloat(r[0])/100,y:parseFloat(r[1])/100}}else t={x:.5,y:.5};var a,s=document.createElement("canvas"),d=new Image;return d.onload=function(){var e=d.width,n=d.height,r=e/n;768/576<=r?e=(n=576)*r:768/576>r&&(n=(e=768)/r);var c=t.x,p=t.y,h=e*c,u=n*p,g=768*c,m=576*p,f=Math.round(Math.min(g-h,h-g)),v=Math.round(Math.min(m-u,u-m));s.width=768,s.height=576,s.getContext("2d").drawImage(d,f,v,e,n),a=l(s.toDataURL("image/jpeg")),(i=this.currentDoc.getComponentWithAbsolutePath("/cover.jpg"))?(i.set("file",a),i.setModified()):(i=this.currentDoc.addComponent({name:"cover",relationship:"rendition",type:"image/jpeg",path:"cover.jpg",file:a})).setModified(),o.resolve()}.bind(this),d.onerror=function(e){o.reject(e)},d.src=e,o.promise},setWebCoverImage:function(e,t){var i=this.currentDoc.getDCXRoot(),n=t.split(" ");e=(e=e||"").replace(/^([^\#\?]*)\??[^\#]*\#?.*$/,"$1"),i.setValue("slate#coverpath",e),i.setValue("slate#coverx",n[0]),i.setValue("slate#covery",n[1])},clearWebCoverImage:function(){var e=this.currentDoc.getDCXRoot();e.removeValue("slate#coverpath"),e.removeValue("slate#coverx"),e.removeValue("slate#covery")},_settingCoverImage:!1,_coverImageUpdateQueue:[],generateEmbedImage:function(e,t,i,n,o,r,a){return c.generate({title:e,subtitle:t,backgroundImage:n,titlePosition:i,imagePosition:o,theme:r,authoringContext:a,width:1024,height:512})},debugEmbedImage:function(t,i,n,o,r,a,s){var l=e(".debug-embed-image-holder");if(0==l.length){l=e("<div>").addClass(".debug-embed-image-holder").css({position:"absolute",width:"50%",top:0,left:0,zIndex:9999,backgroundColor:"rgba(0,0,0,0.8)",textAlign:"center",padding:"2px"});var d=e("<img>").css({width:"100%"}),c=e("<button>").text("Close").css({padding:"6px 9px",margin:"4px"}).one("click",(function(e){l.remove()}));l.append(d),l.append(c),e("body").append(l)}return this.generateEmbedImage(t,i,n,o,r,a,s).then((function(e){l.find("img").attr("src",e)}))},setEmbedImage:function(e,t,i,n,o,r,a){var s=this;return this.generateEmbedImage(e,t,i,n,o,r,a).then((function(e){var t=l(e),i=s.currentDoc.getComponentWithAbsolutePath("/embed.jpg");i?i.set("file",t):i=s.currentDoc.addComponent({name:"shareImage",relationship:"rendition",type:"image/jpeg",path:"embed.jpg",file:t}),i.setModified()}))},removeImage:function(e){var i=this.currentDoc.getDCXComposite().current,n=new RegExp("images/"+e+"."),o=t.find(i.getChildrenOf(),(function(e){return"page"==e.name})),r=i.getComponentsOf(o),a=t.find(r,(function(e){return"image"===e.name&&e.path.search(n)>=0}));a&&i.removeComponent(a)},getDocument:function(e){var t=(e||this.currentDoc).getComponentWithAbsolutePath("/luca.json");return t&&JSON.parse(t.get("contents"))},checkAndSetBranded:function(e){var t=this.getData("headerDisabled"),i=void 0!==t&&!t,n=!b.isBuiltInTheme(e);this.setBranded(i||n)},setBranded:function(e){var t=this.currentDoc.getDCXRoot();e&&!1===t.getValue("authctx#uses-branded-elements")&&g.trackEvent("addedBrandingToProject",{contextData:["projectId"]},"slate:editor"),t.setValue("authctx#uses-branded-elements",e)},isBranded:function(){return this.currentDoc.getDCXRoot().getValue("authctx#uses-branded-elements")},saveDocument:function(e,t){var i=x.beginTrackingFlow("saveProjectFromEditor",{sparkFormat:"page",projectId:this.currentDoc?this.currentDoc.id:"unknown",projectUrn:this.currentDoc?this.currentDoc.getDCXComposite().assetId:"unknown"},{isAsynchronous:!0});return t=t||{},h.execute("Save Slate",5,function(o){var r=null,a=n().then(function(){return this.currentDoc.saveChanges(function(i){try{if(e){i.setValue("slate#modelVersion",e.model_version),t.skipContentModifiedTimestamp||this.currentDoc.setContentModifiedIfNeeded();var n=this.currentDoc.getComponentWithAbsolutePath("/luca.json");n.set("contents",JSON.stringify(e)),n.setModified();var o=this.currentDoc.getDCXComposite().current;o&&(n=o.getComponentWithAbsolutePath("/embed.jpg"))&&"shareImage"!=n.name&&(n.name="shareImage")}for(;this._saveDeferredQueue.length;)this._saveDeferredQueue.shift().resolve(this.currentDoc.getDCXComposite())}catch(e){r=e}}.bind(this),t.override,(function(){return{slateDocJSON:e,isPublishing:t.isPublishing}}))}.bind(this)).then((function(e){if(r)throw r;return x.endTrackingFlow("saveProjectFromEditor",{asynchronousTrackingFlowId:i}),e}));o.promises.push(a)}.bind(this))},overrideDocument:function(e,t){var i=this.saveDocument(e,{override:!0});return t&&i.then((function(){t.resolve()})).catch((function(e){t.reject(e)})).done(),i},resolveConflict:function(t,i,o,s,l){var d,c;if(i){var h=i();d=h.slateDocJSON,c=h.isPublishing}else c=a.isPublishing;var u,g,f=t._data["cp#contentModified"],v=this,b=s.current.rootNode,w=!1,k=!1,x=!1,y=l.getComponentWithAbsolutePath("/lucaDat.json"),S=t.getComponentWithAbsolutePath("/lucaDat.json");(y&&S?n.all([r.getComponent(y),r.getComponent(S)]):n.resolve(["{}","{}"])).spread((function(e,t){try{u=JSON.parse(e)}catch(e){throw new Error("base lucaDat.json is not JSON-parseable")}try{g=JSON.parse(t)}catch(e){throw new Error("remote lucaDat.json is not JSON-parseable")}})).then((function(){for(var i,o,r,a=m(u,g)||[],s={likeCount:!0,viewCount:!0},d=!1,c=0,h=a.length;c<h;c++){if(!s[r=(o=(i=a[c]).path)?o[o.length-1]:""]){x=!0;break}d=!0}var f,v=!1;for(s={"cp#assetId":!0,"cp#shortId":!0,"cp#contentEtag":!0,"cp#contentModified":!0,"cp#publishedEtag":!0,"cp#projectId":!0},c=0,h=(a=m(l._data,t._data)||[]).length;c<h;c++){var y=(o=(i=a[c]).path)[0];if("cp#assetId"==(r=o?o[o.length-1]:"")&&(!a.rhs&&i.lhs?(f=i.lhs,k=!0,v=!0):!a.lhs&&i.rhs&&(f=i.rhs,w=!0,v=!0)),!x&&"local"!=y&&!s[r]){var S,_=t.getComponentsOf(),C=t.getChildrenOf()[0],T=t.getComponentsOf(C);if("children"==o[0]&&"components"==o[2]&&5==o.length){S=T[o[3]];var I=o[4];d&&"lucaDat.json"==S.path||"luca.json"==S.path&&"version"==I||(x=!0)}else"components"==o[0]?"metadata"!=(S=_[o[1]]).relationship&&(x=!0):"name"==o[0]?l.rootNode.name===b.name&&(b.name=t.rootNode.name):x=!0}}if(v&&f){var P=n.defer();return e.ajax({url:"https://"+p.cps+"/api/v2/"+p.lucac+"/assets/"+f+"?api_key="+p.key,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+window.adobeIMS.getAccessToken())},dataType:"json"}).always((function(){P.resolve(arguments)})),P.promise}})).then((function(e){e?"error"!=e[1]&&200==e[2].status?(w&&(b.setValue("cp#assetId",t.rootNode.getValue("cp#assetId")),b.setValue("cp#shortId",t.rootNode.getValue("cp#shortId")),b.setValue("cp#contentEtag",t.rootNode.getValue("cp#contentEtag")),b.setValue("cp#contentModified",t.rootNode.getValue("cp#contentModified"))),x?c?v.overrideDocument(d,o):v.trigger("update-conflict",{datetime:f,commitDefer:o,projectId:s.id,projectUrn:s.assetId,pushBeforePull:function(){if(k){s.resolvePullWithBranch(t);var e=s.current.rootNode;return e.setValue("cp#assetId",b.getValue("cp#assetId")),e.setValue("cp#shortId",b.getValue("cp#shortId")),e.setValue("cp#contentEtag",b.getValue("cp#contentEtag")),e.setValue("cp#contentModified",Date.now()),v.saveDocument(void 0,{override:!0})}var i=n.defer();return i.resolve(),i.promise}}):v.overrideDocument(d,o)):(b.setValue("cp#assetId",null),b.setValue("cp#contentEtag",""),b.setValue("cp#contentModified",t.rootNode.getValue("cp#contentModified")),x?c?v.overrideDocument(d,o):v.trigger("update-conflict",{datetime:f,commitDefer:o,projectId:s.id,projectUrn:s.assetId,pushBeforePull:function(){if(w){s.resolvePullWithBranch(t);var e=s.current.rootNode;return e.setValue("cp#assetId",null),e.setValue("cp#contentEtag",""),e.setValue("cp#contentModified",Date.now()),v.saveDocument(void 0,{override:!0})}var i=n.defer();return i.resolve(),i.promise}}):v.overrideDocument(d,o)):c||!x?v.overrideDocument(d,o):v.trigger("update-conflict",{datetime:f,commitDefer:o,projectId:s.id,projectUrn:s.assetId})})).catch((function(e){console.error("[slate] slate-app-storage failed to resolve conflict",{error:e,isPublishing:c}),c?v.overrideDocument(d,o):v.trigger("update-conflict",{datetime:f,commitDefer:o,projectId:s.id,projectUrn:s.assetId})}))},community:marvel.settings.lucac,communityCategory:"lucas",doPublish:function(e,t,i){console.warn("[slate] THIS SHOULD NOT BE CALLED - its overriden in shell/EditSession.js")},extendPublishAnalytics:function(e){console.warn("[slate] THIS SHOULD NOT BE CALLED - its overriden in shell/EditSession.js")},getDocumentCredits:function(e){e=e||this.currentDoc;var t=this.getOverrideCredits(e),i=this.getCustomCredits(e)||"";return t?i:this.getDocumentDefaultCredits(e)+i},getDocumentDefaultCredits:function(e){e=e||this.currentDoc;var t=this.getDocument(e),i=[],n=t&&t.pages;if(n)for(var o=n.length,r=0;r<o;r++)this.getCreditsForPage(n[r],i);return i.length?v.format("storage.credits.default",{count:i.length})+" "+i.join(" • "):""},getCreditsForPage:function(e,t){if(t=t||[],e){var i=e.sections;if(i)for(var n=i.length,o=0;o<n;o++)for(var r=i[o].content_items,a=r.length,s=0;s<a;s++){var l=r[s];if("img"===l.type){var d=l.image;if(d&&d.license){var c=d.license.owner,p=d.license.photo_name;c&&p&&t.push(c+' - "'+p+'"')}}}}return t},getOverrideCredits:function(e){return this.getData("overrideCredits",e)||!1},getCustomCredits:function(e){return this.getData("customCredits",e)||""},savePublishedDataToDoc:function(e,t){var i=(new Date).toUTCString();this.setData({lastShared:i,lucaAssetLocation:t.assetLink,publishURL:t.publishUrl,publishVersion:t.publishedAssetVersion,cpAssetID:t.cpAssetId,cpHash:t.cpAlias})},getCompositeName:function(){return this.currentDoc.getDCXComposite().current.name},setCompositeName:function(e,t){this.currentDoc.getDCXComposite().current.name=e},getLastSharedTitle:function(e){return this.getData("lastSharedTitle",e)||this.getData("title",e)||this.getSetting("newDocName")},getEmbedHTML:function(e){e=this.currentDoc||e;var t,i=this.getLastSharedTitle(e),n=Date.now(),o=p.publishedContentBases.slate,r=window.location.host,a=e.getDCXRoot().getValue("cp#shortId");a||(a=this.getData("cpHash",e)),t=a?o+"/"+a+"/":this.getData("publishUrl",e);var s=this.getData("embedType",e),l=s&&"overlay"==s,d="<a "+(l?'class="asp-embed-link"':"")+' href="'+t+'" target="_blank"><img src="'+t+"embed.jpg?buster="+n+'" alt="'+String(i).replace(/[&<>"'\/]/g,(function(e){return y[e]}))+'" style="width:100%" border="0" /></a>';return l?'<script id="asp-embed-script" data-zindex="1000000" type="text/javascript" charset="utf-8" src="https://'+r+'/page-embed.js"><\/script>'+d:d},cleanUpComponentsBeforeServerCopy:function(e,t,i){i=i||this.currentDoc;var n=e.copy.files;if(n)for(var o=n.length-1;o>=0;o--){var r=n[o],a=r.type,s=r.destination;if("text/html"==a||"index.html"==s){var l=i.getComponentWithAbsolutePath("/"+s);if(l)i.removeComponent(l);else{var d=i.getDCXComposite().current,c=d.getComponentWithAbsolutePath("/"+s);c&&d.removeComponent(c)}n.splice(o,1)}}},handlePublishCompletedModerate:function(e,t,i,o){return n.resolve()},getAllText:function(e){for(var t=e.pages[0].sections,i="",n=0,o=t.length;n<o;n++)for(var r=t[n],a=0,s=r.content_items.length;a<s;a++){i+=r.content_items[a].text}return i}}))}.apply(t,n))||(e.exports=o)},457:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(56),i(4),i(7),i(2513),i(427),i(16),i(258),i(2569),i(2570)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p){"use strict";return i.View.extend({collection:null,tagName:"section",initialize:function(){},render:function(){var e,t;return d.init(l.getLocale()).then(function(){if(this.appConfig.showPreview)e=p.toString(),this.$el.html(e),t={appConfig:this.appConfig,renderData:this.renderData,previewEl:this.$el[0]},a.initSimplePreview(t);else{e=c.toString();var i={locString:d.getStrings()};e=n.render(e,i),this.$el.html(e),a._init(this.appConfig)}}.bind(this)).fail((function(){})),this},sendDataToShell:function(e){a.receiveMessage(e)},beforeUnload:function(){return a._beforeAppUnload()},remove:function(){return a._remove(),this.$el.empty(),this}})}.apply(t,n))||(e.exports=o)},467:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2)],void 0===(o=function(e,t,i,n){"use strict";return n.Model.extend({PROPERTIES_TO_CHECK:null,SERVICE_NAME:null,WAIT_TIME:9e4,init:function(){return t.bindAll(this,t.functionsIn(this)),this.initializeDefered?this.initializeDefered.promise:(this.initializeDefered=i.defer(),this._loadLibrary(),this._whenAvailable(this.SERVICE_NAME,this.PROPERTIES_TO_CHECK).then(function(){this.initializeDefered.resolve()}.bind(this),function(){this.initializeDefered.reject(new Error("ThirdPartyLibraryLoaderController::init"))}.bind(this)),this.initializeDefered.promise)},_loadLibrary:function(){return!1},_whenAvailable:function(e,n){var o=this.WAIT_TIME,r=i.defer(),a=function(e,i){var n=!1;return t.each(i,(function(t,i){typeof window[e][i]===t&&(n=!0)})),n},s=function(){var t=Date.now()+o;if(!window[e]||n&&!a(e,n))var i=window.setInterval((function(){!window[e]||n&&!a(e,n)?Date.now()>=t&&(window.marvel.logger.warn(e+" is not available globally"),clearInterval(i),r.reject(new Error("ThirdPartyLibraryLoaderController::checkIfGlobalObjectAvailable"))):(clearInterval(i),r.resolve())}),2);else r.resolve()};return"complete"!==document.readyState?window.attachEvent?window.attachEvent("onload",s):window.addEventListener("load",s,!1):s(),r.promise}})}.apply(t,n))||(e.exports=o)},521:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1)],void 0===(o=function(e,t,i,n){"use strict";function o(e){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this._init()}function r(e){o.prototype._init.call(this,e)}return t.extend(o.prototype,{_init:function(e){this.data=e,this.links={},this.links.preview={},this.links.original={},this.links.thumb={},this.isDir=!1,this._parseData()},_parseData:function(){},getOriginalURL:function(){return this._sanitizeURL(this.links.original.href)},getPreviewURL:function(){return this._sanitizeURL(this.links.preview.href)},getThumbURL:function(){return this._sanitizeURL(this.links.thumb.href)},getFolderName:function(){if(this.links.folder)return this._sanitizeURL(this.links.folder.filename)},getFolderPath:function(){if(this.links.folder)return this._sanitizeURL(this.links.folder.path)},isDirectory:function(){return this.isDir},_sanitizeURL:function(e){return e},hasCover:function(){return!1},getFolderLabel:function(){return this.getFolderName()},getCover:function(){var e=n.defer();return e.reject("no cover available"),e.promise},getThumbHoverLabel:function(){return""}}),o.createFolderItem=function(e,t){return new r({path:t})},t.extend(r.prototype,o.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.path,this.links.folder.path=this.data.path}}),o}.apply(t,n))||(e.exports=o)},528:function(e,t,i){var n=i(0),o=i(56),r=i(1112),a=i(622),s=i(571),l={textDefaultsDict:r,assetsDict:s,sectionTypes:["title","single-column","split-layout","card-layout","column-layout","spacer","fullscreen-photo","window","banner","full-width-photo","50-50","column-overlay","photo-grid","author","credits","back-matter"],isUnderSection:{"fullscreen-photo":!0,"column-overlay":!0},customThemeComponentRegistry:{},customThemeTemplates:{},targetParagraphVisualDimensions:{height:20,width:8},itemTypeRelativeSizeMap:{title:3.9,subtitle:1.1,heading:2.5,subheading:1.5,paragraph:1,blockquote:1.3,button:.9,"unordered-list":1,"ordered-list":1,"inline-image-caption":.8,"full-width-caption":.8,"photo-grid-caption":.8,"fill-screen-caption":1.3,"window-caption":1.3},proximaNovaMetrics:{aboveDivider:66,belowDivider:149,ascentDescentRatio:1.075,spaceWidthRatio:.25},registerCustomThemeTemplates:function(e,t){var i=t.templates;if(i)for(var n=i.length,o=0;o<n;o++){var r=i[o],a=r.replace(/_/g,"-");this.customThemeTemplates[r]="#"+a+"-template"}},getCustomThemeTemplates:function(){var e=this.customThemeTemplates,t={};for(var i in e)t[i]=$(e[i]).text();return t},registerCustomThemeComponent:function(e,t){e&&t&&(this.customThemeComponentRegistry[e]=t,this.registerCustomThemeTemplates(e,t))},unregisterCustomThemeComponent:function(e){e&&(this.customThemeComponentRegistry[e]=void 0)},generateCustomThemeSectionSettings:function(){for(var e=this.sectionTypes,t=this.isUnderSection,i={},n=0;n<e.length;n++){var o=e[n];i[o]={behavior:"default-"+o,layerName:t[o]?"under":"over"}}return i},getCustomThemePayload:function(e){var t=n.extend({},e);t.components={},t.isCustomTheme=!0,t.name=a.getUniqueName(e),t.section_settings||(t.section_settings=this.generateCustomThemeSectionSettings());var i=n.extend({spacing:{},column:{},authorSection:{},creditsSection:{}},e.components);for(var o in i){var r=i[o],s=this.customThemeComponentRegistry[o];r&&s?s.process(e,r,t):console.warn&&console.warn("Unknown custom theme component: "+o)}return t},getFontIncludes:function(e){var t=this._getFontsInTheme(e);return n.map(t,(function(e,t){return{src:e+".gz.js",method:"script",is_script:!0,is_link:!1}}))},getCSS:function(e,t,i){var n=this.getCustomThemePayload(e);return t||(t=$("#ct-css-template").text()),i||(i=this.getCustomThemeTemplates()),o.render(t,{theme:n},i).replace(/^\s*\n/gm,"")},convertColorToRGBA:function(e){var t=e.value;return"rgba("+t.r+","+t.g+","+t.b+","+(e.alpha||1)+")"},cloneColorWithAlpha:function(e,t){var i=n.cloneDeep(e);return i.alpha=t,i},splitLengthValue:function(e){var t=/\s*((?:-?[0-9]*\.[0-9]+)|(?:-?[0-9]+))([^\s;]*)\s*/.exec(e||"")||[];return[t[1]||"",t[2]||""]},scaleLengthValue:function(e,t,i){var n=this.splitLengthValue(e||""),o=parseFloat(n[0]||"0")*parseFloat(t),r=n[1]||"";return i&&(o=Math.round(o)),o+r},getTextDefaultsForComponent:function(e,t){var i=r["proxima-nova"],n=r["proxima-nova-condensed"];return(r[e]||i).data[t]||i.data[t]||n.data[t]},getPaddingsForFont:function(e,t,i,n){var o=Math.round(i*n),r=Math.round(i*(1-n));return{paddingTop:o,paddingBottom:r,mobile:{paddingTop:Math.ceil(o*(5/7)),paddingBottom:Math.floor(r*(5/7))}}},getTextSettingsForComponent:function(e,t,i){t=t||{fontFamily:"proxima-nova"};var o,a,s=this.getTextDefaultsForComponent(t.fontFamily,e),l=n.extend({},i),d=!1,c=!1,p=n.extend({},s,t);if(p.fontFamily=(r[t.fontFamily]||{}).family||t.fontFamily,l.customFontsUsed){for(var h=l.customFontsUsed,u=0,g=h.length;u<g;u++)if(!d){var m=h[u];if(p.fontFamily===m.cssName){for(var f in o=m.metrics)o[f]||(o[f]=this.proximaNovaMetrics[f]);d=!0;break}}if(d){var v=this.targetParagraphVisualDimensions,b=(Math.ceil(v.height/o.ascentDescentRatio)+Math.floor(v.width/o.xWidthRatio))/2;b*=this.itemTypeRelativeSizeMap[e],p.fontSize=Math.round(b)+"px";var w=o.ascentDescentRatio*Math.floor(v.height/3)/b;if(w=1+(w+=o.spaceWidthRatio),p.lineHeight=Math.round(10*w)/10,"title"===e||"button"===e){var k,x=o.aboveDivider,y=o.belowDivider;k=x>y?Math.abs(x/(x+y)):Math.abs(y/(x+y)),p.paddingShiftRatio=Math.round(100*k)/100,c=!0}}}if(!("title"!==e&&"button"!==e||c||d)){var S=r[p.fontFamily];if(S){var _=S.data[e];_&&(p.paddingShiftRatio=parseFloat(_.paddingShiftRatio)||a,a=!0)}}p.fontScale&&p.fontSize&&(p.fontSize=this.scaleLengthValue(p.fontSize,p.fontScale,!0)),p.lineHeightScale&&p.lineHeight&&(p.lineHeight=this.scaleLengthValue(p.lineHeight,p.lineHeightScale));var C={title:.53,subtitle:.83,heading:.6,subheading:.74,paragraph:.92,blockquote:.74,button:.96,"unordered-list":.92,"ordered-list":.92,"inline-image-caption":.98,"full-width-caption":.98,"photo-grid-caption":.98,"fill-screen-caption":.74,"window-caption":.74}[e]||.75,T={title:1,subtitle:.97,heading:1,subheading:1,paragraph:.97,blockquote:1,button:1,"unordered-list":.97,"ordered-list":.97,"inline-image-caption":.91,"full-width-caption":.91,"photo-grid-caption":.91,"fill-screen-caption":1,"window-caption":1}[e]||1;return p.mobile={fontSize:this.scaleLengthValue(p.fontSize,C,!0),lineHeight:this.scaleLengthValue(p.lineHeight,T)},p},_getFontsInTheme:function(e){return n.keys(n.reduce(e,(function e(t,i,o){return n.isPlainObject(i)?n.reduce(i,e,t):("fontFamily"===o&&i in r&&(t[i]=!0),t)}),{}))}};e.exports=l},533:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521)],void 0===(o=function(e,t,i,n){"use strict";function o(e){this.items=[]}return t.extend(o.prototype,{getMetaData:function(e){return[]},setImageFilter:function(e){this._imageFilter=e},getImage:function(e){return null},haveMoreMetaData:function(){return!1},newItem:function(){return null},canSetFilter:function(){return!1},fusePath:function(e){var t,i=e[0];for(t=1;t<e.length;t++)i=i.replace(/\/$/,"")+"/"+e[t].replace(/^\//,"");return i}}),o.fusePath=o.prototype.fusePath,o}.apply(t,n))||(e.exports=o)},535:function(e,t,i){var n,o;n=[i(1),i(3),i(0),i(2),i(26),i(14),i(8),i(16),i(4),i(174)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d){"use strict";return new(n.Model.extend({apiKey:"",appId:"",clientId:"",clientSecret:"",scope:["profile"],whenAvailable:function(){return this.deferred.promise},init:function(){this.deferred||(this.deferred=e.defer()),a.allFeaturesLoaded().then(function(){d.getIsEDUAccount().then(function(e){e&&a.hasFeature("google-edu-app")?(this.apiKey=l.googleSuiteEdu.apiKey,this.appId=l.googleSuiteEdu.appId,this.clientId=l.googleSuiteEdu.clientId,this.clientSecret=l.googleSuiteEdu.clientSecret):(this.apiKey=l.googleSuite.apiKey,this.appId=l.googleSuite.appId,this.clientId=l.googleSuite.clientId,this.clientSecret=l.googleSuite.clientSecret);var t,i,n=window.location.search,r=o.get("google-csrf-token"),s=o.get("gp-restore-doc-path"),d=o.get("gp-cid");if(t=/code\=([^\&]+)/.exec(n),i=/state\=google_photos_auth_([^\&]+)/.exec(n),r&&t&&t.length>1&&i&&i.length>1){if(o.expire("google-csrf-token"),r!==i[1])return void console.warn("Cross site forgery detected on Google authorization!");this.code=t[1],o.set("google-code",t[1],{secure:!0}),this.authenticating=!0}this.token||(this.code=this.clientId===d?o.get("google-code"):null,this.refreshToken=this.clientId===d?o.get("google-token"):null,this.userId=o.get("google-uid")),marvel.events.on("ims-session-logged-out",this.logout.bind(this)),s&&(o.set("gp-restore-doc-path","",{secure:!0}),window.location.replace(s)),this.deferred.resolve()}.bind(this))}.bind(this))},getAccessToken:function(){return this.whenAvailable().then(function(){var n=e.defer(),r="&client_id="+this.clientId,a="&client_secret="+this.clientSecret,l="&redirect_uri="+encodeURI(window.location.protocol+"//"+window.location.host+s.getLocalizedSparkPath("/sp/")),d=this,c=[],p=this._getScopeWithFeatures(),h=localStorage.getItem("google-granted-scopes");return h&&(c=h.split(" ")),!this.refreshToken&&!this.code||i.difference(p,c).length?(this.authenticate(),n.reject("need_to_authenticate"),n.promise):(this.accessToken&&this.expiration>Date.now()+1e4?n.resolve(this.accessToken):this.code?(o.expire("google-code"),t.ajax({method:"POST",url:"https://www.googleapis.com/oauth2/v3/token?scope="+this._encodeScope(p)+"&code="+this.code+r+a+l+"&grant_type=authorization_code"}).done(function(e,i,r){if(this.accessToken=e.access_token,this.expiration=Date.now()+1e3*e.expires_in,this.refreshToken=e.refresh_token,this.code=null,o.set("google-token",this.refreshToken,{secure:!0}),this.accessToken){t.ajax({url:"https://www.googleapis.com/oauth2/v3/tokeninfo?access_token="+this.accessToken}).done(function(e,t,i){d.userId=e.sub,o.set("google-uid",d.userId,{secure:!0}),n.resolve(this.accessToken)}.bind(this)).fail(function(e,t,i){console.warn("token info failed: message =  ",t),n.reject("cant_get_userid")}.bind(this))}}.bind(this)).fail(function(e,t,i){console.warn("Google getting tokens failed ",e),this.code=null,n.reject("invalid_code")}.bind(this))):this.refreshToken&&t.ajax({method:"POST",url:"https://www.googleapis.com/oauth2/v3/token?scope="+this._encodeScope(p)+"&refresh_token="+this.refreshToken+r+a+"&grant_type=refresh_token"}).done(function(e,t,i){this.accessToken=e.access_token,this.expiration=Date.now()+1e3*e.expires_in,n.resolve(this.accessToken)}.bind(this)).fail(function(e,t,i){console.warn("Google getting tokens failed ",e),n.reject("invalid_token"),!e.responseJSON||"invalid_scope"!==e.responseJSON.error&&"invalid_grant"!=e.responseJSON.error||(console.warn("[GoogleAuth] detected scope change. Initiating new authentication."),o.expire("google-code"),o.expire("google-drive-token"),o.expire("google-uid"),o.expire("google-token"),o.set("gp-restore-doc-path",window.location.href,{secure:!0}),this.authenticate())}.bind(this)),n.promise)}.bind(this))},getUserId:function(){return this.userId||(this.userId=o.get("google-uid")),this.userId},validateRefreshToken:function(){var i=e.defer(),n="&client_secret="+this.clientSecret,o="&client_id="+this.clientId;return this.refreshToken?t.ajax({method:"POST",url:"https://www.googleapis.com/oauth2/v3/token?scope=&refresh_token="+this.refreshToken+o+n+"&grant_type=refresh_token"}).done(function(e,t,n){this.accessToken=e.access_token,this.expiration=Date.now()+1e3*e.expires_in,i.resolve(this.accessToken)}.bind(this)).fail(function(e,t,n){console.warn("Google getting tokens failed ",e),i.reject("invalid")}.bind(this)):i.reject("no token"),i.promise},authenticate:function(){var e=this._getScopeWithFeatures(),t=r.v4(),i="&state=google_photos_auth_"+t,n="&scope="+this._encodeScope(e),a="&redirect_uri="+window.location.protocol+"//"+window.location.host+s.getLocalizedSparkPath("/sp/"),l="https://accounts.google.com/o/oauth2/v2/auth?response_type=code&access_type=offline&client_id="+this.clientId+a+n+i+"&prompt=consent";o.set("google-csrf-token",t,{secure:!0}),o.set("gp-restore-doc-path",window.location.href,{secure:!0}),o.set("gp-cid",this.clientId,{secure:!0});try{localStorage.setItem("google-granted-scopes",e.join(" "))}catch(e){console.error("[GoogleAuthController] failed to set scope in localStorage.",e)}window.location.replace(l)},isAuthenticated:function(){return!!this.refreshToken||!!this.code},logout:function(){this.authenticating||(o.expire("google-code"),o.expire("google-drive-token"),o.expire("google-uid"),o.expire("google-token"),o.expire("google-uid"),o.expire("gp-restore-doc-path"),this.refreshToken=null,this.accessToken=null,this.code=null)},getAppId:function(){return this.appId},getApiKey:function(){return this.apiKey},getClientId:function(){return this.clientId},_getScopeWithFeatures:function(){var e=[].concat(this.scope);return(a.hasFeature("google-drive-in-voice")||a.hasFeature("google-drive-in-theo")||a.hasFeature("google-drive-in-slate"))&&e.push("https://www.googleapis.com/auth/drive"),a.hasFeature("enable-google-picasa-api")&&e.push("https://www.googleapis.com/auth/photos"),a.hasFeature("enable-google-photo-api")&&e.push("https://www.googleapis.com/auth/photoslibrary.readonly"),a.hasFeature("google-drive-ui")&&e.push("https://www.googleapis.com/auth/drive.install"),e},_encodeScope:function(e){return e.join("%20")}}))}.apply(t,n))||(e.exports=o)},553:function(e,t,i){var n;void 0===(n=function(){return{}}.apply(t,[]))||(e.exports=n)},554:function(e,t,i){var n,o;n=[i(3),i(0),i(2)],void 0===(o=function(e,t,i){"use strict";function n(e){this._init(e)}return e.extend(n.prototype,{_init:function(t,i){this._userCallback=i,this.$ele=e(t),this.$rootPicker=this.$ele.parents(".photo-picker"),this.items=[]},show:function(){this.$ele.addClass("showing")},getItem:function(e){return this.items[e]},_clear:function(){this.$ele.find(".column").empty(),this.items=[]},_handleScroll:function(e){this.requestOutstanding||this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet())},_handleResize:function(e){this._handleScroll(e)},_handleThumbClick:function(e){},_handleLoadedThumbnail:function(e){},handleChangingToEditor:function(e){},handleChangingFromEditor:function(e){},hasMore:function(){return this.page<this.pages},_scrolledFarEnough:function(){var t=this.$ele.find(".results"),i=t.find(".column"),n=t[0].scrollTop,o=2*t.height()+n,r=!1;return i.each((function(){if(o>e(this).height())return r=!0,!1})),r},_addThumbnail:function(t,i,n,o,r,a){var s,l=i.find(".left"),d=i.find(".right"),c=this,p=this.requestId,h=e("<img class='thumbnail' data-auto='image-picker-thumbnail-img' />"),u=e("<div class='thumbnail-wrapper' data-auto='image-picker-thumbnail-wrapper' />"),g=n.getThumbHoverLabel&&n.getThumbHoverLabel();if(s=r?l.height()<=d.height()?l:d:l,r&&(s=l.height()<=d.height()?l:d),u.append(h),s.append(u),o&&o.width&&o.height&&h.css("height",h.width()*o.height/o.width),g){var m=e("<div class='thumb-hover-label' data-auto='thumb-hover-label'>"+g+"</div>");u.append(m),m.on("click",c._handleThumbClick.bind(c)),m.data("item",n),u.addClass("has-hover-label")}return this.loader.add(t,{callback:function(e,t,i){c.requestId&&p!==c.requestId||(h.on("load",(function(){window.setTimeout((function(){u.addClass("showing")}),0)})),a&&(h[0].crossOrigin="anonymous"),h[0].src=e,h.on("click",c._handleThumbClick.bind(c)),h.data("item",n),c._handleLoadedThumbnail(h,u))}}),u},canGoBack:function(){return!1},goBack:function(){},showMoreToCome:function(){this.$rootPicker.find(".more-to-come").addClass("showing")},hideMoreToCome:function(){this.$rootPicker.find(".more-to-come").removeClass("showing")}}),n}.apply(t,n))||(e.exports=o)},557:function(e,t,i){var n,o;n=[i(3),i(553),i(696),i(698)],void 0===(o=function(e,t,i,n){var o=function(t){n.call();this.options=t=e.extend({},this.defaultOptions,t),this._queue=[],this._needsSort=!1,this._isRunning=!1,this._loaderContexts=[];for(var i=0;i<t.numAsyncRequestsAllowed;i++)this._loaderContexts[i]=this._createLoaderContext()};return o.nextRequestId=1,i.inherit(o,n),e.extend(o.prototype,{defaultOptions:{createNewImageOnReset:!0,timeoutInterval:0,numAsyncRequestsAllowed:1,crossOrigin:!1},_createLoaderContext:function(){var e=this,t={entry:null,loader:new Image,loadFunc:function(){e._handleLoad(t)},loadErrorFunc:function(){e._handleError(t)},timeoutFunc:function(){e._handleTimeout(t)},timeoutTimerId:0};return this.options.crossOrigin&&(t.loader.crossOrigin=this.options.crossOrigin),t},add:function(t,n){if(t){for(var r=i.ensureArray(t),a=0;a<r.length;a++){var s=e.extend({reqId:o.nextRequestId++,src:r[a],width:0,height:0,priority:50,callback:null,data:null},n);this._queue.push(s),this._needsSort=!0,this.trigger("wp-image-loader-add",s)}this._isRunning&&this._loadNext()}},start:function(){this._isRunning||(this._isRunning=!0,this.trigger("wp-image-loader-start"),this._loadNext())},stop:function(){if(this._isRunning){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];n.entry&&(this._queue.unshift(n.entry),this._needsSort=!0),this._resetLoaderContext(n)}this._isRunning=!1,this.trigger("wp-image-loader-stop")}},getQueueCount:function(){return this._queue.length+this._getPendingRequestCount()},clearQueue:function(){var e=this._isRunning;this.stop(),this._queue.length=0,e&&this.start()},_loadNext:function(){if(this._isRunning){var e=this._getAvailableLoaderContext();if(e){var t=this._queue;if(t.length){this._needsSort&&(t=this._queue=t.sort((function(e,t){var i=e.priority-t.priority;return i||e.reqId-t.reqId})),this._needsSort=!1);var i=t.shift();e.entry=i,this.options.timeoutInterval>0&&(e.timeoutTimerId=setTimeout(e.timeoutFunc,this.options.timeoutInterval));var n=e.loader;n.onload=e.loadFunc,n.onerror=e.loadErrorFunc,n.src=i.src,t.length&&this._loadNext()}else 0===this.getQueueCount()&&this.trigger("wp-image-loader-empty")}}},_getPendingRequestCount:function(){for(var e=this._loaderContexts,t=e.length,i=0,n=0;n<t;n++){e[n].entry&&++i}return i},_getAvailableLoaderContext:function(){for(var e=this._loaderContexts,t=e.length,i=0;i<t;i++){var n=e[i];if(!n.entry)return n}return null},_resetLoaderContext:function(e){var t=e.loader;t.onload=null,t.onerror=null,t.src=""==t.src?" ":"",this.options.createNewImageOnReset&&(e.loader=new Image,this.options.crossOrigin&&(e.loader.crossOrigin=this.options.crossOrigin)),e.entry=null,e.timeoutTimerId&&(clearTimeout(e.timeoutTimerId),e.timeoutTimerId=0)},_handleLoad:function(e){var t=e.loader;entry=e.entry,entry.width=t.width,entry.height=t.height,this._resetLoaderContext(e),entry.callback&&entry.callback(entry.src,entry.width,entry.height,entry.data),this.trigger("wp-image-loader-load-success",entry),this._loadNext()},_handleError:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-load-error",t),this._loadNext()},_handleTimeout:function(e){var t=e.entry;this._resetLoaderContext(e),this.trigger("wp-image-loader-timeout",t),this._loadNext()}}),t.ImageLoader=o,o}.apply(t,n))||(e.exports=o)},558:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(81)],void 0===(o=function(e,t,i,n,o,r){"use strict";var a=i.Model.extend({defaults:{}});return o.extend({events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new a,t.extend(this,i.Events),this.update(e),this.model.on("change:location",this.positionDialog())},onHide:function(){this.cleanupForHide()},cleanupForHide:function(){this.$el.find(".x-close-btn").removeClass("hide"),this.$el.find(".buttons").removeClass("hide"),this._ignoreCloseActions=!1},unclosable:function(){this.$el.find(".x-close-btn").addClass("hide"),this.$el.find(".buttons").addClass("hide"),this._ignoreCloseActions=!0},update:function(e){e&&t.extend(this,e),this.location&&this.model.set({location:this.location},{silent:!0})},move:function(e){this.model.set({location:e},{silent:!0}),this.positionDialog()},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===r.DOM_VK_ESCAPE&&this._handleCancel()},contentModified:function(){this.positionDialog(!0)},positionDialog:function(e){var t=this.$el.find(".mrvl-overlay-shell"),i=this.model.get("location");if(t.length>0&&i){var n=this.$el.hasClass("hide");n&&this.$el.removeClass("hide");var o,r,a,s,l,d,c,p=t.outerWidth(),h=t.outerHeight(),u=0,g=t.find(".pointer"),m=g.length&&g.outerWidth();g.length&&g.outerHeight();for(a=t.parent();!u&&a.length;){if("absolute"===(l=a.css("position"))||"relative"===l||"fixed"===l){u=a.width(),s=a.height();break}a=a.parent()}i.x>=u/2?(r=i.left-p/2-7,c=!0):(r=i.left+i.width+p/2+7,c=!1),o=i.y-.75*h,o=Math.max(5,Math.min(o,s-h-5)),t.css({top:o+"px",left:r+"px",position:"absolute"});var f=t.offset().top-a.offset().top;if(n&&this.$el.addClass("hide"),g&&(d=i.y-f-6,d=Math.max(4,Math.min(h-12,d)),g.css("top",d+"px"),c?g.css({right:.5*-m,left:"auto"}).addClass("on-right"):g.css({left:.5*-m,right:"auto"}).removeClass("on-right"),this.zoomInOut)){var v=(c?p+.5*m:.5*-m)+"px"+" "+(d+"px");t.css("transform-origin",v)}}},assignFieldsByClass:function(){if(this.fields)for(var e in this.fields)this.fields.hasOwnProperty(e)&&this.$el.find("."+e).text(this.fields[e])},render:function(){return this.$el&&this.$el.length&&(this.zoomInOut?(this.$el.addClass("zoomInOut"),this.transitionObjectSelector=".mrvl-overlay-shell"):(this.$el.removeClass("zoomInOut"),this.transitionObjectSelector=null),this.template?(this.$el.html(this.template.toString()),this.assignFieldsByClass(),this.location&&this.positionDialog()):this.$el.html("<p>This class needs to be extended or have an el and template defined to be useful</p>")),this.afterRenderCallback&&this.afterRenderCallback(this.$el),this}})}.apply(t,n))||(e.exports=o)},566:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(26),i(14),i(16)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";return new(i.Model.extend({clientId:"c5bgx3h0lcjhqsm",init:function(){var e,t,i=window.location.hash,n=o.get("dropbox-csrf-token"),r=o.get("db-restore-doc-path"),a=o.get("db-cid");if(e=/access_token\=([^\&]+)/.exec(i),t=/state\=dropbox_auth_([^\&]+)/.exec(i),n&&e&&e.length>1&&t&&t.length>1){if(o.expire("dropbox-csrf-token"),n!==t[1])return void console.warn("Cross site forgery detected on Dropbox authorization!");this.token=e[1],o.set("dropbox-token",this.token,{secure:!0})}if(this.token||(this.token=this.clientId===a?o.get("dropbox-token"):null),marvel.events.on("ims-session-logged-out",this.logout.bind(this)),r){o.set("db-restore-doc-path","",{secure:!0});var s=window.location,l=s.protocol+"//"+s.host+r;window.location.replace(l)}},getToken:function(){return this.token||this.authenticate(),this.token},authenticate:function(){var e=r.v4(),t="&state=dropbox_auth_"+e,i="&redirect_uri="+window.location.protocol+"//"+window.location.host+a.getLocalizedSparkPath("/sp/"),n="https://www.dropbox.com/oauth2/authorize?response_type=token&client_id="+this.clientId+i+t+"&force_reapprove=true";o.set("dropbox-csrf-token",e,{secure:!0}),o.set("db-restore-doc-path",window.location.pathname,{secure:!0}),o.set("db-cid",this.clientId,{secure:!0}),window.location.replace(n)},isAuthenticated:function(){return!!this.token},logout:function(){o.expire("dropbox-token"),o.expire("dropbox-csrf-token"),o.expire("db-cid"),o.expire("db-restore-doc-path"),this.token=null}}))}.apply(t,n))||(e.exports=o)},571:function(e,t,i){var n=i(1111),o=i(56),r={assetsDict:{circle:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><circle cx="5" cy="5" r="5" fill="{{color}}"></circle></svg>',triangle:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="20" viewBox="0 0 12 20"><path style="fill:{{color}};" d="M 0 0 L 0 20 L 12 10 L 0 0 Z"/></svg>',"appreciate:filled":'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path style="fill:{{color}};" transform="translate(0 3)" d="M2.8,14.4C1.1,12.9,0,10.7,0,8.4c0-2.3,1-4.5,2.8-6C4.6,0.9,6.9,0,9.2,0c2.4,0,4.6,0.8,6.4,2.4c0.1,0.1,0.3,0.3,0.4,0.4c0.1-0.1,0.3-0.3,0.4-0.4C18.2,0.9,20.5,0,22.8,0c2.3,0,4.6,0.8,6.4,2.4C31,3.9,32,6.1,32,8.4c0,2.3-1,4.5-2.8,6L16,26"/></svg>',appreciate:'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path style="fill:{{color}};" transform="translate(0 3)" d="M16,26L2.8,14.4C1.1,12.9,0,10.7,0,8.4c0-2.3,1-4.5,2.8-6C4.6,0.9,6.9,0,9.2,0c2.4,0,4.6,0.8,6.4,2.4c0.1,0.1,0.3,0.3,0.4,0.4c0.1-0.1,0.3-0.3,0.4-0.4C18.2,0.9,20.5,0,22.8,0c2.3,0,4.6,0.8,6.4,2.4C31,3.9,32,6.1,32,8.4c0,2.3-1,4.5-2.8,6L16,26z M9.2,4.7C8,4.7,6.9,5.2,6,5.9C5.3,6.5,4.8,7.4,4.8,8.4c0,1,0.5,1.9,1.2,2.5l10,8.8l10-8.8c0.7-0.6,1.2-1.5,1.2-2.5c0-1-0.5-1.9-1.2-2.5c-1.9-1.5-4.5-1.5-6.4,0c-0.7,0.6-1.2,1.5-1.2,2.5h-4.8c0-1-0.5-1.9-1.2-2.5C11.5,5.1,10.4,4.7,9.2,4.7z"/></svg>',"nightcap:linkbutton":'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="11.006" viewBox="0 0 6 11.006"><path style="fill:{{color}};" d="M6,5.503l-6,5.503V0L6,5.503z"/></svg>',"vintage:unorderedlist":'<svg xmlns="http://www.w3.org/2000/svg" width="181" height="181" viewBox="0 0 181 181"><path style="fill:{{color}};" d="M 172 90 C 112 109 27 126 2 181 C 1 180 1 178 1 159 C 4 137 9 104 39 91 C 39 91 39 90 38 89 C 17 86 1 38 1 22 C 1 22 1 1 1 1 C 38 62 127 73 172 90 Z"/></svg>',"luca:blockquote":'<svg xmlns="http://www.w3.org/2000/svg" width="150" height="125.2" viewBox="0 0 150 125.2"><path style="fill:{{color}};" d="M111.2,30.2c-7.738,7.6-11.6,16.2-11.6,25.8c0,4.269,0.662,7.737,2,10.4c1.331,2.669,2.662,4.669,4,6c2.4-1.6,5.062-2.663,8-3.2c2.931-0.531,5.863-0.8,8.8-0.8c2.931,0,6,0.537,9.2,1.6c3.2,1.069,6.131,2.737,8.8,5c2.663,2.269,4.931,5.2,6.8,8.8c1.862,3.6,2.8,7.938,2.8,13c0,5.069-0.938,9.4-2.8,13c-1.869,3.6-4.269,6.537-7.2,8.8c-2.938,2.269-6.2,3.938-9.8,5c-3.6,1.069-7.137,1.6-10.6,1.6c-10.138,0-18.8-4.131-26-12.4c-7.2-8.262-10.8-20-10.8-35.2c0-10.4,1.931-19.6,5.8-27.6c3.863-8,8.6-15.062,14.2-21.2c5.6-6.131,11.731-11.531,18.4-16.2C127.862,7.938,134,3.737,139.6,0l2.8,5.2C129.331,14.269,118.931,22.6,111.2,30.2z M28.4,30.2C20.663,37.8,16.8,46.4,16.8,56c0,4.269,0.662,7.737,2,10.4c1.331,2.669,2.663,4.669,4,6c2.4-1.6,5.063-2.663,8-3.2c2.931-0.531,5.862-0.8,8.8-0.8c2.931,0,6,0.537,9.2,1.6c3.2,1.069,6.131,2.737,8.8,5c2.662,2.269,4.931,5.2,6.8,8.8c1.863,3.6,2.8,7.938,2.8,13c0,5.069-0.937,9.4-2.8,13c-1.869,3.6-4.269,6.537-7.2,8.8c-2.938,2.269-6.2,3.938-9.8,5c-3.6,1.069-7.137,1.6-10.6,1.6c-10.138,0-18.8-4.131-26-12.4C3.6,104.537,0,92.8,0,77.6C0,67.2,1.931,58,5.8,50c3.862-8,8.6-15.062,14.2-21.2c5.6-6.131,11.731-11.531,18.4-16.2C45.063,7.938,51.2,3.737,56.8,0l2.8,5.2C46.531,14.269,36.131,22.6,28.4,30.2z"/></svg>',"whimsy:heading":'<svg xmlns="http://www.w3.org/2000/svg" width="539.347" height="22.027" viewBox="0 0 539.347 22.027"><path style="fill:{{color}};" d="M225.718,13.662L225.718,13.662c0.99,0,1.98,0,2.772,0c1.386,0,2.772,0,4.158-0.198c0.594-0.198,1.188-0.99,1.386-1.584c0.198-0.198-0.594-0.99-0.99-1.386c-0.792-0.198-1.584-0.198-2.376-0.396c-3.168,0-6.336,0.198-9.504,0c-1.98,0-4.158,0-6.138-0.198c-2.772-0.198-5.544-0.594-8.514-0.594c-4.95,0-9.9,0.198-14.85,0.198c-2.772,0.198-5.544,0.198-8.514,0.198c-4.554,0.198-9.306,0.792-14.058,0.594c-2.574-0.198-4.95,0-7.524,0.198c-3.168,0.198-6.534,0.198-9.702,0.396c-1.188,0-2.574,0.198-3.762,0.198c-4.554-0.396-9.306-0.792-13.86-0.792c-8.316-0.198-16.434-0.198-24.552-0.198c-3.564,0-6.93,0.396-10.296,0.396c-5.94,0.198-11.88-0.396-18.018,0.396c-0.198,0-0.594,0-0.792,0c-1.782-0.198-3.564-0.198-5.148-0.198c-2.574,0-4.95,0.198-7.524,0.198c-0.99,0-1.98-0.198-2.97-0.198c-3.762,0-7.524,0-11.484,0.198c-3.168,0.198-6.534,0.396-9.702,0.396c-2.178,0.198-4.158,0.198-6.138-0.99c-0.99-0.594-2.376-0.99-3.564-1.188c-2.772-0.99-5.346-0.594-7.92,0.99c-1.98,1.188-3.564,4.158-0.99,6.732c0.198,0.396,0.594,0.594,1.188,0.99c2.376,1.386,4.95,1.584,7.722,1.386c2.376-0.198,4.554-1.188,5.94-3.366c0.792-0.99,1.782-1.584,3.168-1.386c4.158,0,8.514,0,12.672,0.198c4.356,0,8.712,0.396,13.068,0.396c5.148-0.198,10.494-0.396,15.642-0.396c2.574-0.198,5.346-0.198,8.118-0.198c1.584,0,3.168,0.198,4.95,0.198c4.752,0,9.306,0.396,14.058,0c4.752-0.396,9.702-0.594,14.652,0c4.752,0.594,9.702,0.396,14.454,0.198c4.752-0.198,9.306-0.594,14.058-0.396c4.158,0,8.316-0.198,12.474-0.396c4.356,0,8.712,0,13.068,0c3.366,0,6.93-0.396,10.494-0.396c5.148,0,10.296,0.198,15.444,0.198c1.98,0.198,3.96-0.198,5.94-0.198C216.61,13.662,221.164,13.662,225.718,13.662z M268.683,0c-0.594,0.594-1.386,1.188-1.782,1.782c-0.99,1.188-1.782,2.178-2.574,3.366c-0.792,1.386-1.782,2.574-2.574,3.96c-0.99,1.584-0.792,2.376,0.198,3.762c0.396,0.396,0.792,0.792,0.99,1.188c0.792,1.188,1.584,2.178,2.376,3.366c0.99,1.188,2.178,2.376,3.168,3.564c0.99,1.386,1.584,1.386,2.574,0c1.98-2.574,3.96-5.148,5.94-7.722c1.584-1.782,1.584-1.584,0.396-3.564C275.217,5.94,272.049,3.168,268.683,0z M253.041,12.87c0.198-3.366-1.386-6.534-3.564-7.92c-1.98-1.188-2.97-1.188-4.752,0c-1.782,0.99-2.376,2.376-3.168,4.158c-0.99,2.772-0.594,5.346,0.792,7.722c1.386,2.97,5.148,4.752,8.316,1.386C252.249,16.632,253.041,14.652,253.041,12.87z M297.591,12.87c0-3.366-1.584-6.534-3.762-7.92c-1.782-1.188-2.97-1.188-4.752,0c-1.782,0.99-2.376,2.376-3.168,4.158c-0.792,2.772-0.594,5.346,0.792,7.722c1.386,2.97,5.148,4.752,8.316,1.386C296.601,16.632,297.393,14.652,297.591,12.87z M19.404,13.464c-1.98-1.188-3.762-2.178-5.346-3.366c-1.782-1.386-3.762-1.584-5.742-2.178C7.92,7.722,7.326,8.118,6.732,8.514c-1.584,0.99-3.168,1.98-4.752,2.97C1.386,11.88,0.792,12.276,0,12.672c0.198,0.594,0.396,0.99,0.594,1.188c1.782,1.584,3.564,3.366,5.544,4.554c1.386,0.792,3.168,1.386,4.95,0.396c1.584-0.99,3.366-1.782,4.95-2.376C17.424,15.84,18.612,15.048,19.404,13.464z M313.827,13.662c4.356,0,8.91,0,13.464,0c1.98,0,3.96,0.396,5.94,0.198c5.148,0,10.296-0.198,15.444-0.198c3.564,0,6.93,0.396,10.494,0.396c4.356,0,8.712,0,12.87,0c4.158,0.198,8.514,0.396,12.672,0.396c4.752-0.198,9.306,0.198,13.86,0.396c4.95,0.198,9.702,0.396,14.652-0.198c4.752-0.594,9.702-0.396,14.652,0c4.554,0.396,9.306,0,14.058,0c1.584,0,3.366-0.198,4.95-0.198c2.772,0,5.346,0,8.118,0.198c5.148,0,10.296,0.198,15.444,0.396c4.356,0,8.712-0.396,13.068-0.396c4.356-0.198,8.514-0.198,12.87-0.198c1.386-0.198,2.376,0.396,3.168,1.386c1.386,2.178,3.366,3.168,5.742,3.366c2.772,0.198,5.544,0,7.92-1.386c0.396-0.396,0.792-0.594,1.188-0.99c2.376-2.574,0.792-5.544-1.188-6.732c-2.376-1.584-4.95-1.98-7.92-0.99c-1.188,0.198-2.376,0.594-3.366,1.188c-1.98,1.188-4.158,1.188-6.138,0.99c-3.366,0-6.534-0.198-9.9-0.396c-3.762-0.198-7.524-0.198-11.286-0.198c-0.99,0-2.178,0.198-3.168,0.198c-2.376,0-4.95-0.198-7.326-0.198c-1.782,0-3.564,0-5.148,0.198c-0.396,0-0.594,0-0.99,0c-5.94-0.792-11.88-0.198-17.82-0.396c-3.564,0-6.93-0.396-10.296-0.396c-8.118,0-16.434,0-24.552,0.198c-4.752,0-9.306,0.396-13.86,0.792c-1.386,0-2.574-0.198-3.762-0.198c-3.366-0.198-6.534-0.198-9.9-0.396c-2.376-0.198-4.95-0.396-7.326-0.198c-4.752,0.198-9.504-0.396-14.256-0.594c-2.772,0-5.544,0-8.514-0.198c-4.95,0-9.9-0.198-14.85-0.198c-2.772,0-5.544,0.396-8.514,0.594c-1.98,0.198-3.96,0.198-6.138,0.198c-2.97,0.198-6.138,0-9.306,0c-0.792,0.198-1.584,0.198-2.376,0.396c-0.396,0.396-1.188,1.188-0.99,1.386c0,0.594,0.792,1.386,1.188,1.584c1.386,0.198,2.772,0.198,4.158,0.198C311.847,13.662,312.837,13.662,313.827,13.662L313.827,13.662z M519.943,13.464c0.99,1.584,2.178,2.376,3.366,2.97c1.782,0.594,3.366,1.386,4.95,2.376c1.782,0.99,3.564,0.396,4.95-0.396c2.178-1.188,3.762-2.97,5.742-4.554c0.198-0.198,0.198-0.594,0.396-1.188c-0.594-0.396-1.188-0.792-1.98-1.188c-1.584-0.99-3.168-1.98-4.752-2.97c-0.396-0.396-0.99-0.792-1.386-0.594c-1.98,0.594-3.96,0.792-5.742,2.178C523.903,11.286,521.923,12.276,519.943,13.464z"/></svg>',"whimsy:unorderedlist":'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="18" viewBox="0 0 15 18"><path fill="{{color}}" d="M 0 9 L 7 0 L 15 9 L 8 18 L 0 9 Z "/></svg>',"whimsy:blockquote":'<svg xmlns="http://www.w3.org/2000/svg" width="275" height="20.997" viewBox="0 0 275 20.997"><path fill="{{color}}" d="M273.108,11.152c-1,0.8-1.8,1.7-2.9,2.3c-0.7,0.4-1.6,0.7-2.5,0.2c-0.8-0.5-1.6-0.9-2.5-1.2 c-0.6-0.3-1.2-0.7-1.7-1.5c1-0.6,2-1.1,2.8-1.7c0.9-0.7,1.9-0.8,2.9-1.1c0.2-0.1,0.5,0.1,0.7,0.3c0.8,0.5,1.6,1,2.4,1.5 c0.4,0.2,0.7,0.4,1,0.6C273.208,10.852,273.208,11.052,273.108,11.152z M260.107,13.152c-1.2,0.7-2.6,0.8-4,0.7 c-1.2-0.1-2.2-0.6-2.9-1.7c-0.4-0.5-0.9-0.8-1.6-0.7c-2.2,0-4.3,0-6.5,0.1c-2.2,0-4.4,0.2-6.6,0.2c-2.6-0.1-5.2-0.2-7.801-0.2 c-1.4-0.1-2.7-0.1-4.1-0.1c-0.8,0-1.7,0.1-2.5,0.1c-2.4,0-4.8,0.2-7.1,0c-2.5-0.2-5-0.3-7.4,0c-2.5,0.3-4.9,0.2-7.4,0.1 c-2.3-0.1-4.6-0.3-7-0.2c-2.1,0-4.3-0.1-6.4-0.2c-2.1,0-4.3,0-6.5,0c-1.8,0-3.5-0.2-5.3-0.2c-2.6,0-5.2,0.1-7.801,0.1 c-1,0.1-2-0.1-3-0.1c-0.74,0-1.452,0-2.188,0V9.205c0.23-0.014,0.459-0.031,0.688-0.054c1.5-0.1,2.9-0.3,4.3-0.3 c2.5,0,5,0.1,7.5,0.1c1.5,0.1,2.9,0.1,4.3,0.1c2.4,0.1,4.8,0.4,7.2,0.3c1.2-0.1,2.5,0,3.7,0.1c1.7,0.1,3.3,0.1,5,0.2 c0.6,0,1.2,0.1,1.9,0.1c2.3-0.2,4.6-0.4,7-0.4c4.1-0.1,8.3-0.1,12.401-0.1c1.7,0,3.4,0.2,5.2,0.2c3,0.1,6-0.2,9.001,0.2 c0.2,0,0.3,0,0.5,0c0.8-0.1,1.7-0.1,2.6-0.1c1.2,0,2.5,0.1,3.7,0.1c0.5,0,1.1-0.1,1.6-0.1c1.9,0,3.8,0,5.7,0.1 c1.7,0.1,3.3,0.2,5,0.2c1,0.1,2.1,0.1,3.1-0.5c0.5-0.3,1.1-0.5,1.7-0.6c1.5-0.5,2.8-0.3,4,0.5c1,0.6,1.8,2.1,0.6,3.4 C260.508,12.852,260.307,12.952,260.107,13.152z"/><path fill="{{color}}" d="M0.199,11.141c0.998,0.83,1.795,1.764,2.893,2.387c0.698,0.415,1.596,0.727,2.494,0.208 c0.798-0.519,1.596-0.934,2.494-1.246c0.599-0.311,1.197-0.726,1.696-1.557C8.778,10.311,7.78,9.792,6.982,9.169 C6.085,8.443,5.087,8.339,4.09,8.028c-0.2-0.104-0.499,0.104-0.698,0.311C2.593,8.858,1.795,9.377,0.998,9.896 C0.599,10.103,0.299,10.311,0,10.518C0.1,10.83,0.1,11.037,0.199,11.141z M13.167,13.217c1.197,0.726,2.594,0.83,3.99,0.726 c1.197-0.104,2.194-0.623,2.893-1.764c0.399-0.519,0.898-0.83,1.596-0.727c2.194,0,4.289,0,6.484,0.104 c2.194,0,4.389,0.208,6.583,0.208c2.594-0.104,5.187-0.208,7.78-0.208c1.397-0.104,2.693-0.104,4.09-0.104 c0.798,0,1.696,0.104,2.494,0.104c2.394,0,4.788,0.208,7.082,0c2.494-0.208,4.987-0.311,7.381,0 c2.494,0.311,4.888,0.208,7.381,0.104c2.294-0.104,4.589-0.311,6.982-0.208c2.095,0,4.289-0.104,6.384-0.207 c2.095,0,4.289,0,6.484,0c1.795,0,3.491-0.208,5.287-0.208c2.593,0,5.187,0.104,7.78,0.104c0.997,0.104,1.995-0.104,2.992-0.104 c0.738,0,1.448,0,2.183,0V9.121c-0.23-0.014-0.458-0.032-0.686-0.056c-1.496-0.104-2.893-0.311-4.289-0.311 c-2.494,0-4.987,0.104-7.481,0.104c-1.496,0.104-2.893,0.104-4.289,0.104c-2.394,0.104-4.788,0.415-7.182,0.311 c-1.197-0.104-2.494,0-3.691,0.104c-1.696,0.104-3.292,0.104-4.987,0.208c-0.599,0-1.197,0.104-1.895,0.104 c-2.294-0.208-4.589-0.415-6.982-0.415c-4.09-0.104-8.279-0.104-12.369-0.104c-1.696,0-3.392,0.208-5.187,0.208 c-2.993,0.104-5.985-0.208-8.977,0.208c-0.2,0-0.299,0-0.499,0c-0.798-0.104-1.696-0.104-2.593-0.104 c-1.197,0-2.494,0.104-3.691,0.104c-0.499,0-1.097-0.104-1.596-0.104c-1.895,0-3.79,0-5.686,0.104 c-1.696,0.104-3.292,0.208-4.987,0.208c-0.998,0.104-2.095,0.104-3.092-0.519c-0.499-0.311-1.097-0.519-1.696-0.623 c-1.496-0.519-2.793-0.311-3.99,0.519c-0.997,0.623-1.795,2.18-0.599,3.529C12.768,12.906,12.967,13.009,13.167,13.217z"/><path fill="{{color}}" d="M124.026,12.755c0,1.867,0.622,3.54,1.867,5.019c1.244,1.48,2.84,2.22,4.788,2.22 c1.812,0,3.104-0.512,3.875-1.537c0.771-1.024,1.156-2.082,1.156-3.173c0-1.383-0.494-2.428-1.481-3.133 c-0.988-0.705-1.982-1.058-2.982-1.058c-0.136,0-1.082,0.094-2.84,0.279c-0.406,0-0.69-0.1-0.852-0.3 c-0.162-0.2-0.243-0.447-0.243-0.741c0-0.908,0.284-1.91,0.852-3.006c1.136-2.192,3.138-4.102,6.005-5.732l-0.771-1.597 c-2.327,1.04-4.47,2.713-6.431,5.019C125.006,7.323,124.026,9.903,124.026,12.755L124.026,12.755z"/><path fill="{{color}}" d="M138.337,12.755c0,1.867,0.622,3.54,1.867,5.019c1.244,1.48,2.84,2.22,4.788,2.22 c1.812,0,3.104-0.512,3.875-1.537c0.771-1.024,1.156-2.082,1.156-3.173c0-1.383-0.494-2.428-1.481-3.133 c-0.988-0.705-1.982-1.058-2.982-1.058c-0.136,0-1.082,0.094-2.84,0.279c-0.406,0-0.69-0.1-0.852-0.3 c-0.162-0.2-0.243-0.447-0.243-0.741c0-0.908,0.284-1.91,0.852-3.006c1.136-2.192,3.138-4.102,6.005-5.732l-0.771-1.597 c-2.327,1.04-4.47,2.713-6.431,5.019C139.317,7.323,138.337,9.903,138.337,12.755L138.337,12.755z"/></svg>',"whimsy:blockquote-end":'<svg xmlns="http://www.w3.org/2000/svg" width="275" height="19.997" viewBox="0 0 275 19.997"><path fill="{{color}}" d="M274.095,10.152c-1,0.8-1.8,1.7-2.9,2.3c-0.7,0.4-1.6,0.7-2.5,0.2c-0.8-0.5-1.6-0.9-2.5-1.2 c-0.6-0.3-1.2-0.7-1.7-1.5c1-0.6,2-1.1,2.8-1.7c0.9-0.7,1.9-0.8,2.9-1.1c0.2-0.1,0.5,0.1,0.7,0.3c0.8,0.5,1.6,1,2.4,1.5 c0.4,0.2,0.7,0.4,1,0.6C274.195,9.852,274.195,10.052,274.095,10.152z M261.094,12.152c-1.2,0.7-2.6,0.8-4,0.7 c-1.2-0.1-2.2-0.6-2.9-1.7c-0.4-0.5-0.9-0.8-1.6-0.7c-2.2,0-4.3,0-6.5,0.1c-2.2,0-4.4,0.2-6.6,0.2c-2.6-0.1-5.2-0.2-7.801-0.2 c-1.4-0.1-2.7-0.1-4.1-0.1c-0.8,0-1.7,0.1-2.5,0.1c-2.4,0-4.8,0.2-7.1,0c-2.5-0.2-5-0.3-7.4,0c-2.5,0.3-4.9,0.2-7.4,0.1 c-2.3-0.1-4.6-0.3-7-0.2c-2.1,0-4.3-0.1-6.4-0.2c-2.1,0-4.3,0-6.5,0c-1.8,0-3.5-0.2-5.3-0.2c-2.6,0-5.2,0.1-7.801,0.1 c-1,0.1-2-0.1-3-0.1c-0.74,0-1.452,0-2.188,0V8.205c0.23-0.014,0.459-0.031,0.688-0.054c1.5-0.1,2.9-0.3,4.3-0.3 c2.5,0,5,0.1,7.5,0.1c1.5,0.1,2.9,0.1,4.3,0.1c2.4,0.1,4.8,0.4,7.2,0.3c1.2-0.1,2.5,0,3.7,0.1c1.7,0.1,3.3,0.1,5,0.2 c0.6,0,1.2,0.1,1.9,0.1c2.3-0.2,4.6-0.4,7-0.4c4.1-0.1,8.3-0.1,12.401-0.1c1.7,0,3.4,0.2,5.2,0.2c3,0.1,6-0.2,9.001,0.2 c0.2,0,0.3,0,0.5,0c0.8-0.1,1.7-0.1,2.6-0.1c1.2,0,2.5,0.1,3.7,0.1c0.5,0,1.1-0.1,1.6-0.1c1.9,0,3.8,0,5.7,0.1 c1.7,0.1,3.3,0.2,5,0.2c1,0.1,2.1,0.1,3.1-0.5c0.5-0.3,1.1-0.5,1.7-0.6c1.5-0.5,2.8-0.3,4,0.5c1,0.6,1.8,2.1,0.6,3.4 C261.494,11.852,261.294,11.952,261.094,12.152z"/><path fill="{{color}}" d="M1.186,10.141c0.997,0.83,1.795,1.764,2.893,2.387c0.698,0.415,1.596,0.727,2.494,0.208 c0.798-0.519,1.596-0.934,2.494-1.246c0.599-0.311,1.197-0.726,1.696-1.557C9.764,9.311,8.767,8.792,7.969,8.169 c-0.898-0.727-1.895-0.83-2.893-1.142c-0.2-0.104-0.499,0.104-0.698,0.311C3.58,7.858,2.782,8.377,1.984,8.896 C1.585,9.103,1.286,9.311,0.986,9.518C1.086,9.83,1.086,10.037,1.186,10.141z M14.153,12.217c1.197,0.726,2.594,0.83,3.99,0.726 c1.197-0.104,2.194-0.623,2.893-1.764c0.399-0.519,0.898-0.83,1.596-0.727c2.194,0,4.289,0,6.484,0.104 c2.194,0,4.389,0.208,6.583,0.208c2.594-0.104,5.187-0.208,7.78-0.208c1.397-0.104,2.693-0.104,4.09-0.104 c0.798,0,1.696,0.104,2.494,0.104c2.394,0,4.788,0.208,7.082,0c2.494-0.208,4.987-0.311,7.381,0 c2.494,0.311,4.888,0.208,7.381,0.104c2.294-0.104,4.589-0.311,6.982-0.208c2.095,0,4.289-0.104,6.384-0.207 c2.095,0,4.289,0,6.484,0c1.795,0,3.491-0.208,5.287-0.208c2.593,0,5.187,0.104,7.78,0.104c0.997,0.104,1.995-0.104,2.992-0.104 c0.738,0,1.448,0,2.183,0V8.121c-0.23-0.014-0.458-0.032-0.686-0.056c-1.496-0.104-2.893-0.311-4.289-0.311 c-2.494,0-4.987,0.104-7.481,0.104c-1.496,0.104-2.893,0.104-4.289,0.104c-2.394,0.104-4.788,0.415-7.182,0.311 c-1.197-0.104-2.494,0-3.691,0.104c-1.696,0.104-3.292,0.104-4.987,0.208c-0.599,0-1.197,0.104-1.895,0.104 c-2.294-0.208-4.589-0.415-6.982-0.415c-4.09-0.104-8.279-0.104-12.369-0.104c-1.696,0-3.392,0.208-5.187,0.208 c-2.993,0.104-5.985-0.208-8.977,0.208c-0.2,0-0.299,0-0.499,0c-0.798-0.104-1.696-0.104-2.593-0.104 c-1.197,0-2.494,0.104-3.691,0.104c-0.499,0-1.097-0.104-1.596-0.104c-1.895,0-3.79,0-5.686,0.104 c-1.696,0.104-3.292,0.208-4.987,0.208c-0.997,0.104-2.095,0.104-3.092-0.519c-0.499-0.311-1.097-0.519-1.696-0.623 c-1.496-0.519-2.793-0.311-3.99,0.519c-0.998,0.623-1.795,2.18-0.599,3.529C13.754,11.906,13.954,12.009,14.153,12.217z"/><path fill="{{color}}" d="M151.009,7.239c0-1.867-0.622-3.54-1.867-5.019c-1.244-1.48-2.84-2.22-4.788-2.22 c-1.812,0-3.104,0.512-3.875,1.537c-0.771,1.024-1.156,2.082-1.156,3.173c0,1.383,0.494,2.428,1.481,3.133 c0.988,0.705,1.982,1.058,2.982,1.058c0.136,0,1.082-0.094,2.84-0.279c0.406,0,0.69,0.1,0.852,0.3 c0.162,0.199,0.243,0.446,0.243,0.741c0,0.908-0.284,1.91-0.852,3.006c-1.136,2.191-3.138,4.102-6.005,5.732l0.771,1.597 c2.327-1.04,4.47-2.713,6.431-5.019C150.028,12.672,151.009,10.091,151.009,7.239L151.009,7.239z"/><path fill="{{color}}" d="M136.698,7.239c0-1.867-0.622-3.54-1.867-5.019c-1.244-1.48-2.84-2.22-4.788-2.22 c-1.812,0-3.104,0.512-3.875,1.537c-0.771,1.024-1.156,2.082-1.156,3.173c0,1.383,0.494,2.428,1.481,3.133 c0.988,0.705,1.982,1.058,2.982,1.058c0.136,0,1.082-0.094,2.84-0.279c0.406,0,0.69,0.1,0.852,0.3 c0.162,0.199,0.243,0.446,0.243,0.741c0,0.908-0.284,1.91-0.852,3.006c-1.136,2.191-3.138,4.102-6.005,5.732l0.771,1.597 c2.327-1.04,4.47-2.713,6.431-5.019C135.718,12.672,136.698,10.091,136.698,7.239L136.698,7.239z"/></svg>',"whimsy:title":'<svg xmlns="http://www.w3.org/2000/svg" width="539.347" height="22.027" viewBox="0 0 539.347 22.027"><path style="fill:{{color}};" d="M225.718,13.662L225.718,13.662c0.99,0,1.98,0,2.772,0c1.386,0,2.772,0,4.158-0.198c0.594-0.198,1.188-0.99,1.386-1.584c0.198-0.198-0.594-0.99-0.99-1.386c-0.792-0.198-1.584-0.198-2.376-0.396c-3.168,0-6.336,0.198-9.504,0c-1.98,0-4.158,0-6.138-0.198c-2.772-0.198-5.544-0.594-8.514-0.594c-4.95,0-9.9,0.198-14.85,0.198c-2.772,0.198-5.544,0.198-8.514,0.198c-4.554,0.198-9.306,0.792-14.058,0.594c-2.574-0.198-4.95,0-7.524,0.198c-3.168,0.198-6.534,0.198-9.702,0.396c-1.188,0-2.574,0.198-3.762,0.198c-4.554-0.396-9.306-0.792-13.86-0.792c-8.316-0.198-16.434-0.198-24.552-0.198c-3.564,0-6.93,0.396-10.296,0.396c-5.94,0.198-11.88-0.396-18.018,0.396c-0.198,0-0.594,0-0.792,0c-1.782-0.198-3.564-0.198-5.148-0.198c-2.574,0-4.95,0.198-7.524,0.198c-0.99,0-1.98-0.198-2.97-0.198c-3.762,0-7.524,0-11.484,0.198c-3.168,0.198-6.534,0.396-9.702,0.396c-2.178,0.198-4.158,0.198-6.138-0.99c-0.99-0.594-2.376-0.99-3.564-1.188c-2.772-0.99-5.346-0.594-7.92,0.99c-1.98,1.188-3.564,4.158-0.99,6.732c0.198,0.396,0.594,0.594,1.188,0.99c2.376,1.386,4.95,1.584,7.722,1.386c2.376-0.198,4.554-1.188,5.94-3.366c0.792-0.99,1.782-1.584,3.168-1.386c4.158,0,8.514,0,12.672,0.198c4.356,0,8.712,0.396,13.068,0.396c5.148-0.198,10.494-0.396,15.642-0.396c2.574-0.198,5.346-0.198,8.118-0.198c1.584,0,3.168,0.198,4.95,0.198c4.752,0,9.306,0.396,14.058,0c4.752-0.396,9.702-0.594,14.652,0c4.752,0.594,9.702,0.396,14.454,0.198c4.752-0.198,9.306-0.594,14.058-0.396c4.158,0,8.316-0.198,12.474-0.396c4.356,0,8.712,0,13.068,0c3.366,0,6.93-0.396,10.494-0.396c5.148,0,10.296,0.198,15.444,0.198c1.98,0.198,3.96-0.198,5.94-0.198C216.61,13.662,221.164,13.662,225.718,13.662z M268.683,0c-0.594,0.594-1.386,1.188-1.782,1.782c-0.99,1.188-1.782,2.178-2.574,3.366c-0.792,1.386-1.782,2.574-2.574,3.96c-0.99,1.584-0.792,2.376,0.198,3.762c0.396,0.396,0.792,0.792,0.99,1.188c0.792,1.188,1.584,2.178,2.376,3.366c0.99,1.188,2.178,2.376,3.168,3.564c0.99,1.386,1.584,1.386,2.574,0c1.98-2.574,3.96-5.148,5.94-7.722c1.584-1.782,1.584-1.584,0.396-3.564C275.217,5.94,272.049,3.168,268.683,0z M253.041,12.87c0.198-3.366-1.386-6.534-3.564-7.92c-1.98-1.188-2.97-1.188-4.752,0c-1.782,0.99-2.376,2.376-3.168,4.158c-0.99,2.772-0.594,5.346,0.792,7.722c1.386,2.97,5.148,4.752,8.316,1.386C252.249,16.632,253.041,14.652,253.041,12.87z M297.591,12.87c0-3.366-1.584-6.534-3.762-7.92c-1.782-1.188-2.97-1.188-4.752,0c-1.782,0.99-2.376,2.376-3.168,4.158c-0.792,2.772-0.594,5.346,0.792,7.722c1.386,2.97,5.148,4.752,8.316,1.386C296.601,16.632,297.393,14.652,297.591,12.87z M19.404,13.464c-1.98-1.188-3.762-2.178-5.346-3.366c-1.782-1.386-3.762-1.584-5.742-2.178C7.92,7.722,7.326,8.118,6.732,8.514c-1.584,0.99-3.168,1.98-4.752,2.97C1.386,11.88,0.792,12.276,0,12.672c0.198,0.594,0.396,0.99,0.594,1.188c1.782,1.584,3.564,3.366,5.544,4.554c1.386,0.792,3.168,1.386,4.95,0.396c1.584-0.99,3.366-1.782,4.95-2.376C17.424,15.84,18.612,15.048,19.404,13.464z M313.827,13.662c4.356,0,8.91,0,13.464,0c1.98,0,3.96,0.396,5.94,0.198c5.148,0,10.296-0.198,15.444-0.198c3.564,0,6.93,0.396,10.494,0.396c4.356,0,8.712,0,12.87,0c4.158,0.198,8.514,0.396,12.672,0.396c4.752-0.198,9.306,0.198,13.86,0.396c4.95,0.198,9.702,0.396,14.652-0.198c4.752-0.594,9.702-0.396,14.652,0c4.554,0.396,9.306,0,14.058,0c1.584,0,3.366-0.198,4.95-0.198c2.772,0,5.346,0,8.118,0.198c5.148,0,10.296,0.198,15.444,0.396c4.356,0,8.712-0.396,13.068-0.396c4.356-0.198,8.514-0.198,12.87-0.198c1.386-0.198,2.376,0.396,3.168,1.386c1.386,2.178,3.366,3.168,5.742,3.366c2.772,0.198,5.544,0,7.92-1.386c0.396-0.396,0.792-0.594,1.188-0.99c2.376-2.574,0.792-5.544-1.188-6.732c-2.376-1.584-4.95-1.98-7.92-0.99c-1.188,0.198-2.376,0.594-3.366,1.188c-1.98,1.188-4.158,1.188-6.138,0.99c-3.366,0-6.534-0.198-9.9-0.396c-3.762-0.198-7.524-0.198-11.286-0.198c-0.99,0-2.178,0.198-3.168,0.198c-2.376,0-4.95-0.198-7.326-0.198c-1.782,0-3.564,0-5.148,0.198c-0.396,0-0.594,0-0.99,0c-5.94-0.792-11.88-0.198-17.82-0.396c-3.564,0-6.93-0.396-10.296-0.396c-8.118,0-16.434,0-24.552,0.198c-4.752,0-9.306,0.396-13.86,0.792c-1.386,0-2.574-0.198-3.762-0.198c-3.366-0.198-6.534-0.198-9.9-0.396c-2.376-0.198-4.95-0.396-7.326-0.198c-4.752,0.198-9.504-0.396-14.256-0.594c-2.772,0-5.544,0-8.514-0.198c-4.95,0-9.9-0.198-14.85-0.198c-2.772,0-5.544,0.396-8.514,0.594c-1.98,0.198-3.96,0.198-6.138,0.198c-2.97,0.198-6.138,0-9.306,0c-0.792,0.198-1.584,0.198-2.376,0.396c-0.396,0.396-1.188,1.188-0.99,1.386c0,0.594,0.792,1.386,1.188,1.584c1.386,0.198,2.772,0.198,4.158,0.198C311.847,13.662,312.837,13.662,313.827,13.662L313.827,13.662z M519.943,13.464c0.99,1.584,2.178,2.376,3.366,2.97c1.782,0.594,3.366,1.386,4.95,2.376c1.782,0.99,3.564,0.396,4.95-0.396c2.178-1.188,3.762-2.97,5.742-4.554c0.198-0.198,0.198-0.594,0.396-1.188c-0.594-0.396-1.188-0.792-1.98-1.188c-1.584-0.99-3.168-1.98-4.752-2.97c-0.396-0.396-0.99-0.792-1.386-0.594c-1.98,0.594-3.96,0.792-5.742,2.178C523.903,11.286,521.923,12.276,519.943,13.464z"/></svg>',"wiper:blockquote":'<svg xmlns="http://www.w3.org/2000/svg" width="82.099" height="72.456" viewBox="0 0 82.099 72.456"><path style="fill:{{color}};" d="M21.489,72.456c8.816,0,13.775-5.51,13.775-11.847c0-12.122-11.571-14.877-14.051-15.979c-1.928-0.826-4.132-4.132-4.132-7.714c0-13.5,11.571-25.621,17.356-31.131c2.204-1.653,2.204-2.204,2.204-3.581C36.641,0.826,35.815,0,33.886,0s-3.581,1.377-4.959,2.204C23.968,5.234,0,22.591,0,48.764C0,64.191,12.948,72.456,21.489,72.456z M66.671,72.456c8.816,0,14.05-5.51,14.05-11.847c0-12.122-11.846-14.877-14.326-15.979c-1.929-0.826-4.133-4.132-4.133-7.714c0-13.5,11.571-25.621,17.632-31.131c2.204-1.653,2.204-2.204,2.204-3.581C82.099,0.826,81.272,0,79.344,0c-2.204,0-3.857,1.377-5.234,2.204c-4.959,3.03-28.927,20.387-28.927,46.56C45.182,64.191,58.406,72.456,66.671,72.456z"/></svg>'},getAssetAsCSSUrl:function(e,t){var i='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><rect width="10" height="10" fill="{{color}}"></rect></svg>',r=this.assetsDict[e];return r?i=r:console.error('Error: Unknown SVG assetName "'+e+'"'),t&&(i=o.render(r,t)),"url('data:image/svg+xml;base64,"+n(i)+"')"}};e.exports=r},577:function(e,t,i){var n,o;n=[i(1),i(16),i(8),i(535),i(7),i(10),i(26),i(9),i(467)],void 0===(o=function(e,t,i,n,o,r,a,s,l){"use strict";var d=new r.default({color:"rebeccapurple",name:"GoogleApiController"});return new(l.extend({SERVICE_NAME:"GoogleApi",SERVICE_URI:"https://apis.google.com/js/api.js",DRIVE_API:"https://www.googleapis.com/drive/v3",init:function(){this.deferred||(this.deferred=e.defer()),window.gapi||this.initializing||(d.info(this.SERVICE_NAME+" Initializing"),this._loadLibrary(),this.initializing=!0)},checkDriveAction:function(){var e=a.get("google-drive-open"),i=a.get("google-drive-save-new");e&&o.requiresAuth().then(function(){this._getDriveFileMetadata(e).then(function(e){var i=this._getSparkFormat(e.appProperties.sparkFormat),n=e.appProperties.urn,o=t.getLocalizedSparkPath("/sp/")+"design/"+i+"/"+n;a.expire("google-drive-open"),d.debug("Expired google-drive-open cookie and redirecting! to "+o),window.location.replace(o)}.bind(this))}.bind(this)).done(),i&&(window.sessionStorage.setItem("google-drive-save-new",!0),a.expire("google-drive-save-new"))},showSaveCTA:function(){return"true"===window.sessionStorage.getItem("google-drive-save-new")},saveToDrive:function(t){var i=e.defer(),n=t.getDocData("googleDrive#fileId");window.sessionStorage.removeItem("google-drive-save-new");s.trackEvent("project:exportCompleted",{exportMethod:"drive"},"auth:landing");var o={title:t.getProjectName(),sparkId:t.getDocData("id"),sparkFormat:this._getSparkFormat(t.getMyApp().registeredName),googleFileId:n,thumbnail:null};d.debug("Saving document to Drive",o);var r=t.getURN(),a=t.getImageRendition(1200);return e.allSettled([r,a]).then(function(e){var r,a=e[0],s=e[1];"fulfilled"!==a.state&&(r="Unable to resolve project URN",d.error(r),i.reject(r)),"fulfilled"!==s.state&&(r="Unable to resolve project thumbnail",d.error(r),i.reject(r)),o.urn=a.value,s.value?o.thumbnail=s.value.url:o.thumbnail="//"+window.location.host+"/marvel-core/images/placeholders/google-drive-thumbnail-blank.png",this._doSave(o).then(function(e){d.debug("Save to drive succeeded with resultant file ID"+e),n!==e&&this._setDriveFileId(t,e),i.resolve(e)}.bind(this),(function(e){d.error("Error saving to Google Drive",e),i.reject(e)})).done()}.bind(this)).done(),i.promise},onLoad:function(){d.info(this.SERVICE_NAME+" Successfully loaded"),this.deferred.resolve()},whenAvailable:function(){return this.deferred.promise},_loadLibrary:function(){var e=document.createElement("script");e.type="text/javascript",e.src=this.SERVICE_URI,e.onload=this.onLoad.bind(this),d.info(this.SERVICE_NAME+" Loading"),document.body.appendChild(e)},_getSparkFolder:function(){var t=e.defer(),n={mimeType:"application/vnd.google-apps.folder",name:"Adobe Spark"};return i.allFeaturesLoaded().then(function(){var e=i.getUserProperty("gdrive-spark-folder");e?this._verfiySparkFolderExists(e).then((function(e){d.debug("Verified Adobe Spark folder exists in drive"),t.resolve(e.id)}),function(e){"Invalid Credentials"===e.message&&"401"===e.code?d.debug("Error fetching Adobe Spark folder with invalid token, re-authing...",e):(d.debug("Error fetching Adobe Spark folder, making a new one.",e),this._createDriveFile(n).then((function(e){i.setUserProperty("gdrive-spark-folder",e.id),t.resolve(e.id)})))}.bind(this)):(d.debug("User does not have Adobe Spark folder, making a new one."),this._createDriveFile(n).then((function(e){i.setUserProperty("gdrive-spark-folder",e.id),t.resolve(e.id)})))}.bind(this)).done(),t.promise},_updateDriveFile:function(e,t){return n.getAccessToken().then(function(i){return $.ajax({method:"PATCH",url:this.DRIVE_API+"/files/"+e,headers:{Authorization:"Bearer "+i},contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t)})}.bind(this))},_encodeThumbnail:function(e){return e.split(",")[1].replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")},_getThumbnail:function(t){var i=e.defer();return o.getAccessToken().then((function(e){return window.fetch(t,{method:"GET",headers:{"x-access-token":e}}).then((function(e){return e.blob()})).then((function(e){var t=new FileReader;t.onload=function(){i.resolve(this.result)},t.readAsDataURL(e)}))})).done(),i.promise},_setThumbnail:function(e,t){return this._getThumbnail(t).then(function(t){return this._updateDriveFile(e,{contentHints:{thumbnail:{image:this._encodeThumbnail(t),mimeType:"image/png"}}}).then((function(){d.debug("Updated thumbnail for Google Drive File ID "+e)}),(function(t){d.error("Error setting thumbnail for Google Drive File ID "+e,t)}))}.bind(this),(function(e){d.error("Error getting thumbnail for this document",e)}))},_createDriveFile:function(e){return n.getAccessToken().then(function(t){return $.ajax({method:"POST",url:this.DRIVE_API+"/files",headers:{Authorization:"Bearer "+t},contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(e)})}.bind(this))},_getSparkFormat:function(e){switch(e){case"slate-web":case"page":return"page";case"ginger-snap":case"video":return"video";case"theo-web":case"post":return"post";case"refapp":case"reference-app":return"refapp";default:return"unknown"}},_doSave:function(t){var i=e.defer(),n={mimeType:"application/vnd.google-apps.drive-sdk",name:t.title,appProperties:{sparkFormat:t.sparkFormat,sparkId:t.sparkId,urn:t.urn},writersCanShare:!1};return this._getSparkFolder().then(function(e){t.googleFileId?(d.debug("Spark project has Google Drive File ID "+t.googleFileId+" in manifest, updating."),n.addParents=e,this._updateDriveFile(t.googleFileId,n).then(function(e){d.debug("Google Drive File ID "+t.googleFileId+" updated."),i.resolve(e.id),this._setThumbnail(e.id,t.thumbnail)}.bind(this),function(o){404===o.status&&(d.debug("Google Drive File ID "+t.googleFileId+" returned 404, attempting to create a new file."),n.parents=[e],this._createDriveFile(n).then(function(e){d.debug("Google Drive File ID "+e.id+" created!"),i.resolve(e.id),this._setThumbnail(e.id,t.thumbnail)}.bind(this),(function(e){d.error("Error creating Google Drive file",e),i.reject("Failed to create new Google Drive file")})))}.bind(this))):(d.debug("Spark project has no Google Drive File ID in manifest, creating a new file."),n.parents=[e],this._createDriveFile(n).then(function(e){d.debug("Google Drive File ID "+e.id+" created!"),i.resolve(e.id),this._setThumbnail(e.id,t.thumbnail)}.bind(this),(function(e){d.error("Error creating Google Drive file",e),i.reject("Failed to create new Google Drive file")})))}.bind(this)).done(),i.promise},_setDriveFileId:function(e,t){e.setDocRootVals("googleDrive#fileId",t)},_verfiySparkFolderExists:function(t){return n.getAccessToken().then(function(i){var n=e.defer();return $.ajax({method:"GET",url:this.DRIVE_API+"/files/"+t,headers:{Authorization:"Bearer "+i},success:function(e){n.resolve(e)},error:function(e){n.reject(e.responseJSON.error)}}),n.promise}.bind(this))},_getDriveFileMetadata:function(t){return n.getAccessToken().then(function(i){var n=e.defer();return $.ajax({method:"GET",url:this.DRIVE_API+"/files/"+t+"?fields=appProperties",headers:{Authorization:"Bearer "+i},success:function(e){e&&e.appProperties&&e.appProperties.sparkFormat&&e.appProperties.sparkId?n.resolve(e):n.reject("Missing metadata in Google Drive file shortcut for file "+t)},error:function(e){n.reject(e.status)}}),n.promise}.bind(this))}}))}.apply(t,n))||(e.exports=o)},606:function(e,t,i){var n,o;n=[i(3)],void 0===(o=function(e){var t,i="virtualMouseBindings",n="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),r="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],s=e.event.props.concat(a),l={},d=0,c=0,p=0,h=!1,u=[],g=!1,m=!1,f="addEventListener"in document,v=e(document),b=1,w=0;function k(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function x(t){for(var n,o,r={};t;){for(o in n=e.data(t,i))n[o]&&(r[o]=r.hasVirtualBinding=!0);t=t.parentNode}return r}function y(){m=!0}function S(){m=!1}function _(){C(),d=setTimeout((function(){d=0,w=0,u.length=0,g=!1,y()}),e.vmouse.resetTimerDuration)}function C(){d&&(clearTimeout(d),d=0)}function T(t,n,o){var a;return(o&&o[t]||!o&&function(t,n){for(var o;t;){if((o=e.data(t,i))&&(!n||o[n]))return t;t=t.parentNode}return null}(n.target,t))&&(a=function(t,i){var n,o,a,l,d,c,p,h,u,g=t.type;if((t=e.Event(t)).type=i,n=t.originalEvent,o=e.event.props,g.search(/^(mouse|click)/)>-1&&(o=s),n)for(p=o.length;p;)t[l=o[--p]]=n[l];if(g.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==g.search(/^touch/)&&(g=(a=k(n)).touches,d=a.changedTouches,c=g&&g.length?g[0]:d&&d.length?d[0]:void 0))for(h=0,u=r.length;h<u;h++)t[l=r[h]]=c[l];return t}(n,t),e(n.target).trigger(a)),a}function I(t){var i=e.data(t.target,n);if(!(g||w&&w===i)){var o=T("v"+t.type,t);o&&(o.isDefaultPrevented()&&t.preventDefault(),o.isPropagationStopped()&&t.stopPropagation(),o.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function P(t){var i,o,r=k(t).touches;if(r&&1===r.length&&(o=x(i=t.target)).hasVirtualBinding){w=b++,e.data(i,n,w),C(),S(),h=!1;var a=k(t).touches[0];c=a.pageX,p=a.pageY,T("vmouseover",t,o),T("vmousedown",t,o)}}function D(e){m||(h||T("vmousecancel",e,x(e.target)),h=!0,_())}function F(t){if(!m){var i=k(t).touches[0],n=h,o=e.vmouse.moveDistanceThreshold,r=x(t.target);(h=h||Math.abs(i.pageX-c)>o||Math.abs(i.pageY-p)>o)&&!n&&T("vmousecancel",t,r),T("vmousemove",t,r),_()}}function R(e){if(!m){y();var t,i=x(e.target);if(T("vmouseup",e,i),!h){var n=T("vclick",e,i);n&&n.isDefaultPrevented()&&(t=k(e).changedTouches[0],u.push({touchID:w,x:t.clientX,y:t.clientY}),g=!0)}T("vmouseout",e,i),h=!1,_()}}function A(t){var n,o=e.data(t,i);if(o)for(n in o)if(o[n])return!0;return!1}function B(){}e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};var L=!1;try{var E=Object.defineProperty({},"passive",{get:function(){L={passive:!1}}});window.addEventListener("test",E,E),window.removeEventListener("test",E,E)}catch(e){L=!1}function M(t){var n=t.substr(1);return{setup:function(o,r){A(this)||e.data(this,i,{}),e.data(this,i)[t]=!0,l[t]=(l[t]||0)+1,1===l[t]&&v.bind(n,I),e(this).bind(n,B),f&&(l.touchstart=(l.touchstart||0)+1,1===l.touchstart&&(document.addEventListener("touchstart",P,L),document.addEventListener("touchend",R,L),document.addEventListener("touchmove",F,L),v.bind("scroll",D)))},teardown:function(o,r){--l[t],l[t]||v.unbind(n,I),f&&(--l.touchstart,l.touchstart||(document.removeEventListener("touchstart",P,L),document.removeEventListener("touchend",R,L),document.removeEventListener("touchmove",F,L),v.unbind("scroll",D)));var a=e(this),s=e.data(this,i);s&&(s[t]=!1),a.unbind(n,B),A(this)||a.removeData(i)}}}for(var z=0;z<o.length;z++)e.event.special[o[z]]=M(o[z]);f&&document.addEventListener("click",(function(i){var o,r,a,s,l,d=u.length,c=i.target;if(d)for(o=i.clientX,r=i.clientY,t=e.vmouse.clickDistanceThreshold,a=c;a;){for(s=0;s<d;s++)if(l=u[s],0,a===c&&Math.abs(l.x-o)<t&&Math.abs(l.y-r)<t||e.data(a,n)===l.touchID)return i.preventDefault(),void i.stopPropagation();a=a.parentNode}}),!0)}.apply(t,n))||(e.exports=o)},611:function(e,t,i){var n,o;n=[i(3),i(612),i(930)],void 0===(o=function(e,t,i){var n={inherit:function(t,i,n){var o=function(){};o.prototype=i.prototype,t.prototype=new o,t.prototype.constructor=t,t.prototype._super=i,n&&e.extend(t.prototype,n)},ensureArray:function(){var t=[],i=arguments.length;return i>0&&(t=i>1||!e.isArray(arguments[0])?e.map(arguments,(function(e){return e})):arguments[0]),t},scopedFind:function(t,i,n,o){var r=" "+n+" ",a=[],s=e(t).find(i),l=s.length;o=e(o)[0];for(var d=0;d<l;d++)for(var c=s[d],p=c;p;){if(p.className&&-1!==(" "+p.className+" ").indexOf(r)){p===o&&a.push(c);break}p=p.parentNode}return e(a)},getDocumentOffset:function(t){var i=0,n=0;if(t=e(t)[0]){var o=t.offsetParent;for(i=t.offsetLeft,n=t.offsetTop;t;)t===o&&(i+=t.offsetLeft,n+=t.offsetTop,o=t.offsetParent),i-=t.scrollLeft||0,n-=t.scrollTop||0,t=t.parentNode}return{left:i,top:n}},getAlignmentAdjustment:function(e,t,i){var n=0;switch(e){case"left":case"top":n=0;break;case"right":case"bottom":n=t-i;break;case"center":default:n=(t-i)/2}return n},positionElementAroundAnother:function(t,i,n){n=e.extend({position:"right",positionOffset:0,align:"center",alignOffset:0},n);var o=e(t),r=e(i),a=r.offsetParent();r.removeClass("above below left right");var s=o.offset(),l=o.outerWidth(),d=o.outerHeight(),c=a.offset(),p=r.outerWidth(),h=r.outerHeight(),u=n.positionOffset,g=n.align,m=n.alignOffset,f=s.left-c.left,v=s.top-c.top;switch(n.position){case"above":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v-h-u;break;case"below":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v+d+u;break;case"left":f=f-p-u,v=v+this.getAlignmentAdjustment(g,d,h)+m;break;case"right":default:f=f+l+u,v=v+this.getAlignmentAdjustment(g,d,h)+m}return{x:f,y:v}},positionElementInsideAnother:function(t,i,n,o){var r=e(t),a=e(i),s=a.offsetParent(),l=r.offset(),d=s.offset(),c=l.left-d.left,p=l.top-d.top;switch(n){case"left":case"center":case"right":n=c+this.getAlignmentAdjustment(n,r.outerWidth(),a.outerWidth());break;default:n=n||0}switch(o){case"top":case"center":case"bottom":o=p+this.getAlignmentAdjustment(o,r.outerHeight(),a.outerHeight());break;default:o=o||0}return{x:n,y:o}},calcTotalWidthOfObjects:function(t){var i=0;for(var n in t)i+=e(t[n]).outerWidth();return i},setElementTransform:function(t,n){e(t).css(i.vendorPrefix+"transform",n)},instantTransform:function(t,i,n){var o=e(t);o.addClass(n),this.setElementTransform(t,i),setTimeout((function(){o.removeClass(n)}),0)},parseQueryParams:function(e){var t=/([^\?#]+)?(\?([^#]*))?(#.*)?/.exec(e||""),i={};if(t&&t[3])for(var n=t[3].split("&"),o=0;o<n.length;o++){var r=(n[o]||"").split("=");i[decodeURIComponent(r[0]||"")]=decodeURIComponent(r[1]||"")}return i},serializeQueryParams:function(e){var t="";if(e)for(var i in e)t&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return t},setQueryParams:function(e,t){var i=this.serializeQueryParams(t);return i=(i?"?":"")+i,e.replace(/([^\?#]+)?(\?[^#]*)?(#.*)?/,"$1"+i+"$3")},setQueryParam:function(e,t,i){if(t){var n=this.parseQueryParams(e);return n[t]=i,this.setQueryParams(e,n)}return e}};return t.Utils=n,e.extend(t,n),n}.apply(t,n))||(e.exports=o)},612:function(e,t,i){var n;void 0===(n=function(){return{}}.apply(t,[]))||(e.exports=n)},613:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(56)],void 0===(o=function(e,t,i,n){"use strict";return i.View.extend({tagName:"ul",className:"panel-pane",collapsedClassName:"collapsed",collapseTime:250,events:{"click .pane-label":"_handleToggle"},initialize:function(e){e=e||{},this.name=e.name||"",this.$content=null},_handleToggle:function(e){this.$content.animate({height:"toggle"},this.collapseTime),this.$el.toggleClass(this.collapsedClassName)},isCollapsed:function(){return this.$el.hasClass(this.collapsedClassName)},add:function(){return this.$content.append.apply(this.$content,arguments),this},render:function(){return this.$el.html(n.render('<li><h3 class="pane-label">{{ name }}</h3><div class="pane-view"></div></li>',{name:this.name})),this.$content=this.$(".pane-view"),this}})}.apply(t,n))||(e.exports=o)},622:function(e,t){function i(e){if(!e)return"";var t=e.id||e.name;return t=r(t),o(e)?t:"custom-"+t}function n(e){return Boolean(e&&e.components)}function o(e){return!!e&&(!n(e)||!e.id)}function r(e){return(e||"").toLowerCase().replace(/[\s_]+/g,"-").replace(/[^\w\-]/g,"")}e.exports={getUniqueName:i,getCssClassName:function(e){var t=i(e);return t&&t+"-theme"},isCustomThemeFormat:n,isBuiltInTheme:o,convertToKebabCase:r}},655:function(e,t,i){"use strict";i.r(t);var n=i(23),o=i.n(n),r=i(20),a=i.n(r),s=i(1),l=i.n(s),d=i(8),c=i.n(d),p=i(7),h=i.n(p),u=i(4),g=i.n(u),m=i(10),f=i(390),v=i(656),b=i.n(v),w=(i(658),new b.a),k=new m.default({color:"rebeccapurple",name:"LMSController"}),x=g.a.sparkEduHost||null,y=l.a.defer(),S=new(function(){function e(){o()(this,e)}return a()(e,[{key:"init",value:function(){var e=this,t=new URLSearchParams(window.location.search),i=!(!t.get("ref")||"lms"!==t.get("ref").toLowerCase());i&&t.get("lms")&&t.get("lms").toLowerCase();h.a.requiresAuth().then((function(){c.a.allFeaturesLoaded().then((function(){f.default.getUdsValue("classroom_role").then((function(t){e._setUserLmsRole(t),"none"!==t&&i&&e._incrementVisitCount(),y.resolve()}))})).done()})).done()}},{key:"_reset",value:function(){y=l.a.defer()}},{key:"_setUserLmsRole",value:function(e){c.a.hasFeature("spark-lms-force-user-teacher")?c.a.setUserProperty("spark-lms-role","teacher"):c.a.hasFeature("spark-lms-force-user-student")?c.a.setUserProperty("spark-lms-role","student"):c.a.setUserProperty("spark-lms-role",e)}},{key:"_incrementVisitCount",value:function(){var e=c.a.getUserProperty("spark-lms-visit-count")+1||1;c.a.setUserProperty("spark-lms-visit-count",e)}},{key:"showModal",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.type,o=e.id,r=i.syncInProgress,a=void 0!==r&&r,s=null;n&&o?x?y.promise.then((function(){t.getAccountType().then((function(e){"student"===e&&(s="".concat(x,"/cc-spark-edu/modal/learner/turnin/").concat(n,"/").concat(o)),"teacher"===e&&(s="".concat(x,"/cc-spark-edu/modal/educator/attach/").concat(n,"/").concat(o),a?window.marvel.events.on("sync-stop",t.sendSaveCompleteMessage):setTimeout(t.sendSaveCompleteMessage,2e3)),w.setAndShowIframe({iframeSrc:s,role:e})})).done(),window.addEventListener("message",t._receiveMessage,!1)})).done():k.error("Error getting ccEduHost from Settings"):k.error("Must call LMSController.showModal with project data")}},{key:"sendSaveCompleteMessage",value:function(){w.getIframeEl().contentWindow.postMessage("save-success",x)}},{key:"sendSaveErrorMessage",value:function(){w.getIframeEl().contentWindow.postMessage("save-error",x)}},{key:"_receiveMessage",value:function(e){e.origin===x&&"close"===e.data&&(w.hideOverlay(),window.removeEventListener("message",this._receiveMessage))}},{key:"getAccountType",value:function(){return y.promise.then((function(){return c.a.getUserProperty("spark-lms-role")}))}},{key:"isLMSUser",value:function(){return y.promise.then((function(){return"none"!==c.a.getUserProperty("spark-lms-role")}))}},{key:"shouldShowNewBadge",value:function(){return y.promise.then((function(){return"none"!==c.a.getUserProperty("spark-lms-role")&&((c.a.getUserProperty("spark-lms-visit-count")||0)<=3||c.a.hasFeature("spark-lms-force-new-user"))}))}},{key:"getVisitCount",value:function(){return y.promise.then((function(){return c.a.getUserProperty("spark-lms-visit-count")||0}))}}]),e}());t.default=S},656:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(81),i(16),i(657)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";return o.extend({events:{},el:".lms-integration-dialog-overlay",getIframeEl:function(){return document.getElementById("lms-integration-iframe")},initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},setAndShowIframe:function(e){this.$el.addClass(e.role),this.showOverlay(),this.getIframeEl().setAttribute("src",e.iframeSrc)},render:function(){return this.$el.html(a.mustacheRender(s)),this}})}.apply(t,n))||(e.exports=o)},657:function(e,t){e.exports='<div class="mrvl-overlay-bg">\n</div>\n\n<div class="mrvl-overlay-shell">\n    <iframe id="lms-integration-iframe" src/>\n</div>\n'},658:function(e,t,i){var n=i(659);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},659:function(e,t,i){(e.exports=i(91)(!1)).push([e.i,"#lms-integration-iframe{height:100%;width:100%;border-radius:10px}.lms-integration-dialog-overlay.student .mrvl-overlay-shell{width:810px;height:455px}.lms-integration-dialog-overlay.teacher .mrvl-overlay-shell{width:440px;height:250px}",""])},660:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(26),i(606),i(174),i(4),i(695),i(699),i(700),i(709),i(711),i(30),i(713),i(715),i(717),i(718),i(719),i(723),i(566),i(535),i(577),i(260),i(9),i(676),i(175),i(46),i(724),i(558),i(16),i(87),i(728),i(8)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m,f,v,b,w,k,x,y,S,_,C,T,I,P,D,F,R,A,B){"use strict";var L=i.View.extend({collection:null,childViews:[],initialize:function(e){this._options=e||{},this._options.image_filter||(this._options.image_filter=[".jpg",".jpeg",".png","image/jpeg","image/png"]),this._options.imageFilter=new C(this._options.image_filter),this._handleDooploPick=this._handleDooploPick.bind(this),this._handleLightroomPick=this._handleLightroomPick.bind(this),this._handleLightroomImporterPick=this._handleLightroomImporterPick.bind(this),this._handleHierarchicalPick=this._handleHierarchicalPick.bind(this),this._handleAdobeStockPick=this._handleAdobeStockPick.bind(this),this.dropboxPickerDefer=n.defer(),this.googlePhotosPickerDefer=n.defer(),this.model=new w,this.model.on("change:label",function(e){var t=e.get("label");this.$el.find(".picker-bar .source-label").text(t)}.bind(this)),this._connectedApp=_.getProductName(),this._editorSection=window.marvel._siteSection.split(":")[1],this._pickerInstances=[],this.useLightTheme=!!e.useLightTheme,this._isBound||(this._isBound=!0,this._sparkAreaChange=this._sparkAreaChange.bind(this)),window.marvel.events.on("spark-area-change",this._sparkAreaChange)},render:function(){var e={},t=F.getLocale();e.adobeImageSearchInfoLink=R.getLocalizedURL("https://www.adobe.com/legal/permissions/image-notice.html",t),e.adobeImageSearchStockLink=R.getLocalizedURL("https://stock.adobe.com",t);var i=this.$el;i.html(F.mustacheRender(v,e)),i.find(".search-button").on("vclick",this._handleSearch.bind(this)),i.find(".dropbox-button").on("vclick",this._handleDropbox.bind(this)),i.find(".stock-search-button").on("vclick",this._handleStockSearch.bind(this)),i.find(".dropbox-logout").on("vclick",this._handleDropboxLogout.bind(this)),i.find(".google-photos-logout").on("vclick",this._handleGoogleLogout.bind(this)),i.find(".google-photos-button").on("vclick",this._handleGooglePhotos.bind(this)),i.find(".google-drive-button").on("vclick",this._handleGoogleDrive.bind(this)),this._useLightroomImporter()?i.find(".lightroom-button").on("vclick",this._handleLightroomImporter.bind(this)):i.find(".lightroom-button").on("vclick",this._handleLightroom.bind(this)),i.find(".cc-button").on("vclick",this._handleCC.bind(this)),i.find(".ccl-button").on("vclick",this._handleCCL.bind(this)),marvel.features.hasFeature("user-flag-has-user-clicked-ccl-image-picker")||i.find(".ccl-button .ccl-new-tag").removeClass("hide"),i.find(".picker-bar .close-button").on("vclick",this.hide.bind(this)),i.find("button.filter").on("vclick",this._handleFilterButton.bind(this)),i.find("button.sort").on("vclick",this._handleSortButton.bind(this)),i.find(".picker-bar .back-button").on("vclick",this._handlePickerBack.bind(this));var n=i.find(".local-file-input");return n.attr("accept",this._options.imageFilter.getAcceptAttributeString()),n.on("change",this._handleLocalFile.bind(this)).on("click",(function(e){e.stopPropagation()})),i.find(".local-file-button").on("vclick",(function(e){var t=i.find(".local-file-input");t&&t[0].click(),e.preventDefault()})),this.useLightTheme&&i.addClass("light-theme"),this.$(".local-file-button")[0].firstChild.textContent=F.formatMessage("imagepicker-upload-photo",{usePlural:!1}),this.home(),k.isAuthenticated()&&(i.find(".dropbox-connect").addClass("hide"),i.find(".dropbox-logout").addClass("authenticated")),x.isAuthenticated()&&(i.find(".google-photos-connect").addClass("hide"),i.find(".google-photos-logout").addClass("authenticated")),marvel.features.hasFeature("show-published-url-image-picker")&&(this._setupCopyUrl(),this._setupPickerProgress()),marvel.features.hasFeature("enable-image-picker-dnd")&&this._setupDragAndDrop(),this},jumpTo:function(e,t,i,n){n=n||{};var o,r=!0;"Dooplo"==e?o="vector"==this._options.assetType?"IconSearch":"Search":"Creative Cloud"==e?e=o="CC":"adobestock"==e.toLowerCase()?(e="AdobeStock",o="StockSearch",E(this._connectedApp)||(e="",o="",r=!1)):"Lightroom"===e&&this._useLightroomImporter()?(o="LightroomImporter",this.home()):"google drive"==e.toLowerCase()?r=!1:"googledrive"==e.toLowerCase()?(o=null,r=!1):o=e,"LightroomImporter"===o?this._setPickerToLightroomImporter():"StockSearch"===o?this._handleStockSearch(t||!1):this["_handle"+o]?this["_handle"+o](!1):(this.home(),r&&console.warn("Unknown image source! Context specifies "+o));this.model.get("picker");"Dooplo"==e?this.dooploPicker.show(t):"google drive"==e.toLowerCase()?this._handleGoogleDrive():"googledrive"==e.toLowerCase()?e=null:(t=t||"",e="GooglePhotos"===e?"googlePhotos":"googleDrive"==e?"googleDrive":"CC"===e?"creativeCloud":"AdobeStock"===e?"adobeStock":"LightroomImporter"===o?n.suppressServiceUI?null:"lightroomImporter":e.toLowerCase(),this._ensurePicker(e).then((function(e){e&&e.jumpTo&&e.jumpTo(t,i,n)})).done())},_ensurePicker:function(e){var t=e&&this[e+"Picker"],i=this[e+"PickerDefer"];return t?n(t):i?i.promise:n.reject("No picker found for "+e)},deselectAsset:function(){this.$(".results .selected").removeClass("selected")},_hideCurrentPicker:function(e){var t=this.$el.find(".sp-picker.showing");t.hasClass(e+"-picker")||(t.removeClass("showing"),t.hasClass("picker-home")&&t.addClass("leaving"))},_sparkAreaChange:function(e,t){"editor"===t.area.new?t.section.new===this._editorSection&&this._changingToMyEditor(t):"editor"===t.area.old&&t.section.old===this._editorSection&&this._changingFromMyEditor(t)},_changingToMyEditor:function(e){t.each(this._pickerInstances,(function(t){t.handleChangingToEditor(e)}))},_changingFromMyEditor:function(e){t.each(this._pickerInstances,(function(t){t.handleChangingFromEditor(e)}))},_saveNewPicker:function(e){this._pickerInstances.push(e)},setHomeLablesText:function(){var e,t=marvel.features.hasFeature("image-picker-singular-plural");e=this._options.homeLabel?this._options.homeLabel:F.formatMessage("imagepicker-add-photo",{usePlural:!t||this.model.get("multiSelect")}),this.model.set({label:e}),t&&(this.$(".local-file-button")[0].firstChild.textContent=F.formatMessage("imagepicker-upload-photo",{usePlural:this.model.get("multiSelect")}))},home:function(){if("vector"==this._options.assetType)return this._handleIconSearch(),void this.$(".back-button").remove();this.$el.find(".sp-picker.showing");this.$el.find(".picker-home").hasClass(".showing")||this._hideCurrentPicker(),this.$el.find(".picker-home").addClass("showing").removeClass("leaving"),this.$el.find(".picker-bar").addClass("home"),this.model.set(this.model.defaults),this.setHomeLablesText(),E(this._connectedApp)?this.$el.find(".stock-search-button-wrapper").removeClass("hide"):this.$el.find(".stock-search-button-wrapper").addClass("hide")},_enableGoogleDrive:function(){switch(this._editorSection){case"video":return marvel.features.hasFeature("google-drive-in-voice");case"post":return marvel.features.hasFeature("google-drive-in-theo");case"page":return marvel.features.hasFeature("google-drive-in-slate");default:return!1}},_shouldRenderCCLButton:function(){return"post"===this._editorSection},_shouldRenderCCButton:function(){return"post"!==this._editorSection},_handleSearch:function(){this._hideCurrentPicker("dooplo"),this.dooploPicker||(this.dooploPicker=new l(this.$el.find(".dooplo-picker"),this._handleDooploPick,this._options),this._saveNewPicker(this.dooploPicker)),this.model.set({picker:this.dooploPicker,label:F.getString("imagepicker-find-free-photos"),page:this.$el.find(".dooplo-picker"),source:"Dooplo"}),this.dooploPicker.show(),this.$el.find(".picker-bar").removeClass("home")},_handleIconSearch:function(){this._hideCurrentPicker("dooplo-icon"),this.dooploPicker||(this.dooploPicker=new l(this.$el.find(".dooplo-icon-picker"),this._handleDooploPick,this._options),this._saveNewPicker(this.dooploPicker)),this.model.set({picker:this.dooploPicker,label:F.getString("imagepicker-find-icon"),page:this.$el.find(".dooplo-icon-picker"),source:"Dooplo"}),this.dooploPicker.show()},_handleStockSearch:function(e){this._hideCurrentPicker("stock"),this.adobeStockPicker||(this.adobeStockPicker=new d(this.$el.find(".stock-picker"),this._handleAdobeStockPick,this._options),this._saveNewPicker(this.adobeStockPicker)),this.model.set({picker:this.adobeStockPicker,label:F.getString("imagepicker-source-adobe-stock"),page:this.$el.find(".stock-picker"),source:"AdobeStock"}),this.adobeStockPicker.show("string"==typeof e&&e||!1),this.$el.find(".picker-bar").removeClass("home")},_handleLocal:function(){this.$el.find(".sp-picker").removeClass("showing"),this.$el.find(".local-picker").addClass("showing")},_handleBeforeUnload:function(e){return!e.isAuthenticated()&&this._beforeUnload?this._beforeUnload():n.resolve()},_handleDropbox:function(e){this._handleBeforeUnload(k).then(function(){this._hideCurrentPicker("dropbox"),this.dropboxPicker||(this.dropboxPicker=new c(this.$el.find(".dropbox-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.dropboxPicker)),this.model.set({picker:this.dropboxPicker,label:F.getString("imagepicker-source-dropbox"),page:this.$el.find(".dropbox-picker"),source:"Dropbox"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.dropboxPicker.populate(),this.$el.find(".dropbox-picker").addClass("showing"),this.dropboxPickerDefer.resolve(this.dropboxPicker)}.bind(this)).done()},_handleGooglePhotos:function(e){this._handleBeforeUnload(x).then(function(){this._hideCurrentPicker("google-photos"),this.googlePhotosPicker||(this.googlePhotosPicker=new c(this.$el.find(".google-photos-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.googlePhotosPicker)),this.model.set({picker:this.googlePhotosPicker,label:F.getString("imagepicker-source-google-photos"),page:this.$el.find(".google-photos-picker"),source:"Google Photos"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.googlePhotosPicker.populate(),this.$el.find(".google-photos-picker").addClass("showing"),this.googlePhotosPickerDefer.resolve(this.googlePhotosPicker)}.bind(this)).done()},_handleGoogleDrive:function(e){var t,i,n=x.getAccessToken();t=function(){n.then(function(e){o.set("google-drive-token",e);var t=new google.picker.DocsView(google.picker.ViewId.DOCS_IMAGES);t.setIncludeFolders(!0).setParent("root").setMimeTypes("image/png,image/jpeg,image/jpg");var n=(new google.picker.PickerBuilder).setAppId(x.getAppId()).setOAuthToken(e).addView(t).setDeveloperKey(x.getApiKey()).setLocale(F.getGoogleLocale()).setCallback(i);marvel.features.hasFeature("google-drive-multi")&&this.model.get("multiSelect")?(this.googleDrivePickerMulti||(n.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),this.googleDrivePickerMulti=n.build()),this.googleDrivePicker=this.googleDrivePickerMulti):(this.googleDrivePickerSingle||(this.googleDrivePickerSingle=n.build()),this.googleDrivePicker=this.googleDrivePickerSingle),this.googleDrivePicker.setVisible(!0),this.model.set({picker:this.googleDrivePicker,page:this.$el.find(".google-drive-picker"),source:"GoogleDrive"})}.bind(this)).catch((function(e){marvel.logger.warn("[GoogleDrive] getAccessToken failed",e)}))}.bind(this),i=function(e){var t=e[google.picker.Response.ACTION];if(t==google.picker.Action.PICKED){var i=e[google.picker.Response.DOCUMENTS];this._handleGoogleDrivePick(i)}t!=google.picker.Action.PICKED&&t!=google.picker.Action.CANCEL||this.googleDrivePicker.setVisible(!1)}.bind(this),y.whenAvailable().then((function(){window.gapi.load("picker",{callback:t,onerror:function(e){marvel.logger.error("[GoogleDrive] error while loading Google API",e)},timeout:5e3,ontimeout:function(){marvel.logger.error("[GoogleDrive] timeout while loading Google API")}})}))},_handleLightroom:function(e){this._hideCurrentPicker("lightroom"),this.lightroomPicker||(this.lightroomPicker=new c(this.$el.find(".lightroom-picker"),this._handleLightroomPick,this),this._saveNewPicker(this.lightroomPicker)),this.model.set({picker:this.lightroomPicker,label:F.getString("imagepicker-source-lightroom"),page:this.$el.find(".lightroom-picker"),source:"Lightroom"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.lightroomPicker.populate(),this.$el.find(".lightroom-picker").addClass("showing")},_setPickerToLightroomImporter:function(){this.lightroomImporterPicker||(this.lightroomImporterPicker=new b(this.$el.find(".lightroom-importer-wrapper"),this._handleLightroomImporterPick,this),this._saveNewPicker(this.lightroomImporterPicker)),this.model.set({picker:this.lightroomImporterPicker,page:this.$el.find(".lightroom-importer-wrapper"),source:"Lightroom"})},_handleLightroomImporter:function(e){this._setPickerToLightroomImporter(),this.lightroomImporterPicker.show({multiSelect:this.model.get("multiSelect")})},_handleCC:function(e){this._hideCurrentPicker("creative-cloud"),this.creativeCloudPicker||(this.creativeCloudPicker=new c(this.$el.find(".creative-cloud-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.creativeCloudPicker)),this.model.set({picker:this.creativeCloudPicker,label:F.getString("imagepicker-source-creative-cloud"),page:this.$el.find(".creative-cloud-picker"),source:"Creative Cloud"}),this.$el.find(".picker-bar").removeClass("home"),e&&this.creativeCloudPicker.populate(),this.$el.find(".creative-cloud-picker").addClass("showing")},_handleCCL:function(e){marvel.features.hasFeature("user-flag-has-user-clicked-ccl-image-picker")||(this.$el.find(".ccl-button .ccl-new-tag").addClass("hide"),marvel.features.setUserFlag("user-flag-has-user-clicked-ccl-image-picker",!0)),this._hideCurrentPicker("creative-cloud-libraries"),this.creativeCloudLibrariesPicker||(this.creativeCloudLibrariesPicker=new c(this.$el.find(".creative-cloud-libraries-picker"),this._handleHierarchicalPick,this),this._saveNewPicker(this.creativeCloudLibrariesPicker)),this.model.set({picker:this.creativeCloudLibrariesPicker,label:F.getString("imagepicker-source-creative-cloud-libraries"),page:this.$el.find(".creative-cloud-libraries-picker"),source:"Creative Cloud Libraries"}),this.$el.find(".picker-bar").removeClass("home");var t=this.$el.find(".libraries-learn-more a");t&&t.attr("href",s.cclMarketingURL),e&&this.creativeCloudLibrariesPicker.populate(),this.$el.find(".no-library-assets").addClass("hide"),this.$el.find(".creative-cloud-libraries-picker").addClass("showing"),_.trackEvent("ccLibrarySourcePressed")},_handleDropboxLogout:function(e){var t=this.$el.find(".dropbox-logout"),i=this.$el.find(".dropbox-connect");marvel._dialogShowing||(this.dropboxLogoutConfirmView||(this.dropboxLogoutConfirmView=new g,this.dropboxLogoutConfirmView.on("confirm",(function(){k.logout(),t.removeClass("authenticated"),i.removeClass("hide")}))),this.dropboxLogoutConfirmView.showOverlay(),e.stopPropagation())},_handleGoogleLogout:function(e){var t=this.$el.find(".google-photos-logout"),i=this.$el.find(".google-photos-connect");marvel._dialogShowing||(this.googleLogoutConfirmView||(this.googleLogoutConfirmView=new m,this.googleLogoutConfirmView.on("confirm",(function(){x.logout(),t.removeClass("authenticated"),i.removeClass("hide")}))),this.googleLogoutConfirmView.showOverlay(),e.stopPropagation())},_handlePickerBack:function(){var e=this.model.get("picker");e&&e.canGoBack()?e.goBack():this.home()},_handleDooploPick:function(e){var t=[{source:"Dooplo",mimeType:e.getMimeType(),original:{link:e.getOriginalURL(),height:e.links.original.height,width:e.links.original.width},preview:{link:e.getPreviewURL(),height:e.links.preview.height,width:e.links.preview.width},thumbnail:{link:e.getThumbURL(),height:e.links.thumb.height,width:e.links.thumb.width}}],i=this.dooploPicker.getSearchText(),n=e.data.source.name;e.data.searchText=i,_.trackEvent("imageChosen",{imageSource:"dooplo:"+n,searchTerm:i,contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(t,e.data)},_handleAdobeStockPick:function(e){var t=[{source:"AdobeStock",mimeType:e.getMimeType(),original:{},preview:{link:e.getPreviewURL(),height:e.links.preview.height,width:e.links.preview.width},thumbnail:{link:e.getThumbURL(),height:e.links.thumb.height,width:e.links.thumb.width},licenseInfo:e.licenseInfo}],i=t[0].licenseInfo.license.short_name;e.setOriginalLinkFields(t[0].original);var n=this.adobeStockPicker.getSearchContext();e.licenseInfo.searchText=n,_.trackEvent("imageChosen",{imageSource:"AdobeStock",licenseType:i,searchTerm:n,contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(t,e.licenseInfo)},_handleHierarchicalPick:function(e,t,i){e.aspect&&(t=e.aspect.width||t,i=e.aspect.height||i);var n=this.model.get("source");if("Creative Cloud Libraries"!=n||window.marvel.features.hasFeature("is-paid-user")){var o=[{source:n,mimeType:e.getMimeType?e.getMimeType():"image/jpeg",original:{link:encodeURI(e.getOriginalURL()),height:e.links.original.height||i,width:e.links.original.width||t},preview:{link:encodeURI(e.getPreviewURL()),height:e.links.original.height||i,width:e.links.original.width||t},thumbnail:{link:encodeURI(e.getThumbURL()),height:e.links.original.height||i,width:e.links.original.width||t},caption:e.caption}];if("Dropbox"==n)_.trackEvent("imageChosen",{imageSource:"Dropbox",contextData:["projectId"]},this._connectedApp+":editor");else if("Creative Cloud"==this.model.get("source"))_.trackEvent("imageChosen",{imageSource:"Creative Cloud",contextData:["projectId"]},this._connectedApp+":editor");else if("Google Photos"==n)_.trackEvent("imageChosen",{imageSource:"Google Photos",contextData:["projectId"]},this._connectedApp+":editor");else if("Creative Cloud Libraries"==n){var r=e.isShared?"shared":"personal";_.trackEvent("imageChosen",{imageSource:"CCLibrary",contextualdata15:"cclType:"+r,sparkFormat:this._connectedApp,contextData:["projectId"]},this._connectedApp+":editor")}var a=this.model.get("picker"),s=e.getParentPath(),l=a.getCurrentFolderPath();l&&(s=s.replace(l.toLowerCase(),l));var d={path:s,thumbNaturalSize:e.thumbNaturalSize};e.data.path_lower&&(d.assetID=e.data.path_lower),"Google Photos"==n?(d.albumId=a.getCurrentFolderUrl().replace(/^.*albumid\/([^\/\?\#]*).*$/,"$1"),d.albumName=l.replace(/^\//,"")):"Creative Cloud Libraries"==n&&(d.albumId=e.parentLibraryId,d.albumName=e.parentFolderName,d.title=e.data.name,d.assetID=e.data.id,d.created_date=e.data.created_date,d.modified_date=e.data.modified_date,d.source={name:n},d.context={href:o[0].original.link}),this._userURLHandler&&this._userURLHandler(o,d)}else window.marvel.events.trigger("ccl-editor-use-assets")},_handleGoogleDrivePick:function(e){var i=window.location.protocol+"//"+window.location.host+"/images/google/drive-icon-mono-512.png?t="+t.now(),n=[];t.each(e,(function(e){var t={source:"Google Drive",mimeType:e.mimeType,original:{link:encodeURI("https://www.googleapis.com/drive/v2/files/"+e.id+"?alt=media")},preview:{link:encodeURI("https://"+window.location.host+"/gd_files/drive/v2/files/"+e.id+"?alt=media")},thumbnail:{link:encodeURI(i)},caption:e.description};n.push(t)})),_.trackEvent("imageChosen",{imageSource:"Google Drive",contextData:["projectId"]},this._connectedApp+":editor"),this._userURLHandler&&this._userURLHandler(n,{path:encodeURI("https://"+window.location.host+"/gd_files/drive/v2/files/"+e[0].id+"?alt=media"),albumId:"",albumName:"",assetID:e[0].id,thumbNaturalSize:{width:0,height:0}})},_handleLightroomPick:function(e){var t,i=[{source:"Lightroom",mimeType:e.getMimeType(),original:{link:encodeURI(e.getOriginalURL()),height:e.links.original.height,width:e.links.original.width},preview:{link:encodeURI(e.getPreviewURL()),height:e.links.original.height,width:e.links.original.width},thumbnail:{link:encodeURI(e.getThumbURL()),height:e.links.original.height,width:e.links.original.width},caption:e.caption}];_.trackEvent("imageChosen",{imageSource:"Lightroom",contextData:["projectId"]},this._connectedApp+":editor");var n=this.model.get("picker").getLastCrumb();this._userURLHandler&&(n&&n.label?t={albumName:n.label}:n&&n.item&&n.item.data&&(t={albumName:n.item.data.name}),t.thumbNaturalSize=e.thumbNaturalSize,this._userURLHandler(i,t))},_handleLightroomImporterPick:function(e){var t,i=[],n=[];for(t=0;t<e.length;t++){var o=e[t],r={source:"Lightroom",mimeType:o.getMimeType(),original:{link:encodeURI(o.getOriginalURL()),height:o.links.original.height,width:o.links.original.width},preview:{link:encodeURI(o.getPreviewURL()),height:o.links.original.height,width:o.links.original.width},thumbnail:{link:encodeURI(o.getThumbURL()),height:o.links.original.height,width:o.links.original.width},caption:o.caption,largeRenditionRequest:o.largeRenditionRequest};i.push(r),n.push({albumName:o.albumName})}_.trackEvent("imageChosen",{imageSource:"Lightroom",contextData:["projectId"]},this._connectedApp+":editor"),this._useLightroomImporter()&&this._userURLHandler&&this._userURLHandler(i,n)},_handleLocalFile:function(t){var i=t.target.files;_.trackEvent("imageChosen",{imageSource:"Local File",contextData:["projectId"]},this._connectedApp+":editor");var n=e(t.target).clone();e(t.target).replaceWith(n),n.val("").on("change",this._handleLocalFile.bind(this)).on("click",(function(e){e.stopPropagation()})),this._userLocalHandler&&this._userLocalHandler(i)},_setupDragAndDrop:function(){this._userLocalHandler&&(this._dropTarget$=this.$el.find(".photo-picker"),this.$el.find(".drag-and-drop-explainer-holder").removeClass("hide"),this._dropTarget$.on("drag dragstart dragend dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})),this._dropTarget$.on("dragenter dragover",function(e){"dragover"===e.originalEvent.type&&(e.originalEvent.dataTransfer.dropEffect="copy"),this._dropTarget$.addClass("dragover-target"),e.preventDefault(),e.stopPropagation()}.bind(this)),this._dropTarget$.on("dragleave dragend drop",function(e){this._dropTarget$.removeClass("dragover-target")}.bind(this)),this._dropTarget$.on("drop",this._handleDrop.bind(this)),this._applyOptionsToDnD())},_handleDrop:function(e){e.preventDefault(),e.stopPropagation();var i=[],n=this.model.get("multiSelect"),o=this._options.image_filter,r=e.originalEvent.target.files||e.originalEvent.dataTransfer.files;if(r&&r.length)if(n)i=t.filter(r,(function(e){return o.indexOf(e.type)>-1}));else{var a=t.find(r,(function(e){return o.indexOf(e.type)>-1}));a&&i.push(a)}else if(marvel.features.hasFeature("show-published-url-image-picker")){var s=e.originalEvent.dataTransfer&&(e.originalEvent.dataTransfer.getData("URL")||e.originalEvent.dataTransfer.getData("text"));if(s)return void this._handleCopyUrl(s,"dnd")}if(i.length)if(n&&i.length!==r.length){var l=F.formatMessage("imagepicker-drop-confirm-message",{validCount:i.length,totalCount:r.length,supportedType:this._fileTypesString});u.showConfirm(F.getString("imagepicker-copy-url-alert-title"),l,{okText:F.getString("imagepicker-drop-confirm-button-ok"),cancelText:F.getString("imagepicker-drop-confirm-button-cancel")}).then(function(e){e&&this._userLocalHandler(i)}.bind(this))}else this._userLocalHandler(i);else{var d=F.formatMessage("imagepicker-drop-confirm-message-invalid",{supportedType:this._fileTypesString});u.showAlert(F.getString("imagepicker-copy-url-alert-title"),d).done()}_.trackEvent("imageChosen",{imageSource:"Local File DnD",contextData:["projectId"],numFiles:i.length},this._connectedApp+":editor")},_applyOptionsToDnD:function(){var e=[];t.each(this._options.image_filter,(function(t){"."===t.charAt(0)?t=t.substring(1):0===t.indexOf("image/")&&(t=t.substring(6)),-1===e.indexOf(t)&&e.push(t)})),this._fileTypesString=e.join(", "),this.model.get("multiSelect")?this.$el.find(".drag-and-drop-explainer-holder").addClass("multiSelect"):this.$el.find(".drag-and-drop-explainer-holder").removeClass("multiSelect")},remove:function(){return this.$el.empty(),this._changingFromMyEditor(),window.marvel.events.off("spark-area-change",this._sparkAreaChange),this},show:function(e){e=e||{},this.model.set("multiSelect",e.multiSelect);var t="vector"==this._options.assetType,i=t?".dooplo-icon-picker":".picker-home";this.isShowing()||window.setTimeout(function(){if(!this.isShowing()){var n=this.$el;n.find(".photo-picker").addClass("showing"),n.find(".sp-picker").removeClass("showing"),n.find(i).addClass("showing"),n.find(".results .selected").removeClass("selected"),marvel.features.hasFeature("google-photos")&&n.find(".google-photos-button-wrapper").removeClass("hide"),this._enableGoogleDrive()&&(y.init(),n.find(".google-drive-button-wrapper").removeClass("hide")),this._shouldRenderCCLButton()&&(n.find(".ccl-button-wrapper").removeClass("hide"),n.find(".picker-bar .right-shared-icon").addClass("hide")),this._shouldRenderCCButton()&&n.find(".cc-button-wrapper").removeClass("hide");var o=e.context;o&&-1==o.class_name.search(/OnDevice|Camera/)?(n.addClass("no-animate"),n.find(".picker-home").removeClass("showing"),setTimeout((function(){n.removeClass("no-animate")}),0),this.jumpTo(o.class_name.replace(/ImagePickerContext$/,""),o.album_id||o.path||o.search_string||o.album_name,o.album_name,e)):(this.$el.find(".picker-bar").addClass("home"),t||this.setHomeLablesText())}}.bind(this),0);var n=this.$el.find(".local-file-input");e.multiSelect?n.attr("multiple","multiple"):n.removeAttr("multiple"),marvel.features.hasFeature("enable-image-picker-dnd")&&this._dropTarget$&&this._applyOptionsToDnD();var o=[];s.ignoreDooploSourceTypes||this._options.dooploSourceTypes&&this._options.dooploSourceTypes.length>0&&(o=this._options.dooploSourceTypes);var r=a.getProfile();r&&(r.filterDooploBitmapServicesForUser(o,this._connectedApp).enabled.length?(this._dooploEnabled=!0,this.$el.find(".search-button").removeClass("hide")):(this._dooploEnabled=!1,this.$el.find(".search-button").addClass("hide")));return this},hide:function(){return this.$el.find(".photo-picker").removeClass("showing"),this._pickerProgress$&&this._hidePickerProgressForPickerClose(),this.lightroomImporterPicker&&this.lightroomImporterPicker.hide(),this.trigger("hide"),this},isShowing:function(){return this.$el.find(".photo-picker").hasClass("showing")},setCallbacks:function(e,t){this._userURLHandler=e,this._userLocalHandler=t},setBeforeUnload:function(e){this._beforeUnload=e},canReloadPage:function(){var e={okToReload:!0};return this.trigger("wantPageReload",e),e.okToReload},getImageFilter:function(){return this._options.imageFilter},requestFileSelect:function(){this.isShowing()&&this.$el.find(".local-file-input").click()},_handleFilterButton:function(){var e=this.model.get("picker").getFilter();marvel._dialogShowing||(this._filterDialogView||(this._filterDialogView=new p({filter:e}),this._filterDialogView.model.on("change:filter",this._handleSetFilter.bind(this))),this._filterDialogView.showOverlay())},_handleSortButton:function(){var e=this.model.get("picker").getSort();marvel._dialogShowing||(this._sortDialogView||(this._sortDialogView=new h({sort:e}),this._sortDialogView.model.on("change:sort",this._handleSetSort.bind(this))),this._sortDialogView.showOverlay())},_handleSetFilter:function(){var e=this.model.get("picker");e.setFilter(this._filterDialogView.model.get("filter")),e.refresh()},_handleSetSort:function(){var e=this.model.get("picker");e.setSort(this._sortDialogView.model.get("sort")),e.refresh()},_useLightroomImporter:function(){return marvel.features.hasFeature("lightroom-importer")&&this._options&&this._options.lightroomImporter},_parsePastedUrl:function(e,i){var n={},o=I.parse(e,!0);if(o.protocol&&"https:"!==o.protocol?n.errorAlertString=F.getString("imagepicker-parsed-url-error-https"):o.hostname&&(-1!=o.hostname.search(/\.adobe\.io$/)?-1!=o.pathname.search(/.*\/rendition\/.*\/format\/|\/assets\//)&&(n.renditionUrl=e):-1!=o.hostname.search(/\.adobeprojectm\.com$|\.adobe\.com$/)?o.query.asset_id&&(n.renditionUrl=e):-1!=o.hostname.search(/\.adobecc\.com$/)?"/api"===o.pathname?n.renditionUrl=e:n.errorAlertString=F.getString("imagepicker-parsed-url-error-adobecc"):"photos.google.com"===o.hostname?this._errorStrForDisallowedGoogleCopyUrl?n.errorAlertString=this._errorStrForDisallowedGoogleCopyUrl:-1==o.pathname.search(/.*\/photo\//)?n.errorAlertString=F.getString("imagepicker-parsed-url-error-google-photo-single"):n.errorAlertString="dnd"===i?F.getString("imagepicker-parsed-url-error-google-photo-dnd"):F.getString("imagepicker-parsed-url-error-google-photo"):-1!=o.hostname.search(/\.googleusercontent\.com$/)?this._errorStrForDisallowedGoogleCopyUrl?n.errorAlertString=this._errorStrForDisallowedGoogleCopyUrl:n.renditionUrl=e:-1!=o.hostname.search(/\.fbcdn\.net$/)?this._errorStrForDisallowedFacebookCopyUrl?n.errorAlertString=this._errorStrForDisallowedFacebookCopyUrl:n.renditionUrl=e:-1!=o.hostname.search(/\.facebook\.com$/)&&(this._errorStrForDisallowedFacebookCopyUrl?n.errorAlertString=this._errorStrForDisallowedFacebookCopyUrl:"/photo.php"!==o.pathname?n.errorAlertString=F.getString("imagepicker-parsed-url-error-facebook-single"):n.errorAlertString="dnd"===i?F.getString("imagepicker-parsed-url-error-facebook-dnd"):F.getString("imagepicker-parsed-url-error-facebook"))),!n.renditionUrl&&!n.errorAlertString){var r=o.pathname.split("/"),a=r.length-1,s="",l=marvel.settings.umbrellaCommunity;n.alias=t.findLast(r,(function(e){if(""!==e)return!0;a--})),n.alias&&(a&&"assets"===(s=r[a-1])&&a>1&&(s=r[a-2]),"lrgallery"===s&&(l=s),n.metaDataUrl="https://"+marvel.settings.cps+"/api/v2/"+l+"/assets/"+n.alias)}return n},_setupPickerProgress:function(){this._pickerProgress$=this.$el.find(".picker-progress"),this._pickerProgressContent$=this._pickerProgress$.find(".content")},_showPickerProgress:function(e,t){this.$el.find(".picker-wrapper").addClass("hide"),this._pickerProgress$.removeClass("hide"),this._pickerProgressContent$.text(e||""),this._pickerProgressCancelledCallback=t},_hidePickerProgress:function(){this.$el.find(".picker-wrapper").removeClass("hide"),this._pickerProgress$.addClass("hide"),delete this._pickerProgressCancelledCallback},_hidePickerProgressForPickerClose:function(){this._pickerProgressCancelledCallback&&this._pickerProgressCancelledCallback(),this._hidePickerProgress()},_handleCopyUrlButton:function(e){this._handleCopyUrl(this.copyUrlInput$.val(),"field")},_handleCopyUrl:function(t,i){var o,r=this._parsePastedUrl(t,i),a=n.defer(),s=!1;r.metaDataUrl?(this._showPickerProgress(F.formatMessage("imagepicker-copy-url-processing-uri",{projectUri:t}),(function(){s=!0})),e.ajax({url:r.metaDataUrl,type:"GET",headers:{"X-Api-Key":marvel.settings.cpkey},success:function(e,t,i){a.resolve(e)},error:function(e){o=404===e.status?F.formatMessage("imagepicker-copy-url-error-not-found",{projectUri:t}):F.formatMessage("imagepicker-copy-url-error-load",{projectUri:t}),u.showAlert(F.getString("imagepicker-copy-url-alert-title"),o).then((function(){a.reject(e)}))}})):r.renditionUrl?(this._showPickerProgress(F.formatMessage("imagepicker-copy-url-processing"),(function(){s=!0})),a.resolve(r)):r.errorAlertString?u.showAlert(F.getString("imagepicker-copy-url-alert-title"),r.errorAlertString).then((function(){a.reject(new Error("ImagePickerView::errorAlertString"))})):(o=F.formatMessage("imagepicker-copy-url-error-url",{projectUri:t}),u.showAlert(F.getString("imagepicker-copy-url-alert-title"),o).then((function(){a.reject(new Error("ImagePickerView::_handleCopyUrlButton"))}))),a.promise.then(function(e){if(this.isShowing()&&!s){var t;if(e.renditionUrl)t=e.renditionUrl;else{var i=0;e.category&&("lucas"===e.category.id?i=1440:"voices"===e.category.id?i=1280:"theos"===e.category.id&&(i=1600)),t=e._links.rendition.href.replace("{format}","jpg").replace("{dimension}","width").replace("{size}",i)}T.convertUrlToBlob(t).then(function(e){s||(this._hidePickerProgress(),this._userLocalHandler([e]))}.bind(this),function(e){s||(this._hidePickerProgress(),u.showAlert(F.getString("imagepicker-copy-url-alert-title"),F.getString("imagepicker-copy-url-processing-error")).done())}.bind(this)).done()}}.bind(this),function(e){s||this._hidePickerProgress()}.bind(this)).done()},_setupCopyUrl:function(){if(this._userLocalHandler){var t=this.$el.find(".copy-url-wrapper"),i=t.find(".copy-url-button");this.copyUrlInput$=t.find(".copy-url-input"),this.copyUrlInput$.on("keydown",function(e){13===e.keyCode&&this._handleCopyUrlButton(e)}.bind(this)),this.copyUrlProgress$=this.$el.find(".copy-url-progress"),i.on("click",function(e){this._handleCopyUrlButton(e)}.bind(this)),this.copyUrlInput$.on("click",(function(t){e(this).select()})),t.removeClass("hide"),marvel.features.hasFeature("show-published-url-image-picker-allow-facebook")||(this._errorStrForDisallowedFacebookCopyUrl=F.getString("imagepicker-copy-url-error-facebook")),marvel.features.hasFeature("show-published-url-image-picker-allow-google")||(this._errorStrForDisallowedGoogleCopyUrl=F.getString("imagepicker-copy-url-error-google"))}}});function E(e){return a.getProfile()?a.getProfile().canShowNonDooploImageSourceForUser("stock",e):null}return L.getStockAssetDetailUrl=function(e){return S.getStockAssetDetailsUrl(e.image_id)},L.licenseStockAsset=function(e){console.log("Called licenseStockAsset for id "+e.image_id);var i=n.defer(),o={};return u.showWaitView(F.getString("imagepicker-stock-retrieving-wait"),"",{minHeight:f.getMinHeightForConfirms()}),S.getLicensesAvailable().then((function(i){return t.assign(o,{"licenses-available":i.numLicenses,purchase_url:i.purchaseUrl,referToStockSite:i.requiresCheckout,notAllowedToPurchase:i.notAllowedToPurchase,purchaseMessage:i.purchaseMessage}),S.getItemInfo(e.image_id)})).then((function(e){o.creator_name=e.creator_name,o.image_title=e.title,o.details_url=e.details_url,o.license_type=e.is_licensed,o.premium_level_id=e.premium_level_id,o.image_id=e.id,(new f).showLicensingFlow(o).then(function(t){t.info=d.licenseInfoFromData(e,t.licenseType),i.resolve(t)}.bind(this),(function(e,t){"cancel"!==e?(marvel.logger.error("showLicensingFlow failed",e),i.reject("licensing failed",t)):i.reject("licensing cancelled")}))})).fail((function(e){u.showAlert(F.getString("imagepicker-stock-retrieving-error"),F.getString("imagepicker-stock-retrieving-error-desc")),marvel.logger.error("licensing failed",e),i.reject("not licensed",e)})),i.promise},L.getStockLicenseInfo=function(e){return S.getItemInfo(e)},L.isLicenseForStock=function(e){return["royalty_free","royalty_free_standard","royalty_free_extended"].indexOf(e.type)>-1},L.updateAttributeViewForLicensing=function(e){var t=e.attributionDialog;if(t.$el.hasClass("auto-height")||(t.$el.addClass("auto-height"),L.isLicenseForStock(e.licenseInfo)||t.contentModified()),e.licenseInfo&&"unsplash"===e.licenseInfo.type){var i=t.$el.find(".license_type");if(i.length){P.licenseTypeMap.unsplash;i.text(F.getString("imagepicker-unsplash-license"))}}if(!L.isLicenseForStock(e.licenseInfo))return!1;var n=t.$el.find(".original_source"),o=t.$el.find(".license_wrapper"),r=e.licenseInfo,a={image_id:r.image_id};return t.licenseHandlerObjects||(t.licenseHandlerObjects={}),t.on("cancel",(function(){this.licenseHandlerObjects&&(this.licenseHandlerObjects.$buttonWrapper&&this.licenseHandlerObjects.$buttonWrapper.off("click"),this.licenseHandlerObjects.$originalSource.off("click"),this.licenseHandlerObjects=null)})),o.removeClass("hide"),t.$el.find(".copyright_info").addClass("hide"),"royalty_free"===r.type?(o.find(".license_photo_button").on("click",function(){var t={image_id:r.image_id,owner:r.owner,photo_name:r.photo_name,source_name:r.source_name,license_type:r.type};e.licensingCallback&&e.licensingCallback("licensing"),L.licenseStockAsset(t).then((function(t){e.licensingCallback("licensed",t)}),(function(t){e.licensingCallback("licensing-rejected",t)}))}.bind(this)).removeClass("hide"),t.licenseHandlerObjects.$buttonWrapper=o):o.find(".license_photo_button").addClass("hide"),n.addClass("disabled"),n.on("click",function(e){if(n.hasClass("disabled"))e.preventDefault();else{n.addClass("disabled");var t={image_id:r.image_id};L.getStockAssetDetailUrl(t).then((function(e){n.attr("href",e),n.removeClass("disabled")})).done()}}.bind(this)),L.getStockAssetDetailUrl(a).then((function(e){n.attr("href",e).removeClass("disabled")})).done(),t.licenseHandlerObjects.$originalSource=n,e.ignoreContentModified||t.contentModified(),!0},L.displayAttributionDialog=function(t,i){var o,r,a=i.editorEl$.find(".attribution-dialog-overlay");if(a.length?r=a.data("attribution-dialog-overlay"):(a=e('<div class="attribution-dialog-overlay hide"></div>'),i.editorEl$.append(a)),marvel._dialogShowing&&(!r||!r.isShowing()))return n.reject("other dialog already showing");var s=n.defer();if(r&&r.$el.parent().length||(r=new P({el:a}),a.data("attribution-dialog-overlay",r),a.addClass(i.appSpecificClass||"generic")),i.calcLocationFromIcon){var l=i.icon$[0].getBoundingClientRect(),d=l.top-i.editorEl$.offset().top;o={x:l.left+l.width/2,y:d+l.height/2,left:l.left,top:d,width:l.width,height:l.height}}else o=i.location;var c={location:o,updateAttributeViewForLicensing:L.updateAttributeViewForLicensing,info:t,options:i,imagePickerView:this};return r.showOverlayWithData(c,s),s.promise},L.getServiceSource=function(e){var t=e.source.toLowerCase();return"creative cloud"===t?t="cc":"creative cloud libraries"===t?t="ccl":"adobe stock"===t&&(t="AdobeStock"),t},L}.apply(t,n))||(e.exports=o)},661:function(e,t,i){"use strict";i.r(t);var n={show:function(e){var t=this;Promise.all([Promise.all([i.e("m-react-spectrum"),i.e(2),i.e(3),i.e("vendors~brandswitcher~ccx-share-sheet~missingfontsmodal~non-editor-search-react~react-personalizer"),i.e("brandswitcher")]).then(i.bind(null,761)),Promise.all([i.e("m-react-spectrum"),i.e(2),i.e(3),i.e("vendors~brand-kit-controller~brand-kit-editor~logged-in-app~react~search-controller~slate-app-ac-theme-editor"),i.e("react")]).then(i.bind(null,494))]).then((function(i){var n=i[0],o=i[1].default,r=document.getElementById("brand-switcher");if(!r){var a=document.body;(r=document.createElement("div")).id="brand-switcher",r.className="spectrum--light",a.appendChild(r)}var s=n.default,l=o.wrapComponent(s);t.brandSwitcherInstance=new l({modelJSON:{onSelect:function(i){e.onSelect(i),t.brandSwitcherInstance.remove()},onCreateButtonClick:function(){e.onCreateButtonClick()},onCancel:function(){e.onCancel(),t.brandSwitcherInstance.remove()},activeBrand:e.activeBrand},el:r}),t.brandSwitcherInstance.render()}))},hide:function(){this.brandSwitcherInstance.remove()}};t.default=n},675:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2),i(16),i(261),i(4)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s=r.LibraryImageLinksModel;function l(){this.result=null,this._reachedEnd=!1,this.collection=new n.Collection,this.collection.model=s,this._lastOpts=null}function d(e,t){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this._items=[],this._modelAttrs=[],this.filter=t,this._parseData()}function c(e){if(!e)throw new Error("Argument Error: Required data parameter must be non-null");this.data=e,this.links={},this._parseData()}return l.apiHost="https://"+(a.dooplo||"cc-api-dooplo.adobe.io"),l.searchPath="/api/v1/assets/search",l.infoPath="/api/v1/assets/",l.apiKey=a.cpkey,l.SOURCE_CREDIT_INFOS={flickr:{hoverName:"Flickr",sourcesName:"Flickr",link:"https://www.flickr.com/",creditOrderIndex:1},pixabay:{hoverName:"Pixabay",sourcesName:"Pixabay",link:o.getLocalizedPixabayURL("https://pixabay.com/"),creditOrderIndex:2},unsplash:{hoverName:"Unsplash",sourcesName:"Unsplash",link:"https://unsplash.com/",creditOrderIndex:0},bing:{hoverName:"Bing",sourcesName:"Bing",link:"http://bing.com/images/",creditOrderIndex:4},"the noun project":{hoverName:"",sourcesName:"The Noun Project",link:"https://thenounproject.com/",creditOrderIndex:3}},t.extend(l.prototype,{_shouldWeTranslateSearchRequest:function(e){if(!window.marvel.SearchController)return marvel.logger.error("[Dooplo-Request] search-controller undefined in dooplo search"),!1;if("The Noun Project"===e.source[0]&&1===e.page&&e.query.trim().length,marvel.features.hasFeature("use-translation-service-for-icon-search")){if("en"===o.getLocale().split("-")[0])if(!!marvel.features.hasFeature("icon-search-translation-specify-from-locale")||!marvel.features.hasFeature("icon-search-translation-guess-for-english"))return!1;return!0}return!1},search:function(i){var n;if(i.translation)t.isUndefined(i.translation.err)?(n=i.translation,(i=t.cloneDeep(i.originalOptions)).query=n.translatedText,this._lastTranslation=n):i=i.originalOptions;else if(this._shouldWeTranslateSearchRequest(i)){if(!this._lastTranslation||this._lastTranslation.translatedText!==i.query)return void this._getTranslatedSearchString(i).then(function(e){this.search({translation:e,originalOptions:i})}.bind(this),function(e){this.search({translation:{err:e},originalOptions:i})}.bind(this));n=this._lastTranslation}this.result=null;var o=this._getParams({query:"landscape",page:i.startPage||1,size:25,asset_type:"image",image_filter:[],source:[]},i),r=i.success,a=i.error;function s(e){var t=e.links.original.type;return i.imageFilter.includesType(t)||i.imageFilter.includesExtensionOnly(t)}var c=l.apiHost+l.searchPath;return this._lastOpts=t.extend({},o,i),e.ajax({url:c,data:o,dataType:"json",traditional:!0}).done(function(e,n,l){var c=null;if(!e||t.isEmpty(e))c=new Error("No data received");else if(e.error_code)c=new Error(e.message);else try{var p=null;"image"===o.asset_type&&(p=s),this.result=new d(e,p&&p.bind(this)),this.result.getLength()?i.add?this.collection.set(this.result._modelAttrs,{add:!0}):this.collection.reset(this.result._modelAttrs):this._reachedEnd=!0}catch(e){c=e}c?a&&a(l,"error",c):r&&r(this.result,n,l)}.bind(this)).fail(a)},_getTranslatedSearchString:function(e){var t={textToTranslate:e.query};return marvel.features.hasFeature("icon-search-translation-specify-from-locale")?t.translationType="currentToUs":(t.translationType="guessToUs",t.guessIfUs=marvel.features.hasFeature("icon-search-translation-guess-for-english")),window.marvel.SearchController.getTranslatedSearchString(t)},searchNextSet:function(e){return this._lastOpts&&this._lastOpts.page++,e=t.extend({add:!0},this._lastOpts,e),this.search(e)},reachedEnd:function(){return this._reachedEnd},_getParams:function(e,i){var n={api_key:l.apiKey};if(e=t.extend(n,e),i){var o=[];for(var r in e)o.push(r);o.unshift(i);var a=t.pick.apply(t,o);e=t.extend(e,a)}return e},getLength:function(){return this.collection.length},at:function(e){return this.collection.at(e)}}),l.getAssetInfo=function(t){var n=l.apiHost+l.infoPath+t,o=i.defer();return e.ajax({method:"GET",url:n,data:{api_key:l.apiKey},dataType:"json",success:function(e,t,i){o.resolve(e)},error:function(e,t,i){marvel.logger.error("dooplo getAssetInfo error:",{err:i,status:t,responseText:e.responseText,url:n}),o.reject(new Error("DooploRequest::getAssetInfo"))}}).done(),o.promise},t.extend(d.prototype,{_parseData:function(){for(var e=this.data._embedded.assets,t=0,i=e.length;t<i;t++){var n=e[t],o=new c(n);if(!this.filter||this.filter(o)){var r=o.getThumbURL(),a=o.getPreviewURL(),s=o.getOriginalURL();this._items.push(o),this._modelAttrs.push({source_id:n.id,title:n.title,mimeType:o.getMimeType(),image_url:s||a||r,preview_url:a||s||r,thumb_url:r||a||s})}}},getLength:function(){return this._items.length},at:function(e){return this._items[e]}}),t.extend(c.prototype,{_parseData:function(){for(var e=this.data._links.rendition,t=0,i=e.length;t<i;t++){var n=e[t];this.links[n.name]=n}},getOriginalURL:function(){return this._sanitizeURL(this.links.original.href)},getPreviewURL:function(){return this._sanitizeURL(this.links.preview.href)},getThumbURL:function(){return this._sanitizeURL(this.links.thumb.href)},getMimeType:function(){return this.links.original.type},_sanitizeURL:function(e){return 0===e.indexOf(l.apiHost)&&(e=this._addAPIKeyToURL(e)),e},_addAPIKeyToURL:function(e){var t="?";return-1!==e.indexOf("?")&&(t="&"),e+t+"api_key="+l.apiKey},getAspect:function(){return{width:this.links.thumb.width,height:this.links.thumb.height}},getThumbHoverLabel:function(){if("vector"===this.data.asset_type)return"";var e=this.data.source.name.toLowerCase(),t=l.SOURCE_CREDIT_INFOS[e];return this.data.license&&this.data.license.attribution_name?o.getString("attribution-label-by")+" "+this.data.license.attribution_name:t?t.hoverName||"":(marvel.logger.error("dooplo-request: unknown image source type for thumb hover label:"+this.data.source.name,this),"")}}),l}.apply(t,n))||(e.exports=o)},676:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521)],void 0===(o=function(e,t,i,n){"use strict";function o(e){this.formatArr=e,this.types=t.filter(e,(function(e){return e.indexOf("/")>-1})),this.extensionsWithDot=[],this.extensionsWithoutDot=[],t.each(e,function(e){var i;e.indexOf("/")>-1||(i=t.startsWith(e,".")?e.replace(/^\./,""):e,this.extensionsWithoutDot.push(i),this.extensionsWithDot.push("."+i))}.bind(this))}return t.extend(o.prototype,{includesType:function(e){return this.types.indexOf(e)>=0},includesExtensionOnly:function(e){return this.extensionsWithoutDot.indexOf(e)>=0},includesExtension:function(e){return t.some(this.extensionsWithDot,(function(i){return t.endsWith(e,i)}))},getAcceptAttributeString:function(){return this.extensionsWithDot.concat(this.types).join(",")}}),o}.apply(t,n))||(e.exports=o)},677:function(e,t,i){var n,o;n=[i(3),i(612),i(611),i(1241)],void 0===(o=function(e,t,i,n){function o(){n.call(this),this._initialize.apply(this,arguments)}return i.inherit(o,n),e.extend(o.prototype,{defaultOptions:{},_widgetName:"Widget",_initialize:function(){var t;this.plugins=[],this.trigger("before-setup").isDefaultPrevented()||(t=this._setUp.apply(this,arguments),this.trigger("setup")),this.trigger("before-init-plugins").isDefaultPrevented()||(this._initializePlugins(t),this.trigger("init-plugins")),this.options=e.extend({},this.defaultOptions,t),this.trigger("before-extract-data").isDefaultPrevented()||(this._extractData(),this.trigger("extract-data")),this.trigger("before-transform-markup").isDefaultPrevented()||(this._transformMarkup(),this.trigger("transform-markup")),this.trigger("before-attach-behavior").isDefaultPrevented()||(this._attachBehavior(),this.trigger("attach-behavior")),this.trigger("before-ready").isDefaultPrevented()||(this._ready(),this.trigger("ready"))},_setUp:function(t,i){return this.$element=e(t),i},_initializePlugins:function(e){var t=((void 0===(e=e||{}).useDefaultPlugins||e.useDefaultPlugins)&&this.defaultPlugins?this.defaultPlugins:[]).concat(e.plugins||[]);t=t.sort((function(e,t){return(e="number"==typeof e.priority?e.priority:50)-(t="number"==typeof t.priority?t.priority:50)}));for(var i=0;i<t.length;i++){var n=t[i];n&&n.initialize&&n.initialize(this,e)}this.plugins=t},_extractData:function(){},_transformMarkup:function(){},_attachBehavior:function(){},_ready:function(){}}),o.registry={},o.build=function(t,n,r){var a=r&&n||o,s=r||n||{},l=function(){a.apply(this,arguments),this._widgetName=t};i.inherit(l,a),e.extend(l.prototype,s),l.prototype.defaultOptions=e.extend({},a.prototype.defaultOptions,s.defaultOptions);var d=t.split("."),c=d.length;c>1&&d[0];return o[t=d[c-1]]=l,l},o.addWidgetConstructorAsjQueryPlugin=function(t,i){e.fn[t]=function(n){var o="string"==typeof arguments[0],r=o?arguments[0]:"",a=o?Array.prototype.slice.call(arguments,1):null;return this.each((function(){if(o){var s=e(this).data(t);s&&s[r]&&s[r].apply(s,a)}else e(this).data(t,new i(this,n))})),this}},o.addMultiElementWidgetConstructorAsjQueryPlugin=function(t,i){e.fn[t]=function(n){var o="string"==typeof arguments[0],r=o?arguments[0]:"",a=o?Array.prototype.slice.call(arguments,1):null;if(this.length)if(o){(s=this.eq(0).data(t))&&s[r]&&s[r].apply(s,a)}else{var s=new i(this,n);this.each((function(){e(this).data(t,s)}))}return this}},t.Widget=o,t.widget=o.build,t.addWidgetConstructorAsjQueryPlugin=o.addWidgetConstructorAsjQueryPlugin,t.addMultiElementWidgetConstructorAsjQueryPlugin=o.addMultiElementWidgetConstructorAsjQueryPlugin,o}.apply(t,n))||(e.exports=o)},695:function(e,t,i){var n,o;n=[i(3),i(0),i(557),i(606),i(2),i(16),i(1),i(174),i(9),i(675),i(554),i(4),i(255)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h){"use strict";function u(e,t,i){this._init(e,t,i)}return e.extend(u.prototype,c.prototype,{_init:function(t,i,n){this._options={},this._isFlickrAllowed=!1,this._isFlickrEnabled=!1,this._isBingAllowed=!1,this._switchedIntoBing=!1,e.extend(this._options,{image_filter:n.imageFilter.extensionsWithoutDot.concat(n.imageFilter.types),imageFilter:n.imageFilter,startPage:n.startPage},n),c.prototype._init.call(this,t,i),this._isBound||(this._isBound=!0,this._handleResize=this._handleResize.bind(this),this._handleSearchTextChange=this._handleSearchTextChange.bind(this),this._handleDooploSearch=this._handleDooploSearch.bind(this),this._handleSearchTextKeyDown=this._handleSearchTextKeyDown.bind(this),this._handleScroll=this._handleScroll.bind(this),this._handleSearchTextFocus=this._handleSearchTextFocus.bind(this),this.clearFilterSettingsOnEditorLoad=this.clearFilterSettingsOnEditorLoad.bind(this)),this.results$=this.$ele.find("#results-without-bing"),this._registerEvents(),this.setupSearchDropdown()},_registerEvents:function(){if(!this._eventsRegistered){var t=this.$ele.find(".dooploSearchEntry .search-text");t.on("focus",this._handleSearchTextFocus),t.on("input",this._handleSearchTextChange),t.on("keydown",this._handleSearchTextKeyDown),this.$ele.find(".results").on("scroll",this._handleScroll),this.$ele.find(".execute-search-button").on("vclick",this._handleDooploSearch),e(window).on("resize",this._handleResize),this._eventsRegistered=!0}},_deregisterEvents:function(){if(this._eventsRegistered){var t=this.$ele.find(".dooploSearchEntry .search-text");t.off("input",this._handleSearchTextChange),t.off("keydown",this._handleSearchTextKeyDown),this.$ele.find(".results").off("scroll",this._handleScroll),this.$ele.find(".execute-search-button").off("vclick",this._handleDooploSearch),e(window).off("resize",this._handleResize),this._eventsRegistered=!1}},handleChangingToEditor:function(e){this._registerEvents(),window.marvel.features.hasFeature("dooplo-service-persistant-filters")||this.clearFilterSettingsOnEditorLoad()},handleChangingFromEditor:function(e){this._deregisterEvents()},_needsTitleWorkaround:function(e){return"Unsplash"===e.data.source.name&&"untitled image"===e.data.title},_comesFromBing:function(e){return"bing"===e.data.source.name},_handleThumbClick:function(t){var i=e(t.target).data("item");this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected"),this._needsTitleWorkaround(i)?d.getAssetInfo(i.data.id).then(function(e){e.title&&(i.data.title=e.title),this._userCallback(i)}.bind(this),function(e){this._userCallback(i)}.bind(this)):(this._comesFromBing(i)&&(i.data.owner={name:"Unknown"}),this._userCallback(i))},_getComboSourcesString:function(e){var i="";if((e=t.compact(e)).length&&(i=e[0],e.length>1))if(2===e.length)i+=" & "+e[1];else{for(var n=1;n<e.length-1;n++)i+=", "+e[n];i+=", & "+e[e.length-1]}return i},_getAllowedSourcesForCurrentAssetType:function(){var e,t=[];if(p.ignoreDooploSourceTypes||this._options.dooploSourceTypes&&this._options.dooploSourceTypes.length>0&&(t=this._options.dooploSourceTypes),this._options.assetType&&"vector"===this._options.assetType)e=["The Noun Project"];else{var i=s.getProfile().filterDooploBitmapServicesForUser(t,this._connectedApp);this._isFlickrAllowed=-1!==i.show.indexOf("flickr")&&-1===i.blocked.indexOf("flickr"),this._isFlickrEnabled=-1!==i.enabled.indexOf("flickr"),this._isBingAllowed=-1!==i.show.indexOf("bing"),e=i.enabled}return e||[]},_isVectorOnly:function(){return this._options.assetType&&"vector"===this._options.assetType||!1},_useBingOnly:function(){var e=s.getProfile().getSetting("show-user-flag-image-source-dooplo-bing"),i=this._getCurrentSearchSettings().sourceFilters,n=t.filter(i,{isSelected:!0}),o=i.bing&&i.bing.isSelected&&1===n.length,r=this._isVectorOnly(),a=this.page>2||this.resultsTotal>0&&this.resultsTotal<50;return!r&&(o||a&&e&&this._isBingAllowed)},_switchToBing:function(){this._switchedIntoBing=!0,this.results$=this.$ele.find("#results-bing-only"),this._sendAnalyticsEvent("bingSearchResultsShown"),this._makeDooploRequest(this.subject,1,this.results$,["bing"])},_setHintTextForFilters:function(){var e,i=this._getAllowedSourcesForCurrentAssetType(),n=this._getCurrentSearchSettings().sourceFilters,o=[],a=0;t.each(i,(function(e){var t=n[e];if(!t||t.isSelected){var i=d.SOURCE_CREDIT_INFOS[e.toLowerCase()];o[i.creditOrderIndex]=i.sourcesName,a++}})),e=1==a||a!==i.length?r.formatMessage("imagepicker-search",{imageSources:this._getComboSourcesString(o)}):r.getString("imagepicker-allphotos-search"),this.$ele.find(".dooploSearchEntry .search-text-hint").text(e)},_handleSearchTextFocus:function(){this.$ele.parents().scrollLeft(0)},_handleSearchTextChange:function(e){var t=this.$ele.find(".dooploSearchEntry .search-text").val(),i=this.$ele.find(".dooploSearchEntry .search-text-hint");i.removeClass("showing"),t&&0!==t.length||i.addClass("showing")},_handleSearchTextKeyDown:function(e){if(13===e.keyCode)this._handleDooploSearch();else if(27===e.keyCode){var t=this.$ele.find(".dooploSearchEntry .search-text");return setTimeout(function(){t.val(""),this._handleDooploSearch(),this._handleSearchTextChange()}.bind(this),0),e.stopPropagation(),0}},searchNextSet:function(){this._switchedIntoBing||!this._useBingOnly()?this.request.searchNextSet():this._switchToBing()},updateInfoMessage:function(){var e=this.results$.find(".left"),t=this.$ele.find(".search-text").val();e.children().length||t.length?this.showInfoMessage(!1):this.showInfoMessage(!0)},showInfoMessage:function(e){var t=this.$ele.find(".search-info");e?t.removeClass("hide"):t.addClass("hide")},showImageSourcesMessage:function(e,i){var n;if((n=(i=i||this.results$).find(".search-sources")).length){var o=[];if(t.each(e,(function(e){var t,i=e.source;i&&i.sourcesName&&(t=i.link?'<a class="search-source-link" target="_blank" href="'+i.link+'">'+i.sourcesName+"</a>":i.sourcesName,o[i.creditOrderIndex]=t)})),(o=t.compact(o)).length){var a=r.formatMessage("imagepicker-search-has-results",{imageSources:this._getComboSourcesString(o)});n.removeClass("hide"),n.html(a)}else n.addClass("hide")}},getEnabledSearchSources:function(){var e=this._getAllowedSourcesForCurrentAssetType(),i=this._getCurrentSearchSettings().sourceFilters,n=t.filter(e,(function(e){var t=i[e];return!t||t.isSelected}));return n=this._useBingOnly()?["bing"]:t.pull(n,"bing")},clearFilterSettingsOnEditorLoad:function(){this.setupSearchDropdown(),this._cachedDooploSearchSettings=null},_saveCurrentSearchSettings:function(e){if(window.marvel.features.hasFeature("dooplo-service-persistant-filters")&&(window._cachedDooploSearchSettings=e,window.localStorage))try{window.localStorage.setItem("spark-dooplo-user-settings",JSON.stringify(e))}catch(e){window.marvel.logger.warn("could not save search settings",e)}this._cachedDooploSearchSettings=e},_getCurrentSearchSettings:function(){if(!this._cachedDooploSearchSettings)if(window.marvel.features.hasFeature("dooplo-service-persistant-filters")){if(!window._cachedDooploSearchSettings){var e;if(window.localStorage){var t=window.localStorage.getItem("spark-dooplo-user-settings");if(t)try{e=JSON.parse(t)}catch(e){window.marvel.logger.error("error parsing cached dooplo settings:"+e,{settingsString:t})}}window._cachedDooploSearchSettings=e||{sourceFilters:{}}}this._cachedDooploSearchSettings=window._cachedDooploSearchSettings}else this._cachedDooploSearchSettings={sourceFilters:{}};return this._cachedDooploSearchSettings},searchDropdownOnChangeCallback:function(e,i){var n=this._getCurrentSearchSettings(),o=n.sourceFilters,r=!i.length||i.length&&"all"===i[0];t.each(this.filteredSourcesFromUserSettings,function(e){var t=o[e];t||(t={},o[e]=t),t.isSelected=r||-1!==i.indexOf(e)}.bind(this)),this._saveCurrentSearchSettings(n),this._setHintTextForFilters(),""!==this.getSearchText()&&this._handleDooploSearch()},setupSearchDropdown:function(){if(this.filteredSourcesFromUserSettings=this._getAllowedSourcesForCurrentAssetType(),!(this.filteredSourcesFromUserSettings.length<2)){var e=this._getCurrentSearchSettings().sourceFilters;if(!this.searchDropdown){var i={onchangeCallback:this.searchDropdownOnChangeCallback.bind(this),multiple:!1,widthSetByStyle:!0,elemHeightSetByStyle:!0,checkmarkStyle:"use-radio",buttonDisplayControlledByCaller:!0,alignTarget$:this.$ele.find(".dooplo-search-dropdown-aligner"),analytics:{dropdownName:"dooploSearch",pageName:l.getProductName()+":editor"},dropdownShowingCallback:function(e){var t=this.$ele.find(".dooploSearchEntry .search-text-wrapper");e?(t.addClass("showing-dropdown"),t.one("click.sharetextdropdownclose",function(e){this.searchDropdown.closeAndApply()}.bind(this))):(t.removeClass("showing-dropdown"),t.off("click.sharetextdropdownclose"))}.bind(this)};this.searchDropdown=new h(this.$ele.find(".dooplo-search-dropdown"),i,this)}var n=[],o=0,r={};if(t.each(this.filteredSourcesFromUserSettings,function(t){var i=t.toLowerCase(),a=d.SOURCE_CREDIT_INFOS[i],s=(e[t],"unsplash"===i);s&&o++;var l={name:a.sourcesName,id:t,isSelected:s};n.push(l),r[i]={isSelected:s},s&&l}.bind(this)),o===this.filteredSourcesFromUserSettings.length){n[0].isSelected=!0;for(var a=1;a<n.length;a++)n[a].isSelected=!1}var s=t.sortBy(n,["name"]);this.searchDropdown.renderItems(s,"unsplash"),this._saveCurrentSearchSettings({sourceFilters:r}),this._setHintTextForFilters()}},show:function(e){this.$ele.find(".search-failure").addClass("hide"),c.prototype.show.call(this);window.setTimeout(function(){var t=this.$ele.find(".dooploSearchEntry .search-text");this.updateInfoMessage(),t.focus(),this.$ele.parents().scrollLeft(0),e&&e!=this.getSearchText()?(this.$ele.find(".dooploSearchEntry .search-text-hint").removeClass("showing"),t.val(e),this._handleDooploSearch()):this.getSearchText()?this.$ele.find(".dooploSearchEntry .search-text-hint").removeClass("showing"):this.$ele.find(".dooploSearchEntry .search-text-hint").addClass("showing"),this.searchDropdown&&this.searchDropdown.setValue(this.searchDropdown.selectedItem.id)}.bind(this),500)},_makeDooploRequest:function(e,t,n,o){n=n||this.$ele.find("#results-without-bing"),this.preloadPagesWhenLoaderEmpty=!1,this.$ele.find(".search-failure").addClass("hide"),this.$ele.find(".results .flickr-more-results").addClass("hide"),this.$ele.find(".results .pixabay-more-results").addClass("hide"),this.loader?(this.loader.stop(),this.loader.clearQueue(),this.hideMoreToCome()):(this.loader=new i({numAsyncRequestsAllowed:20,crossOrigin:!!this._options.crossOriginThumbnails&&"anonymous"}),this.loader.bind("wp-image-loader-empty",function(e){this.requestOutstanding=!1,this.preloadPagesWhenLoaderEmpty&&this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet()),this.requestOutstanding?this._isFlickrAllowed&&!this._isFlickrEnabled?(this.$ele.find(".results .flickr-more-results").removeClass("hide"),this._sendAnalyticsEvent("dooploSearchSuggestFlickrMoreResultsShown")):1===this._currentSourceFilters.length&&"unsplash"===this._currentSourceFilters[0]&&this.$ele.find(".results .pixabay-more-results").removeClass("hide"):this.hideMoreToCome()}.bind(this))),this.preloadPagesWhenLoaderEmpty=!0;var r=this.request;r.resultsTarget$=n,this.requestOutstanding=!0,t=t||1,this.subject=e;var a={query:e,page:t,success:this._handleRequestSuccess.bind(this),error:function(e,t,i){this.hideMoreToCome(),this._sendAnalyticsEvent("dooploSearchErroredOut"),console.log("REQUEST ERROR on Search for Photos in Dooplo:",i),console.log("XHR text for Dooplo error is:",JSON.stringify(e)),this.$ele.find(".search-progress").addClass("hide"),this.$ele.find(".search-failure").removeClass("hide"),this.$ele.find(".search-failure .error-msg").text(e.responseJSON&&e.responseJSON.message?e.responseJSON.message:"unknown")}.bind(this)};this._options.assetType&&"vector"===this._options.assetType?(a.asset_type=this._options.assetType,a.image_min_width=0):(a.image_filter=this._options.image_filter,a.imageFilter=this._options.imageFilter),this._options.itemsPerPage&&(a.size=this._options.itemsPerPage),this._options.startPage&&(a.startPage=this._options.startPage);var s=o||this.getEnabledSearchSources();a.source=s,this._currentSourcesResults={},this._currentSourceFilters=s,this._currentSearchTerm=e,r.search(a)},_handleRequestSuccess:function(e,t,i){var n=this.request.resultsTarget$,o="vector"!==this._options.assetType,r=!!this._options.crossOriginThumbnails;if(n.removeClass("hide"),n.find(".privacy-sources").removeClass("hide"),n.find(".no-results").addClass("hide"),this.$ele.find(".search-progress").addClass("hide"),this.showMoreToCome(),this.page=e.data.page,this.resultsTotal=e.data.total,e.getLength()){var a,s=e.at(0);for(a=0;a<e.getLength();a++){if(s=e.at(a),this.items.push(s),s.data.title=s.data.title||"untitled image",this._currentSourcesResults){var l=s.data.source.name.toLowerCase(),c=s.data.sourceLabel=d.SOURCE_CREDIT_INFOS[l];c&&(this._currentSourcesResults[l]?this._currentSourcesResults[l].numImages++:this._currentSourcesResults[l]={source:c,numImages:1})}this._addThumbnail(s.getThumbURL(),n,s,s.getAspect(),o,r)}this.loader.start(),this.showImageSourcesMessage(this._currentSourcesResults,n),this._sendAnalyticsEvent("dooploSearchResultsShown")}else{var p=this.getSearchText(),h=!1;if(this.hideMoreToCome(),1===this._currentSourceFilters.length&&"unsplash"===this._currentSourceFilters[0]&&(h=!0),this._isBingAllowed&&!this._switchedIntoBing&&p)return 0===this.items.length&&this.$ele.find("#results-without-bing").addClass("hide"),this.request=new d,void this._switchToBing();this.request.getLength()||(this._isVectorOnly()?this.$ele.find(".no-results").removeClass("hide"):(this.$ele.find(".no-results").addClass("hide"),this.$ele.find("#results-bing-only").addClass("hide"),this.$ele.find(".privacy-sources").addClass("hide"),this._isFlickrAllowed&&!this._isFlickrEnabled?(this.$ele.find(".no-results-suggest-flickr").removeClass("hide"),this._sendAnalyticsEvent("dooploSearchSuggestAddingFlickrShown")):h?this.$ele.find(".no-results-suggest-pixabay").removeClass("hide"):this.$ele.find(".no-results-no-suggest-flickr").removeClass("hide")),this.showInfoMessage(!1),this._sendAnalyticsEvent("dooploSearchReturnedZeroResults"))}},hasMore:function(){return this.request&&!this.request.reachedEnd()},getSearchText:function(){return this.$ele.find(".search-text").val()},_sendAnalyticsEvent:function(e){var t=l.getProductName()+":editor",i={searchTerm:this._currentSearchTerm||"",filter:this._currentSourceFilters||""};l.trackEvent(e,i,t)},_handleDooploSearch:function(){var e,t=this.$ele.find(".search-text").val(),i=r.formatMessage("imagepicker-searching-for-subject",{subject:t});return this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new d,this._switchedIntoBing=!1,this.page=this._options.startPage||1,this.resultsTotal=0,this._clear(),this.count=0,t.length&&(this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(i)),this.$ele.find(".no-results").addClass("hide"),this.$ele.find("#results-bing-only").addClass("hide"),this.$ele.find("#results-without-bing").addClass("hide"),this.showImageSourcesMessage(),t?(e=this._useBingOnly()?this.$ele.find("#results-bing-only"):this._options.assetType&&"vector"===this._options.assetType?this.$ele.find(".results"):this.$ele.find("#results-without-bing"),this.showInfoMessage(!1),this._makeDooploRequest(t,this.page,e)):this.hideMoreToCome(),!1},_scrolledFarEnough:function(){var e=this.$ele.find(".results"),t=e[0].scrollTop,i=!1;return 2*e.height()+t>e[0].scrollHeight&&(i=!0),i},showMoreToCome:function(){this.request.result&&this.$rootPicker.find(".more-to-come").addClass("showing")}}),u}.apply(t,n))||(e.exports=o)},696:function(e,t,i){var n,o;n=[i(3),i(553),i(697)],void 0===(o=function(e,t,i){var n={inherit:function(t,i,n){var o=function(){};o.prototype=i.prototype,t.prototype=new o,t.prototype.constructor=t,t.prototype._super=i,n&&e.extend(t.prototype,n)},ensureArray:function(){var t=[],i=arguments.length;return i>0&&(t=i>1||!e.isArray(arguments[0])?e.map(arguments,(function(e){return e})):arguments[0]),t},scopedFind:function(t,i,n,o){var r=" "+n+" ",a=[],s=e(t).find(i),l=s.length;o=e(o)[0];for(var d=0;d<l;d++)for(var c=s[d],p=c;p;){if(p.className&&-1!==(" "+p.className+" ").indexOf(r)){p===o&&a.push(c);break}p=p.parentNode}return e(a)},getDocumentOffset:function(t){var i=0,n=0;if(t=e(t)[0]){var o=t.offsetParent;for(i=t.offsetLeft,n=t.offsetTop;t;)t===o&&(i+=t.offsetLeft,n+=t.offsetTop,o=t.offsetParent),i-=t.scrollLeft||0,n-=t.scrollTop||0,t=t.parentNode}return{left:i,top:n}},getAlignmentAdjustment:function(e,t,i){var n=0;switch(e){case"left":case"top":n=0;break;case"right":case"bottom":n=t-i;break;case"center":default:n=(t-i)/2}return n},positionElementAroundAnother:function(t,i,n){n=e.extend({position:"right",positionOffset:0,align:"center",alignOffset:0},n);var o=e(t),r=e(i),a=r.offsetParent();r.removeClass("above below left right");var s=o.offset(),l=o.outerWidth(),d=o.outerHeight(),c=a.offset(),p=r.outerWidth(),h=r.outerHeight(),u=n.positionOffset,g=n.align,m=n.alignOffset,f=s.left-c.left,v=s.top-c.top;switch(n.position){case"above":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v-h-u;break;case"below":f=f+this.getAlignmentAdjustment(g,l,p)+m,v=v+d+u;break;case"left":f=f-p-u,v=v+this.getAlignmentAdjustment(g,d,h)+m;break;case"right":default:f=f+l+u,v=v+this.getAlignmentAdjustment(g,d,h)+m}return{x:f,y:v}},positionElementInsideAnother:function(t,i,n,o){var r=e(t),a=e(i),s=a.offsetParent(),l=r.offset(),d=s.offset(),c=l.left-d.left,p=l.top-d.top;switch(n){case"left":case"center":case"right":n=c+this.getAlignmentAdjustment(n,r.outerWidth(),a.outerWidth());break;default:n=n||0}switch(o){case"top":case"center":case"bottom":o=p+this.getAlignmentAdjustment(o,r.outerHeight(),a.outerHeight());break;default:o=o||0}return{x:n,y:o}},calcTotalWidthOfObjects:function(t){var i=0;for(var n in t)i+=e(t[n]).outerWidth();return i},setElementTransform:function(t,n){e(t).css(i.vendorPrefix+"transform",n)},instantTransform:function(t,i,n){var o=e(t);o.addClass(n),this.setElementTransform(t,i),setTimeout((function(){o.removeClass(n)}),0)},parseQueryParams:function(e){var t=/([^\?#]+)?(\?([^#]*))?(#.*)?/.exec(e||""),i={};if(t&&t[3])for(var n=t[3].split("&"),o=0;o<n.length;o++){var r=(n[o]||"").split("=");i[decodeURIComponent(r[0]||"")]=decodeURIComponent(r[1]||"")}return i},serializeQueryParams:function(e){var t="";if(e)for(var i in e)t&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]);return t},setQueryParams:function(e,t){var i=this.serializeQueryParams(t);return i=(i?"?":"")+i,e.replace(/([^\?#]+)?(\?[^#]*)?(#.*)?/,"$1"+i+"$3")},setQueryParam:function(e,t,i){if(t){var n=this.parseQueryParams(e);return n[t]=i,this.setQueryParams(e,n)}return e}};return t.Utils=n,e.extend(t,n),n}.apply(t,n))||(e.exports=o)},697:function(e,t,i){var n,o;n=[i(553)],void 0===(o=function(e){window.navigator.userAgent;e.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e.isFirefox="undefined"!=typeof InstallTrigger,e.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e.isIE=!!document.documentMode,e.isEdge=!e.isIE&&!!window.StyleMedia,e.isMSEdge=e.isEdge,e.isChrome=!!window.chrome&&!window.opera&&!e.isMSEdge,e.isBlink=(e.isChrome||e.isOpera)&&!!window.CSS,e.supportsAddEventListenerOptions=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsAddEventListenerOptions=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e.supportsAddEventListenerOptions=!1}e.supportsPassiveEventListeners=e.supportsAddEventListenerOptions,e.touchEventsEnabled="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e.pointerEventsEnabled=window.PointerEvent||window.navigator.pointerEnabled,e.msPointerEventsEnabled=window.navigator.msPointerEnabled,e.supportsMozInputSource=e.isFirefox&&!e.touchEventsEnabled&&window.MouseEvent&&window.MouseEvent.MOZ_SOURCE_MOUSE,e.touchEnabled=e.touchEventsEnabled||e.msPointerEventsEnabled||e.pointerEventsEnabled||e.supportsMozInputSource;var i="";if(window.getComputedStyle){var n=window.getComputedStyle(document.documentElement,"");"-moz-"===(i=(Array.prototype.slice.call(n).join("").match(/(-moz-|-webkit-|-ms-)/)||""===n.OLink&&["","o"])[1])&&(i="")}return e.vendorPrefix=i||"",e}.apply(t,n))||(e.exports=o)},698:function(e,t,i){var n,o;n=[i(3),i(553)],void 0===(o=function(e,t){var i=function(){};return e.extend(i.prototype,{bind:function(t,i,n){return e(this).on(t,i,n)},unbind:function(t,i){return e(this).off(t,i)},on:function(t,i,n){return e(this).on(t,i,n)},off:function(t,i){return e(this).off(t,i)},trigger:function(t,i){var n=e.Event(t);return e(this).trigger(n,i),n}}),t.EventDispatcher=i,i}.apply(t,n))||(e.exports=o)},699:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(557),i(16),i(260),i(7),i(554),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d){"use strict";function c(e,t,i){this._init(e,t,i)}return c.licenseInfoFromData=function(e,t){var i=t||e.is_licensed||e.license;return{title:e.title,owner:{name:e.creator_name},source:{name:"Adobe Stock",url:""},license:{short_name:i?{standard:"royalty_free_standard",extended:"royalty_free_extended",royalty_free_extended:"royalty_free_extended",royalty_free_standard:"royalty_free_standard",royalty_free:"royalty_free"}[i.toLowerCase()]:"royalty_free"},image_id:e.id}},e.extend(c.prototype,l.prototype,{_init:function(t,i,n){this._options={},e.extend(this._options,{image_filter:["jpg","jpeg","png","image/jpeg","image/png"]},n),l.prototype._init.call(this,t,i);var o=this.$ele.find(".stockSearchEntry .search-text");o.on("input",this._handleSearchTextChange.bind(this)),o.on("keydown",this._handleSearchTextKeyDown.bind(this)),this.$ele.find(".results").on("scroll",this._handleScroll.bind(this)),e(window).on("resize",this._handleResize.bind(this)),this.$ele.find(".execute-search-button").on("vclick",this._handleAdobeStockSearch.bind(this)),this.$ele.find(".stockShowSearchButton").on("vclick",this._handleShowSearchButton.bind(this)),this.$ele.find(".stockShowLicenseHistoryButton").on("vclick",this._handleShowLicenseHistoryButton.bind(this))},_handleThumbClick:function(t){var i=e(t.target).data("item"),n=this,o=i.data.id;this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected");var r=a.apiHost+a.itemLicensePath,l={content_id:o};i.licenseInfo=c.licenseInfoFromData(i.data,i.is_licensed),i.is_licensed&&!i.links.licensed?s.ajax({url:r,data:l,beforeSend:function(e){return e.setRequestHeader("X-api-key",d.key),e.setRequestHeader("X-Product",d.key),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done((function(e,t,r){var a=e.contents[o];i.links.licensed=a.purchase_details,n._userCallback(i)})).fail(function(){}.bind(this)):this._userCallback(i)},_handleSearchTextChange:function(e){var t=this.$ele.find(".stockSearchEntry .search-text").val(),i=this.$ele.find(".stockSearchEntry .search-text-hint");i.removeClass("showing"),t&&0!==t.length||i.addClass("showing")},_handleSearchTextKeyDown:function(e){if(13===e.keyCode)this._handleAdobeStockSearch(),e.stopPropagation();else if(27===e.keyCode){var t=this.$ele.find(".stockSearchEntry .search-text");return setTimeout(function(){t.val(""),this._handleAdobeStockSearch(),this._handleSearchTextChange()}.bind(this),0),e.stopPropagation(),0}},searchNextSet:function(){this.request.searchNextSet()},updateInfoMessage:function(){var e=this.$ele.find(".results").find(".left");this.$ele.find(".search-info");e.children().length?this.showInfoMessage(!1):this.showInfoMessage(!0)},showInfoMessage:function(e){var t=this.$ele.find(".search-info");e?(t.removeClass("hide"),this.$ele.find(".stockLicenses").addClass("fromNoSearch")):(t.addClass("hide"),this.$ele.find(".stockLicenses").removeClass("fromNoSearch"))},_lastRequestType:function(){return a.getRequestType(this.request)},show:function(e){var t,i=this._lastRequestType(),n=this._currentType||this._lastRequestType();if(this.$ele.find(".search-failure").addClass("hide"),l.prototype.show.call(this),e===a.licenseHistorySearchQuery?t=!0:e||"history"!==n||(t=!0),t)return this._updateLicenseCount(),this.updateInfoMessage(),void this._setShowTypeTab("history",{triggerSearch:a.licenseHistorySearchQuery});window.setTimeout(function(){this._updateLicenseCount();var t,o=this.$ele.find(".stockSearchEntry .search-text");if(this.updateInfoMessage(),o.focus(),e)t="history"===n?e:e!==this._getSearchText()&&e,this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"),o.val(e),this._setShowTypeTab("search",{triggerSearch:t});else{var r={};this._getSearchText()?this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"):this.$ele.find(".stockSearchEntry .search-text-hint").addClass("showing"),r.triggerSearch="history"===i||"search"===i&&this._lastRequestSubject!==this._getSearchText(),this._setShowTypeTab("search",r)}}.bind(this),500)},_updateLicenseCount:function(){var e=a.apiHost+a.profilePath,t=this;this.$ele.find(".stockLicenses").addClass("calculating"),s.ajax({url:e,beforeSend:function(e){return e.setRequestHeader("X-api-key",d.key),e.setRequestHeader("X-Product",d.key),e.setRequestHeader("X-Product-Location","search"),!0},dataType:"json",traditional:!0}).done((function(e,i,n){var o=t.$ele.find(".stockLicenses").removeClass("calculating");if(e.purchase_options.requires_checkout||"not_possible"===e.purchase_options.state)o.addClass("noAccount");else{var r=e.available_entitlement?e.available_entitlement.quota:0;o.find(".count").text(r),o.removeClass("noAccount")}})).fail(function(){}.bind(this))},_makeAdobeStockRequest:function(e,t){this.preloadPagesWhenLoaderEmpty=!1,this.$ele.find(".search-failure").addClass("hide"),this._lastRequestSubject=e,this.loader?(this.loader.stop(),this.loader.clearQueue(),this.hideMoreToCome()):(this.loader=new o({numAsyncRequestsAllowed:20,crossOrigin:!!this._options.crossOriginThumbnails&&"anonymous"}),this.loader.bind("wp-image-loader-empty",function(e){this.requestOutstanding=!1,this.preloadPagesWhenLoaderEmpty&&this._scrolledFarEnough()&&this.hasMore()&&(this.requestOutstanding=!0,this.showMoreToCome(),this.searchNextSet()),this.requestOutstanding||this.hideMoreToCome()}.bind(this))),this.preloadPagesWhenLoaderEmpty=!0;var i=this.request;this.requestOutstanding=!0,t=t||1,this.subject=e;var n={query:e,page:t,success:this._handleRequestSuccess.bind(this,i),error:function(e,t,n){this.request===i&&(this.hideMoreToCome(),console.log("REQUEST ERROR on Search for Photos in AdobeStock:",n),console.log("XHR text for AdobeStock error is:",JSON.stringify(e)),this.$ele.find(".search-progress").addClass("hide"),this.$ele.find(".search-failure").removeClass("hide"),this.$ele.find(".search-failure .error-msg").text(e.responseJSON&&e.responseJSON.message?e.responseJSON.message:"unknown"))}.bind(this)};this._options.assetType&&"vector"===this._options.assetType?(n.asset_type=this._options.assetType,n.image_min_width=0):n.image_filter=this._options.image_filter,this._options.itemsPerPage&&(n.size=this._options.itemsPerPage),n.blockUnlicensedPremium=marvel.features.hasFeature("stock-picker-block-unlicensed-premium"),i.search(n)},_handleRequestSuccess:function(e,t,i,n){if(this.request===e){var o=this.$ele.find(".results"),r="vector"!==this._options.assetType,a=!!this._options.crossOriginThumbnails;if(o.find(".no-results").addClass("hide"),this.$ele.find(".search-progress").addClass("hide"),this.showMoreToCome(),this.page=t.data.page,t.getLength()){this.showInfoMessage(!1);var s,l,d=t.at(0);for(s=0;s<t.getLength();s++)d=t.at(s),this.items.push(d),d.data.title=d.data.title||"untitled image",l=this._addThumbnail(d.getThumbURL(),o,d,d.getAspect(),r,a),d.is_licensed&&l.addClass("licensed");this.loader.start()}else this.hideMoreToCome(),this.request.getLength()||(this.$ele.find(".no-results").removeClass("hide"),this.showInfoMessage(!1))}},hasMore:function(){return this.request&&!this.request.reachedEnd()},getSearchContext:function(){return"history"===this._lastRequestType()?a.licenseHistorySearchQuery:this._getSearchText()},_getSearchText:function(){return this.$ele.find(".search-text").val()},_handleAdobeStockSearch:function(){var e=this.$ele.find(".search-text").val().trim(),t=r.formatMessage("imagepicker-searching-for-subject",{subject:e});if(this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new a,this._clear(),this.count=0,this.$ele.find(".no-results").addClass("hide"),e){this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(t),this.showInfoMessage(!1);var i=d.safeSearchQueryFilterEndpoint;if(i){var n="https://"+i+"/api/v1/moderation/profanity",o={query:e};s.ajax({type:"GET",url:n,headers:{"X-Api-Key":d.key,"Content-Type":"application/json"},data:o,dataType:"json",traditional:!0,success:function(t,i,n){t.contains_badwords?this._showEmptySearchResults(!1):this._makeAdobeStockRequest(e)}.bind(this),error:function(t,i,n){window.marvel.logger.error("stock data search failure:"+i,t),this._makeAdobeStockRequest(e)}.bind(this)})}else this._makeAdobeStockRequest(e)}else this._showEmptySearchResults(!0);return!1},_showEmptySearchResults:function(e){this.hideMoreToCome(),this.$ele.find(".search-progress").addClass("hide"),this.showInfoMessage(e),e?this.$ele.find(".no-results").addClass("hide"):this.$ele.find(".no-results").removeClass("hide")},_setShowTypeTab:function(e,t){(t=t||{}).ignoreIfSame&&e===this._currentType||(this._currentType=e,"history"===e?(this.$ele.addClass("view-type-history"),this.$ele.removeClass("view-type-search"),t.triggerSearch&&this._handleLicenseHistory(t.triggerSearch)):(this.$ele.addClass("view-type-search"),this.$ele.removeClass("view-type-history"),t.triggerSearch&&this._handleAdobeStockSearch(t.triggerSearch)))},_handleShowSearchButton:function(e){var t,i=this._getSearchText();this.updateInfoMessage(),i?this.$ele.find(".stockSearchEntry .search-text-hint").removeClass("showing"):(this.$ele.find(".stockSearchEntry .search-text-hint").addClass("showing"),this.$ele.find(".no-results").addClass("hide"),t=!0),this._setShowTypeTab("search",{triggerSearch:this._getSearchText()||"history"===this._currentType,ignoreIfSame:t})},_handleShowLicenseHistoryButton:function(e){this._setShowTypeTab("history",{triggerSearch:a.licenseHistorySearchQuery})},_handleLicenseHistory:function(){this.loader&&(this.loader.stop(),this.loader.clearQueue()),this.request=new a(a.licenseHistoryPath),this._clear(),this.count=0,this.$ele.find(".search-progress").removeClass("hide"),this.$ele.find(".search-progress .content").text(r.getString("imagepicker-stock-looking-up-license-history")),this.$ele.find(".no-results").addClass("hide"),this.showInfoMessage(!1),this._makeAdobeStockRequest(a.licenseHistorySearchQuery)}}),c}.apply(t,n))||(e.exports=o)},700:function(e,t,i){var n,o;n=[i(3),i(0),i(557),i(2),i(554),i(566),i(535),i(701),i(702),i(704),i(705),i(706),i(521),i(14),i(16),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c,p,h,u,g,m){"use strict";function f(e,t,i){this._init(e,t,i)}return e.extend(f.prototype,o.prototype,{_init:function(t,i,n){o.prototype._init.call(this,t,i),e(window).on("resize",this._handleResize.bind(this)),this.items=[],this.dirs=[],this.crumbs=[],this.rootCrumb=null,this._handleFolderClick=this._handleFolderClick.bind(this),this.pickerModel=n.model,this.source=n.model.get("source"),this.parentView=n,this._options=this._options||this.parentView._options,this.sort="custom",this.filter="all",this.depth=0},_handleLoadedThumbnail:function(e,t){this._options.enableDNDThumbclick&&(e.attr("draggable","true"),t.attr("draggable","true"),e.on("mousedown",this._handleThumbClick.bind(this)),e.on("mouseup",this._handleThumbClick.bind(this)),e.on("dragstart",function(e){e.preventDefault(),e.originalEvent.dataTransfer.setData("text/plain","foo"),this._handleThumbClick()}.bind(this)),e.on("dragleave dragend",function(e){e.originalEvent.dataTransfer.clearData()}.bind(this)))},_handleThumbClick:function(t){var i=e(t.target).data("item");if(this.$ele.find(".results .selected").removeClass("selected"),e(t.target).parent().addClass("selected"),this._userCallback){var n=this.crumbs[this.crumbs.length-1];i.parentFolderName=n.item.getFolderName(),i.thumbNaturalSize={width:t.target.naturalWidth,height:t.target.naturalHeight},this._userCallback(i,e(t.target).width(),e(t.target).height())}},populate:function(){this.crumbs=[],this.items=[];this.addRootCrumb(),this._makeRequest("",1)},getCurrentFolderPath:function(){for(var e="",t=this.crumbs,i=0,n=t.length;i<n;i++){e+=t[i].item.getFolderName()+"/"}return e=e.replace(/\/$/,"")},getCurrentFolderUrl:function(){var e=this.crumbs;return e[e.length-1].item.getFolderPath()},addRootCrumb:function(){var e=new h("root");e.isDir=!0,e.links.folder={},e.links.preview.href="",e.links.folder.path="/",e.links.folder.filename="",this.rootCrumb={label:this.pickerModel.get("label"),item:e},this.crumbs.push(this.rootCrumb)},_clear:function(){var e=this.$ele.find(".results").eq(this.depth),t=e.find(".folders"),i=e.find(".column");t.empty(),i.empty(),this.loader&&(this.loader.stop(),this.loader.clearQueue())},_scrolledFarEnough:function(){var t=this.$results,i=t.find(".column"),n=t[0].scrollTop,o=2*t.height()+n,r=!1;return i.each((function(){if(o>e(this).height())return r=!0,!1})),r},_makeRequest:function(n,o,r){var a=r?e(r):this.$ele.find(".results").eq(this.depth);this.$results=a;var s=this.pickerModel.get("source");a.off("scroll",this._handleScroll.bind(this)),a.on("scroll",this._handleScroll.bind(this)),this.loader=new i({numAsyncRequestsAllowed:20}),this.requestId=u.v4(),this.updateFilterability(),this.requestOutstanding=!0,this.showMoreToCome(),this.loader.bind("wp-image-loader-empty",function(e){this.loader.stop(),this.requestOutstanding=!1,this._scrolledFarEnough()&&this.imageSource&&this.imageSource.haveMoreMetaData()&&(this.requestOutstanding=!0,this.imageSource.getNextMetaData(),this.showMoreToCome()),this.requestOutstanding||this.hideMoreToCome()}.bind(this)),1===(o=o||1)&&this._clear(),this._requestMetaData({page:o,path:n,success:function(e,i,o){if(a.find(".no-photos").addClass("hide"),a.find(".no-libraries")&&a.find(".no-libraries").addClass("hide"),a.find(".no-library-assets")&&a.find(".no-library-assets").addClass("hide"),e.length&&0!==e.data.pages){var r,l,d,c,p=e[0];for(this.page=e.data.page,this.pages=e.data.pages,d=t.filter(e,(function(e){return e.isDir})),l=t.filter(e,(function(e){return!e.isDir})),r=0;r<d.length;r++)c=d[r],this.dirs.push(c),this._addDir(c.getPreviewURL(),c.getFolderLabel(),a,r,c);for(r=0;r<l.length;r++)p=l[r],this.items.push(p),this._addThumbnail(p.getThumbURL(),a,p,p.aspect,!0,!1);this.loader.bind("wp-image-loader-load-error",function(e){this.hideMoreToCome(),console.warn("image loader error ",e)}.bind(this)),this.loader.start()}else(!e.data||e.data.pages<2&&1===e.data.page)&&("Creative Cloud Libraries"===s?""===n?a.find(".no-libraries").removeClass("hide"):a.find(".no-library-assets").removeClass("hide"):a.find(".no-photos").removeClass("hide"));this.hideMoreToCome()}.bind(this),error:function(e,t,i){a.find(".no-photos").removeClass("hide"),this.hideMoreToCome(),console.warn("REQUEST ERROR:",i)}.bind(this)})},searchNextSet:function(){this.imageSource.getNextMetaData()},_addDir:function(t,i,n,o,r){var a,s,l,d=n.find(".folders"),c=e("<div class='folder-wrapper'></div>");l=r.isCCL?e("<p class='label'><span>"+i+"</span></p>"):e("<p class='label'>"+i+"</p>"),c.on("click",this._handleFolderClick),c.data("index",o),c.data("item",r),r.isShared?s=e("<p class='right-shared-icon'></p>"):r.isFollowing&&(s=e("<p class='right-public-icon'></p>")),r.hasCover()&&(c.addClass("withPreview"),a=e("<div class='preview'></div>"),r.getCover().then((function(e){a.css("background-image",'url("'+e+'")')})).fail((function(e){console.warn("getCover failed because ",e)})),c.append(a)),c.append(l),s&&c.append(s);var p=c.wrap("<div class='folder-hover'></div>");d.append(p),window.setTimeout((function(){c.addClass("showing")}),0)},_appendResults:function(){var t=g.getString("imagepicker-no-photos-folder"),i=g.getString("imagepicker-no-photos-album"),n=e(document.createElement("div")),o='<div class="folders"></div><div class="left column"></div><div class="right column"></div><div class="picker-bumper"></div>',r='<div class="no-photos hide">'+t+"</div>",a='<div class="no-photos hide">'+i+"</div>",s=this.$ele.find(".results-carrier"),l=this.$ele.find(".results");return"Lightroom"===this.pickerModel.get("source")?o+=a:"Creative Cloud Libraries"===this.pickerModel.get("source")?o+=this._getCCLEmptyState():o+=r,n.addClass("results").html(o),s.append(n),n.css("left",l.length*l.width()),n},_getCCLEmptyState:function(){var e=g.getString("imagepicker-ccl-no-library-assets-body"),t=g.getString("imagepicker-ccl-no-library-assets-title"),i=g.getString("imagepicker-ccl-no-libraries-learn-more");return'<div class="no-library-assets hide"><div class="no-library-assets-image"></div>'+('<div class="no-library-assets-title-text">'+t+"</div>")+('<div class="no-library-assets-body-text">'+e+"</div>")+('<div class="libraries-learn-more"><a href="'+m.cclMarketingURL+'" target="_blank">'+i+"</a></div>")+"</div>"},_showResults:function(e){var t=this.$ele.find(".results"),i=this.$ele.find(".results-carrier"),n="onwebkittransitionend"in window?"webkitTransitionEnd":"transitionend",o=function(r){var a;if(i[0].removeEventListener(n,o),"left"===r.propertyName)for(a=t.length-1;a>e;a--)t.eq(a).remove()};i[0].addEventListener(n,o),i.css("left",t.width()*-e+"px")},_handleFolderClick:function(t){var i=e(t.currentTarget).data("item");i.isShared&&(this.$rootPicker.find(".picker-bar .right-shared-icon").removeClass("hide"),this.$rootPicker.find(".picker-bar .close-button").addClass("hide")),this._appendResults(),this.depth++,this._clear(),this._showResults(this.depth);var n=i.getFolderLabel();this.pickerModel.set("label",n),this.crumbs.push({label:n,item:i}),this._makeRequest(i.getFolderPath(),1)},canGoBack:function(){return this.crumbs.length>1},goBack:function(){"Creative Cloud Libraries"===this.pickerModel.get("source")&&(this.$rootPicker.find(".picker-bar .right-shared-icon").addClass("hide"),this.$rootPicker.find(".picker-bar .close-button").removeClass("hide")),this.crumbs.length>1&&this.crumbs.pop();var e=t.last(this.crumbs);if(this.depth=this.crumbs.length-1,this._showResults(this.depth),this.pickerModel.set("label",e.label),1===this.crumbs.length)this.populate();else{var i=e.item?e.item.getFolderPath():e.path;this._clear(),this._makeRequest(i,1)}},jumpTo:function(e,t){var i=this,n=i.pickerModel.get("source"),o=this.crumbs[this.crumbs.length-1];if(e=decodeURI(e),"Lightroom"==n)this.imageSource=this.imageSource||new d,this.imageSource.getMetaData({filter:this.filter,sort:this.sort,success:function(e,n,r){for(var a,s=0,l=e.length;s<l;s++){var d=e[s];d.links.folder.filename==t&&(a=d.getFolderPath())}o&&o.item&&a==o.item.getFolderPath()||(i.crumbs=[],i.addRootCrumb(),i.crumbs.push({label:t,path:a,item:h.createFolderItem(a,t)}),i._clear(),i._makeRequest(a,1)),i.pickerModel.set("label",t)}});else if(e&&"/"!=e){var r,a;if("Dropbox"==n?(r=new c,a=e):"Google Photos"==n?a=(r=new p).generateUrlForAlbumId(e):"Creative Cloud Libraries"==n?(r=new l,a=e):(r=new s,a=e),!o||!o.item||o.item.getFolderPath()!=e){var u=r.generateCrumbsForPath(e,t);i._appendResults(),i.crumbs=[],i.addRootCrumb(),i.crumbs=i.crumbs.concat(u),t=u[u.length-1].item.getFolderLabel(),i._clear(),i._makeRequest(a,1)}i.pickerModel.set("label",t||i.crumbs[i.crumbs.length-1].label)}else i.populate()},getLastCrumb:function(){return this.crumbs[this.crumbs.length-1]},_handleScroll:function(e){this.requestOutstanding||this._scrolledFarEnough()&&this.imageSource&&this.imageSource.haveMoreMetaData()&&(this.showMoreToCome(),this.requestOutstanding=!0,this.searchNextSet())},_requestMetaData:function(e){if("Dropbox"==this.pickerModel.get("source"))return this._getDropboxMetadata(e);if("Creative Cloud"==this.pickerModel.get("source"))return this._getCCMetadata(e);if("Creative Cloud Libraries"==this.pickerModel.get("source"))return this._getCCLibrariesMetadata(e);if("Lightroom"==this.pickerModel.get("source")){e.path,e.success,e.error;return e.filter=this.filter,e.sort=this.sort,this.imageSource=this.imageSource||new d(e),this.imageSource.getMetaData(e)}return"Google Photos"==this.pickerModel.get("source")?this._getGoogleMetadata(e):void 0},_getDropboxMetadata:function(e){e.path,e.success;var t=e.error;r.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new c(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)):t("user cancelled authentication")},_getGoogleMetadata:function(e){e.path,e.success;var t=e.error;a.isAuthenticated()||this.parentView.canReloadPage()?(this.imageSource=this.imageSource||new p(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)):t&&t("user cancelled authentication")},_getCCMetadata:function(e){e.path,e.success,e.error;this.imageSource=this.imageSource||new s(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)},_getCCLibrariesMetadata:function(e){this.imageSource=this.imageSource||new l(e),this.imageSource.setImageFilter(this.parentView.getImageFilter()),this.imageSource.getMetaData(e)},getFilter:function(){return this.filter},setFilter:function(e){this.filter=e},canSetFilter:function(){return"Lightroom"===this.pickerModel.get("source")&&this.crumbs.length>1},getSort:function(){return this.sort},setSort:function(e){this.sort=e},updateFilterability:function(){this.canSetFilter()?marvel.features.hasFeature("lightroom-picker-filters")&&this.$ele.addClass("filterable"):this.$ele.removeClass("filterable")},refresh:function(){var e=this.crumbs[this.crumbs.length-1],t=e.url;e.item&&(t=e.item.getFolderPath()),this._makeRequest(t,1)}}),f}.apply(t,n))||(e.exports=o)},701:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521),i(533),i(7),i(21),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";var l="https://"+window.location.host;function d(e){this.items=[],this.hostname=a.storageServer,this.received=0,this.path=null,this.start=null,this.metaDataHost="https://"+a.storageServer,this.metaDataUrl=this.metaDataHost}function c(e,t){this.parentPath=t,n.prototype._init.call(this,e)}return t.extend(d.prototype,o.prototype,{getMetaData:function(e,i){var n=[],a=(e.path&&/\/$/.test(e.path)?e.path:e.path+"/").replace(/^files\//,""),l=e.success,d=e.error,p=""===a?this.metaDataHost+"/files/":o.fusePath([this.metaDataHost,"/files/",a]),h=p+"?type=application%2Fvnd.adobe.directory%2Bjson&orderby=name";this.start=i,this.options=e,this.received=i?this.received:0;var u=function(e){var i=[];e.total_children&&(i=t.map(e.children,(function(e){return new c(e,a)})),this.received+=i.length,n=n.concat(i))}.bind(this);function g(e,t,i){u(e),e.total_children&&(this.start=e.children[e.children.length-1].modified),this.total_children=e.total_children,n.data={page:1,pages:1},l&&l(n,"success",i)}function m(e,t,i){console.warn("CC fail ",t,e,i),n.data={page:1,pages:1},d&&d("failure")}var f=function(){var e="?limit=20"+t.reduce(this._imageFilter.types,(function(e,t){return e+"&type="+encodeURIComponent(t)}),"")+"&orderby=modified&order=desc";i&&(e+="&start="+i),r.ajax(p+e,{beforeSend:function(e){return e.setRequestHeader("X-api-key",s.key),!0},dataType:"json"}).done(g.bind(this)).fail(m.bind(this))}.bind(this);function v(e,t,i){u(e),f()}r.getAccessToken().then(function(e){i?f():r.ajax(h,{beforeSend:function(e){return e.setRequestHeader("X-api-key",s.key),!0},dataType:"json"}).done(v.bind(this)).fail(m.bind(this))}.bind(this))},generateCrumbsForPath:function(e){var t=[],i=(e=e.replace(/https?\:\/\/[^\/]*\/files(\/.*)$/,"$1")).replace(/^\//,"").replace(/\/$/,"").split("/");"files"==i[0]&&i.splice(0,1);for(var o="",r=0,a=i.length;r<a;r++)o+="/"+i[r],t.push({label:i[r].replace(/\%20/g," "),path:this.metaDataHost+"/files"+o,item:n.createFolderItem("files"+o,o)});return t},getNextMetaData:function(){return this.getMetaData(this.options,this.start)},haveMoreMetaData:function(){return this.total_children>this.received}}),t.extend(c.prototype,n.prototype,{_parseData:function(){var e=this.data,t=o.fusePath([l,"/files/",this.parentPath]);e.path&&0===e.path.indexOf("files/")&&(e.path=null),this.links.preview.href="",this.isDir=/vnd\.adobe\.directory/.test(e.type),this.isDir?(this.links.folder={},this.links.folder.path=e.path?e.path:this.parentPath+e.name+"/",this.links.folder.filename=e.name):(this.links.thumb.href=e.path?e.path:t+e.name+"/:rendition;size=200",this.links.thumb.filename=e.name,this.links.preview.href=e.path?e.path:t+e.name+"/:rendition;size=512",this.links.preview.filename=e.name,this.links.original.href=e.path?e.path:t+e.name,this.links.original.filename=e.name,this.links.original.width=void 0,this.links.original.height=void 0,this.aspect={width:e.width,height:e.height})},getParentPath:function(){return this.parentPath.replace(/^\//,"")},getMimeType:function(){return this.data.type},getThumbHoverLabel:function(){return this.data.name}}),d}.apply(t,n))||(e.exports=o)},702:function(e,t,i){var n,o;n=[i(0),i(1),i(521),i(533),i(703)],void 0===(o=function(e,t,i,n,o){var r=o.default,a="https://"+window.location.host,s=["image/png","image/jpeg"];function l(e){this.items=[],this.received=0,this.path=e?e.path:null,this.success=e?e.success:null,this.failure=e?e.error:null,this.start=0,this.limit=20,this.selector="full",this.type="application/vnd.adobe.element.image+dcx",this.totalCount=0}function d(e,t){this.parentLibraryId=t,i.prototype._init.call(this,e)}function c(e){d.prototype._init.call(this,e)}return e.extend(l.prototype,n.prototype,{getMetaData:function(e){e&&(this.path=e.path,this.success=e.success,this.failure=e.error,this.start=0,this.items=[],this.received=0,this.totalCount=0);var t,i=this;this.path&&"/"!==this.path?(t={libraryId:this.path.includes("shared/")?this.path.split("/")[1]:this.path,start:this.start,limit:this.limit,selector:this.selector,type:this.type},r.getElementsFromLib(t).then((function(e){i._processData(e,i.path),i.items.data={page:1,pages:1},i.success&&""!==i.path&&"/"!==i.path&&i.success(i.items,"success",null)})).catch((function(e){marvel.logger.error("[ImageSourceCCL] error fetching CCL elements",e),i.failure&&i.failure()}))):(t={start:this.start,limit:this.limit,owner:"private,incoming",selector:"collaboration"},r.getLibraries(t).then((function(e){i._processData(e,i.path),i.items.data={page:1,pages:1},!i.success||""!=i.path&&"/"!=i.path||i.success(i.items,"success",null)})).catch((function(e){marvel.logger.error("[ImageSourceCCL] error fetching libraries",e),i.failure&&i.failure()})))},generateCrumbsForPath:function(e,t){return[{label:t,path:e,item:d.createFolderItem(e,t)}]},_processData:function(e,t){var i,n,o=[];if(this.totalCount=e.total_count,e.libraries?o=e.libraries:e.elements&&(o=e.elements),this.items=[],o.length){for(i=0;i<o.length;i++)o[i]&&((n=new d(o[i],t)).isDir||n.hasSupportedMimeType())&&this.items.push(n);this.received+=o.length}if(e._links.next){var r=e._links.next.href,a=r.substr(r.indexOf("?")),s=new URLSearchParams(a);s.get("start")&&(this.start=s.get("start"))}return this.items},haveMoreMetaData:function(){return this.received<this.totalCount},getNextMetaData:function(){return this.getMetaData()}}),e.extend(d.prototype,i.prototype,{_parseData:function(){if(this.links.preview.href="",this.isDir=this.data.assetSubType&&"library"===this.data.assetSubType,this.isDir)this.links.folder={},this.isShared=this.data.collaboration&&("incoming"===this.data.collaboration.state||"outgoing"===this.data.collaboration.state),this.links.folder.path=this.isShared?"shared/"+this.data.id:this.data.id,this.links.folder.filename=this.data.name,this.has_cover=!1;else{this.isShared=this.parentLibraryId&&this.parentLibraryId.includes("shared/");var e=function(e){var t;if(e)try{t=e.substr(e.indexOf("/adobe-libraries"));var i=e.split("adobe-libraries/")[1].split("/")[1];return a+"/image_assets"+t+"?asset_id="+i}catch(t){marvel.logger.warn("[ImageSourceCCL] Failed to construct Image Url. ccStorageUrl="+e,t)}return e}(this.data.thumbnail.rendition);this.links.thumb.href=e+"&size=200&mime=image/png",this.links.thumb.filename=this.data.name,this.links.preview.href=e+"&size=512&mime=image/png",this.links.preview.filename=this.data.name,this.setImageDetails(this.data)}},setImageDetails:function(t){var i,n=t.representations,o=!1,r=e.find(n,(function(e){return"primary"===e.relationship}));if(r)-1!==s.indexOf(r.type)?(this.mimeType=r.type,this.links.original.href=r.storage_href,o=!0):"application/vnd.adobe.library.link+dcx"===r.type&&-1!==s.indexOf(r.linktype)&&(this.mimeType=r.linktype,this.links.original.href=r.path,o=!0);else for(i=0;i<n.length;i++)if("rendition"===n[i].relationship&&-1!==s.indexOf(n[i].type)){r=n[i],this.mimeType=r.type,this.links.original.href=r.storage_href,o=!0;break}if(!o){this.mimeType="image/png";var a=t.thumbnail.rendition.split(";")[0];this.links.original.href=a+";size=3264"}r?(this.links.original.width=r.width,this.links.original.height=r.height,this.aspect={width:r.width,height:r.height}):marvel.logger.warn("[ImageSourceCCL] No primary or rendition representation found for element. ElementId="+t.id)},hasSupportedMimeType:function(){return-1!==s.indexOf(this.mimeType)},isShared:function(){return this.isShared},isCCL:function(){return!0},getParentPath:function(){return this.parentLibraryId},hasCover:function(){return this.has_cover},getFolderLabel:function(){return this.getFolderName()},getCover:function(){var e=t.defer();return e.reject("no cover image"),e.promise},getMimeType:function(){return this.mimeType}}),d.createFolderItem=function(e,t){return new c({path:e,label:t})},e.extend(c.prototype,d.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),l}.apply(t,n))||(e.exports=o)},703:function(e,t,i){"use strict";i.r(t);var n=i(1),o=i.n(n),r=i(7),a=i.n(r),s=i(4),l=i.n(s),d={fetch:function(e){var t=o.a.defer();return a.a.requiresAuth().then((function(){a.a.getAccessToken().then((function(i){var n=Object.assign({},e.headers);n=Object.assign(n,{authorization:"Bearer "+i,"x-api-key":l.a.key}),window.fetch(e.uri,{method:e.method||"GET",headers:new window.Headers(n),body:e.body}).then((function(e){if(e.status<300)204===e.status?t.resolve({ok:!0}):e.json().then((function(e){t.resolve(e)}));else if(401===e.status)t.reject(new Error("[CCLibraries] Request auth failed; errorCode:"+e.status+"; errorText:"+e.statusText)),a.a.clearScope(),window.marvel.events.trigger("spark-auth-failed");else{var i=new Error("[CCLibraries] Request failed; errorCode:"+e.status+"; errorText:"+e.statusText);i.statusCode=e.status,t.reject(i)}})).catch((function(e){t.reject(e)})).done()}))})),t.promise},getLibraries:function(e){var t=e||{},i={uri:"/libraries?start="+(t.start||0)+"&limit="+(t.limit||10)+"&selector="+(t.selector||"default")+"&owner="+(t.owner||"private"),method:"GET"};return this.fetch(i)},getElementsFromLib:function(e){var t=e||{};if(!t.libraryId)throw new Error("Missing required libraryId parameter");var i=t.orderBy||"-modified_date",n=t.start||0,o=t.limit||10,r=t.selector||"default",a="/libraries/"+t.libraryId+"/elements?orderBy="+i+"&start="+n+"&limit="+o+"&selector="+r;t.type&&(a+="&type="+encodeURIComponent(t.type));var s={uri:a,method:"GET"};return this.fetch(s)},createLibrary:function(e){var t={name:e},i={uri:"/libraries",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return this.fetch(i)},deleteLibrary:function(e){var t={uri:"/libraries/"+e,method:"DELETE"};return this.fetch(t)},createElement:function(e,t,i,n,o){var r={uri:"/libraries/"+e+"/elements",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,type:n,client:i,representations:o})};return this.fetch(r)},updateElementRepresentation:function(e,t,i,n,o){var r={uri:"/libraries/"+e+"/elements/"+t+"/representations",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,client:n,representations:o})};return this.fetch(r)},updateElementMetadata:function(e,t){var i={uri:"/libraries/"+e+"/elements/metadata",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({elements:t})};return this.fetch(i)},createRepresentation:function(e,t,i){var n="/libraries/"+e+"/representations/content",o={type:i},r=new FormData;r.append("Representation-Data",JSON.stringify(o)),r.append("Representation-Content",t);var a={uri:n,method:"POST",body:r};return this.fetch(a)},getElementFromLib:function(e,t){var i={uri:"/libraries/"+e+"/elements/"+t,method:"GET"};return this.fetch(i)}};t.default=d},704:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521),i(533),i(7),i(1),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";var l="https://"+window.location.host,d=l+"/lr_files";function c(e){this.items=[],this.received=0,this.filter="all"}function p(e){var t,i=e.replace(/^while \(1\) \{\}/,"");try{t=JSON.parse(i)}catch(e){console.warn("LR json data parse failed")}return t}function h(e){n.prototype._init.call(this,e)}return t.extend(c.prototype,o.prototype,{getMetaData:function(e,i){var n=[],o=e.path,a=e.success,s=e.error;if(this.nextHref=i?this.nextHref:null,i&&!this.nextHref&&m)m("no more assets");else{var c=function(e){e.assets&&e.assets.length&&(n=t.map(e.assets,(function(e){return new h(e)})),this.received+=n.length)}.bind(this),u=function(){var e,t={all:"pick%3Bunflagged%3Breject",picked:"pick","picked-unflagged":"pick%3Bunflagged"},n=this.options.sort?{"capture-descending":"captured_before=9999-01-01T00:00:00","capture-ascending":"captured_after=-0001-12-31T23:59:59",custom:"order_after=-"}[this.options.sort]:"capture-ascending",a=this.options.filter?t[this.options.filter]:t.all,s="?limit="+(this.options.limit||"20");marvel.features.hasFeature("lightroom-picker-filters")&&(s=s+"&flag="+a+"&"+n),e=i?l+"/lr_files"+this.nextHref:d+o+"/assets"+s,r.ajax(e,{dataType:"text"}).done(g.bind(this)).fail(m.bind(this))}.bind(this);o&&"/"!==o||i?(this.options=e,u()):this._getAlbumsUrl().then(function(t){this.options=e,this.received=i?this.received:0;var n=this.options.limit?"?limit="+this.options.limit:"",o=l+"/lr_files"+(i?this.nextHref:t+n);r.getAccessToken().then(function(e){r.ajax(o,{dataType:"text"}).done(f.bind(this)).fail(m.bind(this))}.bind(this))}.bind(this),(function(){s("fail")}))}function g(e,t,i){var o=p(e);o?(c(o),this.options.sort&&"capture-descending"===this.options.sort?(this.nextHref=o.links&&o.links.prev?o.links.prev.href:null,n.reverse()):this.nextHref=o.links&&o.links.next?o.links.next.href:null,n.data={page:1,pages:1},a&&a(n,"success",i)):s&&s("JSON parse failed")}function m(e,t,i){console.warn("Lightroom fail ",t,e,i),n.data={page:1,pages:1},s&&s("failure")}function f(e,i,o){var r=p(e);r?(r.albums&&r.albums.length&&(n=t.map(r.albums,function(e){return new h(e)}.bind(this)),this.received+=n.length,n.data={page:1,pages:1}),a&&a(n,"success",o)):s&&s("JSON parse failed")}},getNextMetaData:function(){return this.getMetaData(this.options,!0)},haveMoreMetaData:function(){return!!this.nextHref},_getAlbumsUrl:function(){var e=a.defer(),t=this;if(this.albumsHref)e.resolve(this.albumsHref);else{var i=l+"/lr_files/v1.0/catalogs?subtype=lightroom%3BX-lightroom";r.ajax(i,{beforeSend:function(e){return e.setRequestHeader("X-api-key",s.key),!0},dataType:"text"}).done((function(i,n,o){var r;i=i.replace(/^while \(1\) \{\}/,"");try{var a=JSON.parse(i);a&&a.catalogs&&a.catalogs.length?(r=t.albumsHref=a.catalogs[0].links["/rels/albums"].href||a.catalogs[0].links.self.href+"/albums",e.resolve(r)):e.reject("no catalog found")}catch(t){e.reject(t)}})).fail((function(e,t,i){console.warn("Failed to get catalog",t)}))}return e.promise},getAlbumCount:function(e){var t=a.defer(),i=d+e+"/assets/count";return r.ajax(i,{beforeSend:function(e){return e.setRequestHeader("X-api-key",s.key),!0},dataType:"text"}).done((function(e,i,n){var o;e=e.replace(/^while \(1\) \{\}/,"");try{var r=JSON.parse(e);r&&r.total_count?(o=r.total_count,t.resolve({albumCount:o})):t.reject("no album count")}catch(e){t.reject(e)}})).fail((function(e,i,n){console.warn("Failed to get album count",i),t.reject(n)})),t.promise}}),t.extend(h.prototype,n.prototype,{_parseData:function(){var e,t,i=this.data;this.links.preview.href="",this.isDir=/\:album\:[^\:]+$/.test(i.id),this.isDir?(this.links.folder={},this.links.folder.path=i.links.self.href,this.links.folder.filename=i.name,this.cover=i.cover,this.has_cover=!0):(e=i.links,t=t||(e["/rels/rendition_type/2048"]?e["/rels/rendition_type/2048"].href:void 0),this.links.thumb.href=e["/rels/rendition_type/thumbnail2x"]?e["/rels/rendition_type/thumbnail2x"].href:t,this.links.thumb.href=d+this.links.thumb.href,this.links.thumb.filename=i.name,this.links.preview.href=t,this.links.preview.href=d+t,this.links.preview.filename=i.name,this.links.original.href=d+t,this.links.original.filename=i.name,this.links.original.width=i.payload.width,this.links.original.height=i.payload.height,this.aspect={width:i.payload.width,height:i.payload.height},this.caption=i.payload.caption)},getMimeType:function(){return"image/"+this.data.subtype},hasCover:function(){return this.has_cover},getCover:function(){var e,t=a.defer(),i=l+"/lr_files",n=this.data;return this.hasCover()?this.cover&&this.cover.links&&this.cover.links["/rels/rendition_type/thumbnail2x"]?t.resolve(i+this.cover.links["/rels/rendition_type/thumbnail2x"].href):(e=i+n.links["/rels/album_assets"].href+"?limit=1&subtype=jpeg;png",r.ajax(e,{dataType:"text"}).done((function(n,o,r){var a,s=p(n);s&&s.assets&&s.assets.length?(a=s.assets[0],e=i+a.links["/rels/rendition_type/thumbnail2x"].href,t.resolve(e)):t.reject("no assets")})).fail((function(){t.reject("not available")}))):t.reject("no cover available"),t.promise},canSetFilter:function(){return!0}}),c}.apply(t,n))||(e.exports=o)},705:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521),i(533),i(7),i(566)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s="https://api.dropbox.com/2/files/list_folder",l="https://"+window.location.host+"/db_files",d="https://"+window.location.host+"/db_thumbnails";function c(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entries:[]}}function p(e){return"folder"===e[".tag"]}function h(e){n.prototype._init.call(this,e)}return t.extend(c.prototype,o.prototype,{getMetaData:function(i,n){var o,r=i.path,l=i.success,d=i.error,c=a.getToken(),h=n?"https://api.dropbox.com/2/files/list_folder/continue/":s;function u(e){return new Date(e)}function g(e){return(e.media_info&&e.media_info.metadata?e.media_info.metadata.time_taken:0)||e.client_modified||e.server_modified||0}this.start=0,this.options=i,this.path=r,n||(this.pages=0),c&&(o=n?JSON.stringify({cursor:this.data.cursor}):JSON.stringify({path:r||"",include_media_info:!0}),e.ajax({method:"POST",url:h,beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+c),!0},dataType:"json",data:o}).done(function(e,i,o){e=function(e){return e.entries&&e.entries.sort((function(e,t){if(p(e)&&!p(t))return-1;if(!p(e)&&p(t))return 1;if(p(e)&&p(t))return e.name.toLowerCase()<t.name.toLowerCase()?-1:1;var i=u(g(e)),n=u(g(t));return i>n?-1:i<n?1:0})),e}(e=function(e,i){return e.entries&&(e.entries=t.filter(e.entries,(function(e){return p(e)||function(e,t){var i=t.includesExtension(e.name.toLowerCase());return"file"===e[".tag"]&&i||e.media_info&&e.media_info.metadata&&"photo"===e.media_info.metadata[".tag"]}(e,i)}))),e}(e,this._imageFilter)),this.data=e,this._processData(e,0,r),this.page=n?++this.page:1,this.pages+=Math.ceil(e.entries.length/this.pageSize),this.items.data={page:this.page,pages:this.pages},l&&l(this.items,"success",o)}.bind(this)).fail(function(e,t,i){if(console.warn("Dropbox metadata failure",t,e,i),401===e.status&&/invalid_access_token/.test(e.statusText))return a.logout(),void a.getToken();this.items.data={page:1,pages:1},d&&d(e,t,i)}.bind(this)))},generateCrumbsForPath:function(e){for(var t=[],i=(e=e.replace(s,"")).replace(/^\//,"").replace(/\/$/,"").split("/"),o=(i[i.length-1],"/"),r=0,a=i.length;r<a;r++)o+=i[r],t.push({label:i[r].replace(/\%20/g," "),path:s+o,item:n.createFolderItem(o,o)});return t},_processData:function(e,t,i){var n,o=Math.min(this.pageSize+t,e.entries.length);if(this.items=[],e.entries){for(n=t;n<o;n++){var r=new h(e.entries[n],i);this.items.push(r)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.entries.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.data.has_more?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called wothout data available"),e)},haveMoreMetaData:function(){return this.start<this.data.entries.length||!!this.data.has_more}}),t.extend(h.prototype,n.prototype,{_parseData:function(){var e=this.data;this.links.preview.href="",this.isDir=p(e),this.isDir?(this.links.folder={},this.links.folder.path=e.path_lower,this.links.folder.filename=e.name):(this.links.thumb.href=d+e.path_lower+"?size=m",this.links.thumb.filename=e.name,this.links.preview.href=d+e.path_lower+"?size=l",this.links.preview.filename=e.name,this.links.original.href=l+e.path_lower,this.links.original.filename=name,e.media_info&&e.media_info.metadata&&e.media_info.metadata.dimensions?(this.links.original.width=e.media_info.metadata.dimensions.width,this.links.original.height=e.media_info.metadata.dimensions.height,this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0))},getParentPath:function(){var e=this.links.original.href.replace(/\/[^\/]*$/,"");return-1!=e.search(s)?"/"+e.replace(s,""):-1!=e.search(l)?e.replace(l,""):e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.name}}),c}.apply(t,n))||(e.exports=o)},706:function(e,t,i){var n,o;n=[i(1),i(3),i(0),i(8),i(707),i(708)],void 0===(o=function(e,t,i,n,o,r){"use strict";function a(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}return n.hasFeature("enable-google-picasa-api")?i.extend(a.prototype,o.prototype):n.hasFeature("enable-google-photo-api")?i.extend(a.prototype,r.prototype):marvel.logger.error("[ImageSourceGoogle] need to enable at least 1 google API!!!"),a}.apply(t,n))||(e.exports=o)},707:function(e,t,i){var n,o;n=[i(1),i(3),i(0),i(2),i(521),i(533),i(535)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s="https://picasaweb.google.com/data/feed/api/user/",l=(window.location.host,window.location.host,["AUTO BACKUP"]);function d(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function c(e){return e.category&&e.category.length&&/#album/.test(e.category[0].term)}function p(e,t){o.prototype._init.call(this,e),this.albumId=t}function h(e){p.prototype._init.call(this,e)}return i.extend(d.prototype,r.prototype,{getMetaData:function(e,n){var o,r=e.path,d=e.success,p=e.error,h=s,u=this;function g(e,t,o){var a=e.feed.entry?e.feed.entry.length:0;this.startIndex+=a,this.resultCountSoFar+=a,this.totalCount=a,e=function(e){if(e.feed.entry){e.feed.entry.sort((function(e,t){return new Date(e.updated.$t)>new Date(t.updated.$t)?-1:1}));var t=[];i.each(l,function(n){e.feed.entry=i.filter(e.feed.entry,function(e,i){return e.title.$t.toLowerCase()!=n.toLowerCase()||(t.push(e),!1)}.bind(u))}.bind(u)),t.length&&(e.feed.entry=t.concat(e.feed.entry))}return e}(e),this.data=e,this._processData(e,0,r),this.page=n?++this.page:1,this.pages+=Math.ceil(a/this.pageSize),this.items.data={page:this.page,pages:this.pages},d&&d(this.items,"success",o)}function m(e,t,o){var a=e.feed.entry?e.feed.entry.length:0;this.startIndex+=a,this.resultCountSoFar+=a,this.totalCount=e.feed.gphoto$numphotos.$t,e=function(e,t){return e.feed.entry&&(e.feed.entry=i.filter(e.feed.entry,(function(e){return c(e)||function(e,t){var i=e.media$group.media$content&&e.media$group.media$content.length?e.media$group.media$content[0].type.toLowerCase():null;return t.includesType(i)}(e,t)}))),e}(e,this._imageFilter),this.data=e,this._processData(e,0,r),this.page=n?++this.page:1,this.pages+=Math.ceil(a/this.pageSize),this.items.data={page:this.page,pages:this.pages},d&&d(this.items,"success",o)}function f(e,t,i){function n(){u.items.data={page:1,pages:1},p&&p(e,t,i)}console.warn("Google Photos metadata failure",t,e,i),401!==e.status&&404!==e.status?n():a.validateRefreshToken().then(function(e){n()}.bind(u)).catch((function(e){a.logout(),a.authenticate()}))}function v(e,i,n){o.then(function(o){t.ajax({url:e,data:{alt:"json-in-script",access_token:o,imgmax:"d",thumbsize:"288","max-results":100,"start-index":this.startIndex},jsonpCallback:"picasaCallback",dataType:"jsonp",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+o),e.setRequestHeader("GData-Version","2"),!0}}).done(i.bind(u)).fail(n.bind(u))}.bind(u)).catch((function(e){console.warn("getAccessToken failed",e),a.logout(),a.authenticate(),p&&p()}))}return o=a.getAccessToken(),this.start=0,this.options=e,this.path=r,n||(this.pages=0,this.startIndex=1,this.resultCountSoFar=0,this.totalCount=0),this.options=e,r&&"/"!==r||n?v(r,m,f):v(h+"default",g,f)},generateUrlForAlbumId:function(e){return s+a.getUserId()+"/albumid/"+e+"?alt=json-in-script"},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:p.createFolderItem(e,t)}]},_processData:function(e,t,i){var n,o=e.feed?e.feed.entry:null,r=o?Math.min(this.pageSize+t,o.length):0;if(this.items=[],o){for(n=t;n<r;n++){var a=new p(o[n],i);this.items.push(a)}this.received+=this.items.length,this.start=t+this.items.length}return this.items},getNextMetaData:function(){var e=[],t=this.options.success;return this.start<this.data.feed.entry.length?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.startIndex<this.totalCount?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return this.start<this.data.feed.entry.length||this.startIndex<this.totalCount}}),i.extend(p.prototype,o.prototype,{_parseData:function(){var e,t=this.data,n=t.media$group?t.media$group.media$thumbnail:null,o=n&&n.length?n[n.length-1].url:null;this.links.preview.href="",this.isDir=c(t),this.isDir?(this.links.folder={},(e=i.find(t.link,(function(e){return/#feed/.test(e.rel)})))&&(this.links.folder.path=e.href,this.links.folder.href=e.href),this.links.folder.filename=t.title.$t,this.has_cover=!0,this.links.cover={},this.links.cover.href=o):(this.links.thumb.href=o,this.links.thumb.filename=t.name,this.links.original.href=t.media$group.media$content[0].url,this.links.original.filename=t.name,t.gphoto$width?(this.links.original.width=parseInt(t.gphoto$width.$t),this.links.original.height=parseInt(t.gphoto$height.$t),this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0),t.media$group.media$description&&t.media$group.media$description.$t&&(this.caption=t.media$group.media$description.$t))},getParentPath:function(){return this.albumId},hasCover:function(){return this.has_cover},getCover:function(){var t=e.defer();this.data;return this.links&&this.links.cover&&this.links.cover.href?t.resolve(this.links.cover.href):t.reject("no cover available"),t.promise},getFolderLabel:function(){var e=this.getFolderName();return e&&"AUTO BACKUP"===e.toUpperCase()?"All Photos":e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.title.$t}}),p.createFolderItem=function(e,t){return new h({path:e,label:t})},i.extend(h.prototype,p.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),d}.apply(t,n))||(e.exports=o)},708:function(e,t,i){var n,o;n=[i(1),i(3),i(0),i(521),i(533),i(535)],void 0===(o=function(e,t,i,n,o,r){"use strict";var a="https://photoslibrary.googleapis.com",s=(window.location.host,window.location.host,20);function l(e){this.items=[],this.received=0,this.path=e?e.path:null,this.start=0,this.pageSize=20,this.data={entry:[]}}function d(e,t){n.prototype._init.call(this,e),this.albumId=t}function c(e){d.prototype._init.call(this,e)}return i.extend(l.prototype,o.prototype,{getMetaData:function(e,i,n){var o,l=e.path,d=e.success,c=e.error,p=this;function h(e,t,n){if(void 0===e.albums)return this.options.path="/all_photos",void this.getMetaData(this.options,!0,this.data.nextPageToken);var o=e.albums,r=o?o.length:0;this.startIndex+=r,this.resultCountSoFar+=r,this.totalCount=r,this.data=e,this._processData(e,0,l),this.page=i?++this.page:1,this.pages+=Math.ceil(r/this.pageSize),this.items.data={page:this.page,pages:this.pages},d&&d(this.items,"success",n)}function u(e,t,n){var o=e.mediaItems?e.mediaItems.length:0;this.startIndex+=o,this.resultCountSoFar+=o,this.data=e,this._processData(e,0,l),this.page=i?++this.page:1,this.pages+=Math.ceil(o/this.pageSize),this.items.data={page:this.page,pages:this.pages},d&&d(this.items,"success",n)}function g(e,t,i){function n(){p.items.data={page:1,pages:1},c&&c(e,t,i)}console.warn("Google Photos metadata failure",t,e,i),401!==e.status&&404!==e.status?n():r.validateRefreshToken().then(function(e){n()}.bind(p)).catch((function(e){r.logout(),r.authenticate()}))}return o=r.getAccessToken(),this.start=0,this.options=e,this.path=l,i||(this.pages=0,this.startIndex=1,this.resultCountSoFar=0,this.totalCount=0),this.nextPageToken=n||"",this.options=e,l&&"/"!==l?(l=/all_photos$/i.test(l)?"":l,function(e,i,n,a){o.then(function(o){marvel.logger.info("[GooglePhotoApi] requesting data from URL",e),t.ajax({url:e,method:"POST",data:JSON.stringify(i),dataType:"json",contentType:"application/json",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+o),!0}}).done(n.bind(p)).fail(a.bind(p))}.bind(p)).catch((function(e){console.warn("getAccessToken failed",e),r.logout(),r.authenticate(),c&&c()}))}(a+"/v1/mediaItems:search",{albumId:l,pageSize:s,pageToken:p.nextPageToken},u,g)):function(e,i,n,a){o.then(function(o){marvel.logger.info("[GooglePhotoApi] requesting data from URL",e),t.ajax({url:e,data:i,dataType:"json",beforeSend:function(e){return e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","Bearer "+o),!0}}).done(n.bind(p)).fail(a.bind(p))}.bind(p)).catch((function(e){console.warn("getAccessToken failed",e),r.logout(),r.authenticate(),c&&c()}))}(a+"/v1/albums",{pageSize:s,pageToken:p.nextPageToken},h,g)},generateUrlForAlbumId:function(e){return a+"/v1/albums/"+e},generateCrumbsForPath:function(e,t){return[{label:t,path:this.generateUrlForAlbumId(e),item:d.createFolderItem(e,t)}]},_processData:function(e,t,n){var o,r,a=[],s=0;if(e.albums?(a=e.albums,0===this.nextPageToken.length&&a.unshift({id:"all_photos",coverPhotoBaseUrl:a[0]?a[0].coverPhotoBaseUrl:"/",title:"All Photos"}),s=Math.min(this.pageSize+t,a.length)):e.mediaItems&&(a=i.filter(e.mediaItems,(function(e){return!!e.mediaMetadata.photo})),s=Math.min(this.pageSize+t,e.mediaItems.length)),this.items=[],a.length){for(o=t;o<s;o++)a[o]&&(r=new d(a[o],n),this.items.push(r));this.received+=this.items.length,this.start=t+this.items.length}return this.pageToken=e.pageToken?e.pageToken:"",this.items},_stillHasItems:function(){return this.data.albums&&this.start<this.data.albums.length||this.data.mediaItems&&this.start<this.data.mediaItems.length},getNextMetaData:function(){var e=[],t=this.options.success;return this.data.nextPageToken?this.getMetaData(this.options,!0,this.data.nextPageToken):this._stillHasItems()?(this.page++,(e=this._processData(this.data,this.start,this.path)).data={page:this.page,pages:this.pages},t&&t(e,"success"),e):this.startIndex<this.totalCount?this.getMetaData(this.options,!0):(console.warn("getNextMetadata called without data available"),e)},haveMoreMetaData:function(){return!!this.data.nextPageToken||(!!this._stillHasItems()||this.startIndex<this.totalCount)}}),i.extend(d.prototype,n.prototype,{_parseData:function(){var e=this.data,t="=w256-h192";this.links.preview.href="",this.isDir=function(e){return!(!e||!e.coverPhotoBaseUrl)}(e),this.isDir?(this.links.thumb.href=e.coverPhotoBaseUrl+t,this.links.folder={},this.links.folder.path=this.data.id,this.links.folder.href=e.id,this.links.folder.filename=e.title,this.has_cover=!1,"/"!==e.coverPhotoBaseUrl&&(this.has_cover=!0,this.links.cover={},this.links.cover.href=e.coverPhotoBaseUrl+t)):(this.links.thumb.href=e.baseUrl+t,this.links.thumb.filename=e.filename,this.links.original.href=e.baseUrl+"=d",this.links.original.filename=e.filename,e.mediaMetadata?(this.links.original.width=parseInt(e.mediaMetadata.width),this.links.original.height=parseInt(e.mediaMetadata.height),this.aspect={width:this.links.original.width,height:this.links.original.height}):(this.links.original.width=void 0,this.links.original.height=void 0,this.aspect=void 0),e.mediaMetadata.description&&(this.caption=e.mediaMetadata.description))},getParentPath:function(){return this.albumId},hasCover:function(){return this.has_cover},getCover:function(){var t=e.defer();return this.links&&this.links.cover&&this.links.cover.href?t.resolve(this.links.cover.href):t.reject("no cover available"),t.promise},getFolderLabel:function(){var e=this.getFolderName();return e&&"AUTO BACKUP"===e.toUpperCase()?"All Photos":e},getMimeType:function(){return this.data.mime_type},getThumbHoverLabel:function(){return this.data.filename}}),d.createFolderItem=function(e,t){return new c({path:e,label:t})},i.extend(c.prototype,d.prototype,{_parseData:function(){this.isDir=!0,this.links.folder={},this.links.folder.filename=this.data.label,this.links.folder.path=this.data.path}}),l}.apply(t,n))||(e.exports=o)},709:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(710),i(81),i(16)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";var l=i.Model.extend({defaults:{filter:"all"}});return o.extend({el:".image-picker-filter-dialog-overlay",events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel","click button.filter":"_handleFilterButton"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new l,t.extend(this,i.Events),this.model.set({filter:e.filter},{silent:!0})},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},_handleFilterButton:function(t){var i=e(t.target),n=i.data("filter");this.$el.find("button.filter").removeClass("checked"),i.addClass("checked"),this.handleCloseBtn(),this.model.set({filter:n})},render:function(){return this.$el.html(s.mustacheRender(r)),this.$el.find("button.filter").removeClass("checked"),this.$el.find("button.filter."+this.model.get("filter")).addClass("checked"),this}})}.apply(t,n))||(e.exports=o)},710:function(e,t){e.exports='<div class="picker-filter-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="picker-filter-dialog-shell mrvl-overlay-shell">\n\n    <h2 class="title">{{imagepicker-filter-title}}</h2>\n\n    <button class="filter all checked" data-filter="all">{{imagepicker-filter-show-all}}</button>\n    <button class="filter picked" data-filter="picked">{{imagepicker-filter-picked}}</button>\n    <button class="filter picked-unflagged" data-filter="picked-unflagged">{{imagepicker-filter-picked-and-unflagged}}</button>\n\n    <button class="x-close-btn">X</button>\n</div>\n'},711:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(712),i(81),i(16)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";var l=i.Model.extend({defaults:{sort:"all"}});return o.extend({el:".image-picker-sort-dialog-overlay",events:{"click .x-close-btn":"_handleCancel","click .mrvl-overlay-bg":"_handleCancel","click button.sort":"_handleSortButton"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),this.model=new l,t.extend(this,i.Events),this.model.set({sort:e.sort},{silent:!0})},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},_handleSortButton:function(t){var i=e(t.target),n=i.data("sort");this.$el.find("button.sort").removeClass("checked"),i.addClass("checked"),this.handleCloseBtn(),this.model.set({sort:n})},render:function(){return this.$el.html(s.mustacheRender(r)),this.$el.find("button.sort").removeClass("checked"),this.$el.find("button.sort."+this.model.get("sort")).addClass("checked"),this}})}.apply(t,n))||(e.exports=o)},712:function(e,t){e.exports='<div class="picker-sort-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="picker-sort-dialog-shell mrvl-overlay-shell">\n\n    <h2 class="title">{{imagepicker-sort-title}}</h2>\n\n    <button class="sort capture-ascending checked" data-sort="capture-ascending">{{imagepicker-sort-ascending}}</button>\n    <button class="sort capture-descending" data-sort="capture-descending">{{imagepicker-sort-descending}}</button>\n    <button class="sort custom" data-sort="custom">{{imagepicker-sort-custom}}</button>\n\n    <button class="x-close-btn">X</button>\n</div>\n'},713:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(81),i(16),i(714)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";return o.extend({events:{"click .db-logout-close-btn":"_handleCancel","click .db-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".dropbox-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===r.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){var e=a.getString("logout-confirm-product-name-dropbox");return this.$el.html(a.mustacheRender(s,{productName:e})),this}})}.apply(t,n))||(e.exports=o)},714:function(e,t){e.exports='<div class="db-logout-bg mrvl-overlay-bg">\n</div>\n<div class="db-logout-shell mrvl-overlay-shell">\n    <h2 class="db-logout-dialog-title">{{#fm}}logout-confirm-title{{/fm}}</h2>\n    <p class="db-logout-dialog-text">{{#fm}}logout-confirm-message{{/fm}}</p>\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">{{logout-confirm-button-cancel}}</button>\n        <button class="confirm-btn mrvl-btn">{{logout-confirm-button-disconnect}}</button>\n    </div>\n\n</div>\n'},715:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(81),i(16),i(716)],void 0===(o=function(e,t,i,n,o,r,a,s){"use strict";return o.extend({events:{"click .db-logout-close-btn":"_handleCancel","click .db-logout-bg":"_handleCancel","click .cancel-btn":"_handleCancel","click .confirm-btn":"_handleConfirmButton"},el:".google-logout-confirm-overlay",initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.trigger("cancel","user cancelled"),this.handleCloseBtn()},handleKeyup:function(e){e.keyCode===r.DOM_VK_ESCAPE&&this._handleCancel()},_handleConfirmButton:function(t){e(t.target);this.handleCloseBtn(),this.trigger("confirm","user confirmed")},render:function(){var e=a.getString("logout-confirm-product-name-google");return this.$el.html(a.mustacheRender(s,{productName:e})),this}})}.apply(t,n))||(e.exports=o)},716:function(e,t){e.exports='<div class="gp-logout-bg mrvl-overlay-bg">\n</div>\n<div class="gp-logout-shell mrvl-overlay-shell">\n    <h2 class="gp-logout-dialog-title">{{#fm}}logout-confirm-title{{/fm}}</h2>\n    <p class="gp-logout-dialog-text">{{#fm}}logout-confirm-message{{/fm}}</p>\n    <div class="mrvl-dlg-btn-area">\n        <button class="cancel-btn mrvl-btn">{{logout-confirm-button-cancel}}</button>\n        <button class="confirm-btn mrvl-btn">{{logout-confirm-button-disconnect}}</button>\n    </div>\n\n</div>\n'},717:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(16),i(30),i(260)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s=o.getString("license-stock-cancel"),l=o.getString("license-stock-default-title"),d={license:{title:o.getString("license-stock-license-title"),text:"{{#fmr}}license-stock-license-text{{/fmr}}",okText:{id:"license",text:o.getString("license-stock-button-license")}},notAllowedToPurchase:{title:o.getString("license-stock-not-allowed-to-purchase-title"),text:"{{purchaseMessage}}",isAlert:!0},cantSignUp:{title:o.getString("license-stock-cant-sign-up-title"),text:o.getString("license-stock-cant-sign-up-text"),okText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-take-me-to-stock")+"</a>",cancelText:o.getString("license-stock-button-close")},signUp:{title:o.getString("license-stock-signup-title"),text:o.getString("license-stock-signup-text"),okText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-take-me-to-stock")+"</a>",cancelText:o.getString("license-stock-button-close"),returnToStockLinkText:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-take-me-back-to-stock")+"</a>"},noCredits:{title:o.getString("license-stock-no-credits-title"),text:"<span>{{purchaseMessage}}&nbsp;&nbsp;<a class='learn-more-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-no-credits-text")+"</a></span>",okText:[{id:"license",text:o.getString("license-stock-button-license")}],linkEvent:{selector:".learn-more-link"}},alreadyLicensed:{title:o.getString("license-stock-already-licensed-title"),text:o.getString("license-stock-already-licensed-text"),okText:o.getString("license-stock-already-licensed-ok")},licensingFailed:{title:o.getString("license-stock-licensing-failed-title"),text:o.getString("license-stock-licensing-failed-text"),cancelText:o.getString("license-stock-button-close"),okText:"<a class='license-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-take-me-to-stock")+"</a>"},licensingFromStockSiteSucceded:{title:o.getString("license-stock-from-site-succeded-title"),text:o.getString("license-stock-from-site-succeded-text")},licensingFromStockSignUpSucceded:{title:o.getString("license-stock-signup-succeded-title"),text:o.getString("license-stock-signup-succeded-text")},signupReturnNoLicense:{title:o.getString("license-stock-signup-return-no-license-title"),okText:[{id:"checkAgain",text:o.getString("license-stock-signup-return-no-license-check-again")},{id:"returnToStock",text:"<a class='signup-link' href='{{details_url}}' target='_blank'>"+o.getString("license-stock-take-me-back-to-stock")+"</a>"}],text:"{{^referToStockSite}}"+o.getString("license-stock-signup-return-no-license-account-no-license")+"{{/referToStockSite}}{{#referToStockSite}}"+o.getString("license-stock-signup-return-no-license-no-account")+"{{/referToStockSite}}"},licenseStatusCheck:{text:o.getString("license-stock-status-check-text"),cancelText:o.getString("license-stock-status-check-cancel")},licenseStatusCheckError:{text:o.getString("license-stock-status-check-error-text")},licenseAndSignupSuccess:{text:"{{#fmr}}license-stock-license-and-signup-success{{/fmr}}"}},c=i.Model.extend({initialize:function(){t.bindAll(this,t.functionsIn(this))},showLicensingFlow:function(t){this._updateData(t),this._flowDeferred=n.defer();var i=d[this._displayType],o=this._parseSettings(i);return this._currentStrings=i,i.linkEvent&&(o.options.afterRenderCallback=function(e){e.find(i.linkEvent.selector).on("click",this._handleLinkClick.bind(this))}.bind(this)),this._showConfirm(o).then(function(t){t?"signUp"===this._displayType?this._handleSignupButton():"cantSignUp"===this._displayType?this._handleUserCancel():"license"!==t&&"alreadyLicensed"!==this._displayType||this._licenseCurrentStockAsset("alreadyLicensed"===this._displayType).then(function(e){this._flowDeferred.resolve(e)}.bind(this),function(t,i){this._parseAndShowConfirm(d.licensingFailed).then(function(n){n?(e(window).one("focus.stockassetview",this._returnedToWindowAfterStockDetail),this._waitingToReturn=!0,this._showChecking()):this._flowDeferred.reject(t,i)}.bind(this))}.bind(this)):this._handleUserCancel()}.bind(this)),this._flowDeferred.promise},_updateData:function(e){this._data=e,e.referToStockSite?this._displayType="signUp":e.notAllowedToPurchase?this._displayType="notAllowedToPurchase":e.license_type?this._displayType="alreadyLicensed":e["licenses-available"]?this._displayType="license":this._displayType="noCredits"},_licenseStockAsset:function(e){var t=n.defer();if(e.showProgress){var i=e.alreadyLicensed?o.getString("license-stock-progress-retrieving"):o.getString("license-stock-progress-licensing");r.showWaitView(i,"",{minHeight:269})}return a.licenseItem(e.imageId).then((function(i){var n={href:i.url,width:i.width,height:i.height,mimeType:i.mimeType,thumb:i.thumb,licenseType:i.licenseType};e.showProgress&&r.hide(),t.resolve(n,"licensed")})).fail((function(i){marvel.logger.error("licensing failed in licenseStockAsset",i),e.showProgress&&r.hide(),t.reject("licensing failed",i)})),t.promise},_licenseCurrentStockAsset:function(e){return this._licenseStockAsset({imageId:this._data.image_id,showProgress:!0,alreadyLicensed:e})},_handleLinkClick:function(t){var i=e(t.target);if(i.hasClass("disabled"))return t.preventDefault(),void t.stopPropagation();i.hasClass("learn-more-link")&&(i.addClass("disabled"),a.getStockAssetDetailsUrl(this._data.image_id).then((function(e){i.attr("href",e),i.removeClass("disabled")})))},handleCloseBtn:function(){this._waitingToReturn=!1,this._currentLicenseRequestPromise=null,e(window).off("focus.stockassetview",this.returnedToWindowAfterSignupButton)},_handleUserCancel:function(){this.handleCloseBtn(),this._flowDeferred.reject("cancel")},_applyNewlyLicensedImage:function(e,i){this._licenseCurrentStockAsset(!0).then(function(e){var n;if(this.referToStockSite?n=d.licenseAndSignupSuccess:i&&(n="string"==typeof i?{text:i}:i),n){var o=!1;this._parseAndShowConfirm(n).then(function(){o=!0}.bind(this)),t.delay((function(){o||r.hide()}),5e3)}this.handleCloseBtn(),this._flowDeferred.resolve(e)}.bind(this),function(e){r.hide(),this._flowDeferred.reject(e)}.bind(this))},_returnedToWindowAfterSignupButton:function(e){this._currentLicenseRequestPromise||this._checkForLicense()},_returnedToWindowAfterStockDetail:function(e){this._currentLicenseRequestPromise||this._checkForImageLicense()},_checkForImageLicense:function(){this._currentLicenseRequestPromise=a.getItemInfo(this._data.image_id).then(function(e){e.is_licensed?this._applyNewlyLicensedImage(e,d.licensingFromStockSiteSucceded):(r.hide(),this._handleUserCancel())}.bind(this),(function(e){r.hide(),this._handleUserCancel()}))},_getParsedText:function(i,n){var r;if(t.isString(i))return"<"===(r=o.mustacheRender(i,n)).charAt(0)&&(r=e(r)),r;if(Array.isArray(i)){var a=[];return t.each(i,(function(t){"<"===(r=o.mustacheRender(t.text,n)).charAt(0)&&(r=e(r)),a.push({id:t.id,text:r})})),a}return t.isObject(i)?("<"===(r=o.mustacheRender(i.text,n)).charAt(0)&&(r=e(r)),{id:i.id,text:r}):""},_parseSettings:function(e,t){return t=t||this._data,{title:this._getParsedText(e.title,t)||l,text:this._getParsedText(e.text,t),options:{cancelText:this._getParsedText(e.cancelText,t)||s,okText:this._getParsedText(e.okText,t),minHeight:269},isAlert:e.isAlert}},_parseAndShowConfirm:function(e,t){var i=this._parseSettings(e,t);return this._showConfirm(i)},_showConfirm:function(e){return e.isAlert?r.showAlert(e.title,e.text,e.options):r.showConfirm(e.title,e.text,e.options)},_checkForLicense:function(e){(e=e||{}).showChecking&&this._showChecking(),this._currentLicenseRequestPromise=a.getLicensesAvailable().then(function(e){return this._data["licenses-available"]=e.numLicenses,this._data.purchase_url=e.purchaseUrl,this._data.referToStockSite=e.requiresCheckout,this._data.purchaseMessage=e.purchaseMessage,this._data.notAllowedToPurchase=e.notAllowedToPurchase,this._currentLicenseRequestPromise?a.getItemInfo(this._data.image_id):n.reject("cancelled")}.bind(this)).then(function(e){if(!this._currentLicenseRequestPromise)return n.reject("cancelled");e.is_licensed?this._applyNewlyLicensedImage(e,d.licensingFromStockSignUpSucceded):(r.hide(),this._data.details_url=e.details_url,this._parseAndShowConfirm(d.signupReturnNoLicense).then(function(e){e?(this._currentLicenseRequestPromise=null,"checkAgain"===e?this._checkForLicense({showChecking:!0}):this._handleSignupButton()):this._handleUserCancel()}.bind(this)))}.bind(this)).catch(function(e){"cancelled"!==e&&(marvel.logger.error("error checking stock in stock asset view",e),this._parseAndShowConfirm(d.licenseStatusCheckError).then(function(e){e?(this._currentLicenseRequestPromise=null,this._checkForLicense({showChecking:!0})):this._handleUserCancel()}.bind(this)))}.bind(this))},_userCancelledWaiter:function(){this._currentLicenseRequestPromise=null,this.handleCloseBtn()},_showChecking:function(){var e=this._parseSettings(d.licenseStatusCheck);r.showCancelableWaitView(e.title,e.text,e.options).then(function(){this._userCancelledWaiter()}.bind(this))},_handleSignupButton:function(t){e(window).one("focus.stockassetview",this._returnedToWindowAfterSignupButton),this._waitingToReturn=!0,this._showChecking()}});return c.getMinHeightForConfirms=function(){return 269},c}.apply(t,n))||(e.exports=o)},718:function(e,t){e.exports='<div class="photo-picker">\n    <div class="picker-bar">\n        <div class="source-label" data-auto="image-picker-source-label"></div>\n        <div class="back-button" data-auto="image-picker-back-button"></div>\n        <div class="close-button" data-auto="image-picker-close-button"></div>\n        <div class="right-shared-icon hide"></div>\n    </div>\n    <div class="picker-wrapper" data-auto="image-picker-wrapper">\n        <div class="picker-home sp-picker">\n            <button class="local-file-button" data-auto="image-picker-button-local-file">{{imagepicker-browse-files}}<input class="local-file-input" data-auto="image-picker-local-file-input" type="file" accept="image/jpeg,image/png"/></button>\n\n            <div class="copy-url-wrapper hide">\n                <input class="copy-url-input" type="text" placeholder="shared Spark link" data-auto="copy-url-input"/>\n                <button class="copy-url-button"></button>\n            </div>\n            <div class="drag-and-drop-explainer-holder hide">\n                <div class="or-delimiter-wrap">\n                    <p class="or-delimiter">{{imagepicker-or}}</p>\n                </div>\n                <div class="drag-and-drop-explainer-multi-select">{{imagepicker-drop-multi-image-here}}</div>\n                <div class="drag-and-drop-explainer">{{imagepicker-drop-single-image-here}}</div>\n            </div>\n            <div class="or-delimiter-wrap">\n                <p class="or-delimiter">{{imagepicker-or}}</p>\n            </div>\n\n          <div class="picker-button-wrapper"><button class="search-button" data-auto="image-picker-button-search">{{imagepicker-find-free-photos}}</button></div>\n\n          <div class="picker-button-wrapper stock-search-button-wrapper">\n            <button class="stock-search-button" data-auto="image-picker-button-stock-search">{{imagepicker-source-adobe-stock}}\n            </button>\n          </div>\n\n            <div class="picker-button-wrapper cc-button-wrapper hide">\n              <button class="cc-button" data-auto="image-picker-button-cc"><span>{{imagepicker-source-creative-cloud}}</span></button>\n            </div>\n\n            <div class="picker-button-wrapper ccl-button-wrapper hide">\n              <button class="ccl-button" data-auto="image-picker-button-ccl">\n                <span>{{imagepicker-source-creative-cloud-libraries}}</span>\n                <span class="ccl-new-tag hide"></span>\n              </button>\n            </div>\n\n            <div class="picker-button-wrapper"><button class="lightroom-button" data-auto="image-picker-button-lightroom"><span>{{imagepicker-source-lightroom}}</span></button></div>\n\n          <div class="picker-button-wrapper dropbox-button-wrapper">\n              <div class="dropbox-button" data-auto="image-picker-button-dropbox">\n                <span class="dropbox-connect">\n                  {{imagepicker-source-dropbox-connect}}\n                </span>\n                <div class="image-source-with-disconnect">\n                  <div class="image-source-with-disconnect-source">\n                    {{imagepicker-source-dropbox}}\n                  </div>\n                  <div class="dropbox-logout">\n                    {{imagepicker-source-dropbox-disconnect}}\n                  </div>\n                </div>\n              </div>\n          </div>\n\n          <div class="picker-button-wrapper google-photos-button-wrapper hide">\n            <div class="google-photos-button" data-auto="image-picker-button-google-photos">\n              <span class="google-photos-connect">\n                {{imagepicker-source-google-photos-connect}}\n              </span>\n              <div class="image-source-with-disconnect">\n                <div class="image-source-with-disconnect-source">\n                  {{imagepicker-source-google-photos}}\n                </div>\n                <div class="google-photos-logout">\n                  {{imagepicker-source-google-disconnect}}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="picker-button-wrapper google-drive-button-wrapper hide">\n            <div class="google-drive-button" data-auto="image-picker-button-google-drive">\n              <span class="google-photos-connect">\n                {{imagepicker-source-google-drive-connect}}\n              </span>\n              <div class="image-source-with-disconnect">\n                <div class="image-source-with-disconnect-source">\n                  {{imagepicker-source-google-drive}}\n                </div>\n                <div class="google-photos-logout">\x3c!-- logout happens for both photo & drive --\x3e\n                  {{imagepicker-source-google-disconnect}}\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n        <div class="dooplo-picker sp-picker show-image-sources">\n            <div class="dooploSearchEntry">\n                <div class="search-text-hint">{{imagepicker-search-for-photo}}...</div>\n              <div class="search-text-wrapper">\n                <input class="search-text" value="" data-auto="image-picker-dooplo-search-field"/>\n              </div>\n              <button class="execute-search-button"></button>\n              <div class="dooplo-search-dropdown">\n                <div class="dooplo-search-dropdown-aligner"></div>\n              </div>\n\n            </div>\n            <div class="results">\n              <div id="results-without-bing" class="clearfix">\n                  <div class="search-sources"></div>\n                  <div class="left column"></div>\n                  <div class="right column"></div>\n\n              </div>\n              <div id="results-bing-only" class="clearfix hide">\n                <div class="search-sources"></div>\n                <div class="privacy-sources"><a href="https://go.microsoft.com/fwlink/?LinkId=521839" target="_blank">{{imagepicker-microsoft-privacy-statement}}</a></div>\n                <div class="left column"></div>\n                <div class="right column"></div>\n              </div>\n              <div class="search-progress hide">\n                  <div class="spinner"></div>\n                  <p class="content"></p>\n                </div>\n                <div class="search-failure hide">\n                  <p class="content">{{imagepicker-oops}}</p>\n                  <p class="error-detail">{{{imagepicker-search-error-message}}}</p>\n                </div>\n                <p class="no-results no-results-suggest-pixabay hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-pixabay}}</p>\n                <p class="no-results no-results-suggest-flickr hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-flickr}}</p>\n                <p class="no-results no-results-no-suggest-flickr hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</p>\n                <p class="flickr-more-results hide">{{imagepicker-search-want-more-results}}<br/>{{imagepicker-search-want-more-results-desc}}</p>\n                <p class="pixabay-more-results hide">{{imagepicker-search-want-more-results}}<br/>{{imagepicker-search-want-more-results-pixabay}}</p>\n                <div class="picker-bumper hide"></div>\n            </div>\n          <div class="search-info hide">{{imagepicker-search-info-photo}}\n            {{{imagepicker-search-info-photo-link-text}}}\n          </div>\n          <div class="search-sources hide"></div>\n          <div class="more-to-come hide"></div>\n        </div>\n        <div class="dooplo-icon-picker sp-picker show-image-sources">\n            <div class="dooploSearchEntry">\n              <div class="search-text-hint">{{imagepicker-search-for-icon}}...</div>\n              <div class="search-text-wrapper">\n                <input class="search-text" value=""/>\n              </div>\n              <button class="execute-search-button"></button>\n            </div>\n            <div class="results">\n              <div class="left column"></div>\n              <div class="search-progress hide">\n                <div class="spinner"></div>\n                <p class="content"></p>\n              </div>\n              <p class="no-results hide">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</p>\n              <div class="picker-bumper hide"></div>\n            </div>\n          <div class="search-info hide">{{imagepicker-search-info-icon}} {{#fmr}}imagepicker-search-info-icon-link-text{{/fmr}}\n          </div>\n          <div class="search-sources hide"></div>\n          <div class="more-to-come hide"></div>\n        </div>\n      <div class="stock-picker sp-picker">\n          <div class="stockViewTypeTabs">\n              <button class="stockShowSearchButton">{{imagepicker-search-stock}}</button>\n              <button class="stockShowLicenseHistoryButton">{{imagepicker-licensed-images}}</button>\n            </div>\n          <div class="stockSearchEntry">\n              <div class="search-text-hint">{{imagepicker-search-for-photo}}...</div>\n            <div class="search-text-wrapper">\n              <input class="search-text" value="" data-auto="image-picker-stock-search-field"/>\n            </div>\n            <button class="execute-search-button"></button>\n          </div>\n        <div class="stockLicenses calculating noSearch fromNoSearch">{{imagepicker-standard-assets-remaining}} <span class="count"></span></div>\n        <div class="stockLicenses calculating search fromNoSearch">{{imagepicker-standard-assets-remaining}} <span class="count"></span></div>\n          <div class="results">\n              <div class="left column"></div>\n              <div class="right column"></div>\n            <div class="search-progress hide">\n              <div class="spinner"></div>\n              <p class="content"></p>\n            </div>\n            <div class="search-failure hide">\n              <p class="content">{{imagepicker-oops}}</p>\n              <p class="error-detail">{{{imagepicker-search-error-message}}}</p>\n            </div>\n            <p class="no-results hide"><span class="no-results-search">{{imagepicker-search-no-results}}<br/>{{imagepicker-search-no-results-desc}}</span><span class="no-results-history"><span class="no-results-history-title">{{imagepicker-no-licensed-images}}</span><br/>{{{imagepicker-search-adobe-stock}}}</span></p>\n            <div class="picker-bumper hide"></div>\n          </div>\n        <div class="search-info hide">{{imagepicker-search-info-stock}}<br/>\n          {{#fmr}}imagepicker-search-info-stock-link-text{{/fmr}}\n        </div>\n        <div class="more-to-come hide"></div>\n      </div>\n        <div class="creative-cloud-picker sp-picker">\n          <div class="results-carrier">\n            <div class="results">\n              <div class="folders"></div>\n              <div class="left column"></div>\n              <div class="right column"></div>\n              <div class="no-photos hide"><h2>{{imagepicker-no-files}}</h2>\n                <p>{{imagepicker-no-files-creative-cloud}}</p>\n                <div class="learn-more"><a href="https://helpx.adobe.com/creative-cloud/help/sync-files.html" target="_blank">{{imagepicker-learn-more}}</a></div>\n              </div>\n              <div class="picker-bumper"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class="creative-cloud-libraries-picker sp-picker">\n            <div class="results-carrier">\n                <div class="results">\n                    <div class="folders"></div>\n                    <div class="left column"></div>\n                    <div class="right column"></div>\n                    <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n\n                    <div class="no-libraries hide">\n                      <div class="no-libraries-image"></div>\n                      <div class="no-libraries-title-text">{{imagepicker-ccl-no-libraries-title}}</div>\n                      <p class="no-libraries-body-text">{{imagepicker-ccl-no-libraries-body}}</p>\n                      <div class="libraries-learn-more"><a href="https://www.adobe.com/creativecloud/libraries.html" target="_blank">{{imagepicker-ccl-no-libraries-learn-more}}</a></div>\n                    </div>\n\n                    <div class="picker-bumper"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="lightroom-picker sp-picker">\n          <div class="results-wrapper">\n            <div class="results-carrier">\n              <div class="results">\n                <div class="folders"></div>\n                <div class="left column"></div>\n                <div class="right column"></div>\n                <div class="no-photos hide"><h2>{{imagepicker-no-files-lightroom}}</h2>\n                  <p>{{imagepicker-no-files-lightroom-desc}} <a class="learn-more"href="https://lightroom.adobe.com" target="_blank">{{imagepicker-learn-more}}</a></p>\n                </div>\n                <div class="picker-bumper"></div>\n              </div>\n            </div>\n          </div>\n          <div class="buttons-wrapper">\n            <button class="filter">{{imagepicker-filter}}</button>\n            <button class="sort">{{imagepicker-sort}}</button>\n          </div>\n        </div>\n      <div class="dropbox-picker sp-picker">\n        <div class="results-carrier">\n          <div class="results">\n            <div class="folders"></div>\n            <div class="left column"></div>\n            <div class="right column"></div>\n            <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n            <div class="picker-bumper"></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="google-photos-picker sp-picker">\n        <div class="results-carrier">\n          <div class="results">\n            <div class="folders"></div>\n            <div class="left column"></div>\n            <div class="right column"></div>\n            <div class="no-photos hide">{{imagepicker-no-photos-folder}}</div>\n            <div class="picker-bumper"></div>\n          </div>\n        </div>\n      </div>\n        <div class="more-to-come shared"></div>\n    </div>\n    <div class="picker-progress hide">\n        <div class="spinner"></div>\n        <div class="content"></div>\n    </div>\n\n</div>\n<div class="lightroom-importer-wrapper hide"></div>\n<div class="image-picker-filter-dialog-overlay hide"></div>\n<div class="image-picker-sort-dialog-overlay hide"></div>\n<div class="dropbox-logout-confirm-overlay hide"></div>\n<div class="google-logout-confirm-overlay hide"></div>\n'},719:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(4),i(16),i(87),i(554),i(720),i(721)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c){"use strict";function p(e,t){this._init(e,t)}function h(e,t){var i,n,o,r,a=e.assetSources?e.assetSources[t.id]:null;if(a&&a.search&&a.search.predicates)for(o=a.search.predicates,i=0;o.terms&&i<o.terms.length;i++)for(r=o.terms[i],n=0;"text"===r.type&&r.fields&&n<r.fields.length;n++)if("albumName"===r.fields[n])return r.query;return null}function u(e,t){var i=e.assetSources?e.assetSources[t.id]:null,n=null;return i&&i.search&&i.search.sort&&(n=i.search.sort),n}function g(e,t){var i,n,o,r,a=e.assetSources?e.assetSources[t.id]:null,s=[];if(a&&a.search&&a.search.predicates)for(o=a.search.predicates,i=0;o.terms&&i<o.terms.length;i++)for(r=o.terms[i],n=0;"text"===r.type&&r.fields&&n<r.fields.length;n++)"review"===r.fields[n]&&s.push(r);return s}return e.extend(p.prototype,l.prototype,{show:function(t){var i,n=this.$ele,l=e("<iframe>");if(!this.$ele.children().length){this.options=this.options||{},this.options.multiSelect=t.multiSelect,i=window.marvel.settings.lightroomImporter;var d=a.getLocale(),p=s.getAppLocale("lightroom",d,"en-US"),h=function(e){if(console.log("message event  received:",e),"LRImporter ready"===e.data.message){var t=n.find("iframe")[0].contentWindow;o.getAccessToken().then(function(e){t.handlers.setImagePickerContext({view:this,imsStack:"stage",imsToken:e,apiKey:r.key,environment:i,lightroomLocale:p,albumName:this.albumName,singleSelect:!this.options.multiSelect,searchFilters:this.searchFilters,searchOrder:this.searchOrder})}.bind(this)).catch(function(e){this.$ele.addClass("hide").children().remove()}.bind(this)),window.removeEventListener("message",h)}}.bind(this);window.addEventListener("message",h,!1),marvel.features.hasFeature("lightroom-importer-overlay")?(this.lightroomImporterView=new c,this.lightroomImporterView.on("cancel",function(){this.importLightroom()}.bind(this)),this.lightroomImporterView.showOverlay()):(l[0].src="/marvel-core/lightroomImporter.html",n.append(l),n.removeClass("hide"))}},getLastCrumb:function(){return null},jumpTo:function(e,t,i){this.albumName=e,this.show(i)},hide:function(){this.$ele.addClass("hide").children().remove()},importLightroom:function(e){var t,i,n,o=[];if(this.hide(),this.lightroomImporterView&&(this.lightroomImporterView.hideOverlay(),this.lightroomImporterView.off("cancel"),this.lightroomImporterView=null),e&&e.resources&&e.resources.length){for(t=this.options.multiSelect?e.resources.length:1,i=0;i<t;i++){var r=e.resources[i].asset;(n=new d(this.ozV1AssetFromOzV2Asset(e,r))).albumName=h(e,r),o.push(n),this.searchFilters=g(e,r),this.searchOrder=u(e,r)}this._userCallback&&this._userCallback(o)}},_loadLrSDK:function(){var e=n.defer(),t=document.createElement("script");t.onload=function(){e.resolve()},t.onerror=function(){e.reject(new Error("LightroomPicker::_loadLrSDK"))};var i=window.marvel.settings.lightroomImporter||"prod";return t.src="stage"===i?"https://stage.adobelr.com/sdk/lr-sdk.js":"https://lightroom.adobe.com/sdk/lr-sdk.js",document.body.appendChild(t),e.promise},_initLrSDK:function(){return o.getAccessToken().then((function(e){return window.LrSDK.initializeP({clientId:"MarvelWeb1",token:e,environment:window.marvel.settings.lightroomImporter||"prod"},"importer","catalog")}))},ensureLrSDKIsAvailable:function(){return this._LrSDKLoadedPromise||(window.LrSDK?this._LrSDKLoadedPromise=this._initLrSDK():this._LrSDKLoadedPromise=this._loadLrSDK().then(function(){return this._initLrSDK()}.bind(this))),this._LrSDKLoadedPromise},ozV1AssetFromOzV2Asset:function(e,t){var i,n=1280,o=960,r=t.payload.develop;if(r&&r.croppedWidth>0&&r.croppedHeight>0)n=r.croppedWidth,o=r.croppedHeight;else{var a=t.payload.importSource;a.originalWidth>0&&a.originalHeight>0&&(n=a.originalWidth,o=a.OriginalHeight)}var s=t.payload.xmp;s&&s.dc&&(i=s.dc.description);var l=/^https?:\/\/[a-z\-\:0-9.]+\/v2/,d="/v1.0";var c,p={id:t.id,subtype:t.subtype,payload:(c={width:n,height:o},i&&(c.caption=i),c),links:function(){var i="",n=l.exec(e.base);n&&(i=e.base.replace(n[0],d));var o={},r=t.links["/rels/rendition_type/2048"]?t.links["/rels/rendition_type/2048"].href:void 0;return r&&(o["/rels/rendition_type/2048"]={href:i+r}),(r=t.links["/rels/rendition_type/thumbnail2x"]?t.links["/rels/rendition_type/thumbnail2x"].href:void 0)&&(o["/rels/rendition_type/thumbnail2x"]={href:i+r}),o}()};if(t.largeRenditionRequestData){var h=JSON.parse(t.largeRenditionRequestData);p.largeRenditionRequest=function(){return this.ensureLrSDKIsAvailable().then((function(){return window.LrSDK.catalog.get2560RenditionRelativeUrlP(h.base,h.asset)})).then((function(e){var t=h.base.replace(l,d);return"https://"+window.location.host+"/lr_files"+t+e}))}.bind(this)}return p}}),p}.apply(t,n))||(e.exports=o)},720:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(521),i(533),i(7),i(1)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s="https://"+window.location.host,l=s+"/lr_files";function d(e){n.prototype._init.call(this,e)}return t.extend(d.prototype,n.prototype,{_parseData:function(){var e,t,i=this.data;this.links.preview.href="",this.isDir=/\:album\:[^\:]+$/.test(i.id),this.isDir?(this.links.folder={},this.links.folder.path=i.links.self.href,this.links.folder.filename=i.name,this.cover=i.cover,this.has_cover=!0):(e=i.links,t=t||(e["/rels/rendition_type/2048"]?e["/rels/rendition_type/2048"].href:void 0),this.links.thumb.href=e["/rels/rendition_type/thumbnail2x"]?e["/rels/rendition_type/thumbnail2x"].href:t,this.links.thumb.href=l+this.links.thumb.href,this.links.thumb.filename=i.name,this.links.preview.href=t,this.links.preview.href=l+t,this.links.preview.filename=i.name,this.links.original.href=l+t,this.links.original.filename=i.name,this.links.original.width=i.payload.width,this.links.original.height=i.payload.height,this.aspect={width:i.payload.width,height:i.payload.height},this.caption=i.payload.caption,this.largeRenditionRequest=i.largeRenditionRequest)},getMimeType:function(){return"image/"+this.data.subtype},hasCover:function(){return this.has_cover},getCover:function(){var e,t=a.defer(),i=s+"/lr_files",n=this.data;return this.hasCover()?this.cover&&this.cover.links&&this.cover.links["/rels/rendition_type/thumbnail2x"]?t.resolve(i+this.cover.links["/rels/rendition_type/thumbnail2x"].href):(e=i+n.links["/rels/album_assets"].href+"?limit=1&subtype=jpeg;png",r.ajax(e,{dataType:"text"}).done((function(n,o,r){var a,s=function(e){var t,i=e.replace(/^while \(1\) \{\}/,"");try{t=JSON.parse(i)}catch(e){console.warn("LR json data parse failed")}return t}(n);s&&s.assets&&s.assets.length?(a=s.assets[0],e=i+a.links["/rels/rendition_type/thumbnail2x"].href,t.resolve(e)):t.reject("no assets")})).fail((function(){t.reject("not available")}))):t.reject("no cover available"),t.promise},canSetFilter:function(){return!0}}),d}.apply(t,n))||(e.exports=o)},721:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(173),i(722),i(81)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";return o.extend({el:".lightroom-importer-wrapper",events:{"click .lightroom-importer-bg":"_handleCancel"},initialize:function(e){t.bindAll(this,t.functionsIn(this)),t.extend(this,i.Events)},_handleCancel:function(){this.hideOverlay(),this.trigger("cancel","user cancelled")},handleKeyup:function(e){e.keyCode===a.DOM_VK_ESCAPE&&this._handleCancel()},render:function(){var e=window.marvel.settings.lightroomImporter;return this.$el.html(r.toString()),this.$el.find("iframe")[0].src="/marvel-core/lightroomImporter.html?env="+e,this}})}.apply(t,n))||(e.exports=o)},722:function(e,t){e.exports='<div class="lightroom-importer-bg mrvl-overlay-bg">\n</div>\n<div class="lightroom-importer-dialog-shell mrvl-overlay-shell">\n  <iframe></iframe>\n</div>\n'},723:function(e,t,i){var n,o;n=[i(3),i(0),i(2)],void 0===(o=function(e,t,i){"use strict";return i.Model.extend({defaults:{label:"",picker:null,page:null,source:""}})}.apply(t,n))||(e.exports=o)},724:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(558),i(725),i(726),i(9),i(16),i(87),i(4)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d,c){"use strict";return o.extend({initialize:function(){o.prototype.initialize.call(this),t.bindAll(this,t.functionsIn(this)),this.zoomInOut=!0,this.on("cancel",(function(){this.close()})),this._productName=s.getProductName()},imageAttributesEvent:function(e){"close"===e.type?this.close():"move"===e.type&&this.move(e.location)},close:function(){if(this._registeredModEvent&&(marvel.events.off("image-attributes-event",this.imageAttributesEvent.bind(this)),this._registeredModEvent=!1),this.hideOverlay(),this._defer){var e=this._defer;this._defer=null,e.resolve("popup-dismissed")}},handleLicensingStage:function(e,t){"licensing"===e?(marvel.logger.debug("License Me!",this.info),this.hideOverlay()):"licensed"===e?this.options.licenseUpdatedCallback?(this.options.licenseUpdatedCallback(t,this.info),this._defer.resolve("licensed")):this._defer.resolve({newItemInfo:t,info:this.info,changeType:"licensed"}):"licensing-rejected"===e?"licensing cancelled"===t?this._defer.resolve("popup-dismissed"):this._defer.reject(t):"error"===e&&(marvel.logger("License me failed!",this.info),this._defer.reject(t))},showOverlayWithData:function(e,t){this._registeredModEvent||(marvel.events.on("image-attributes-event",this.imageAttributesEvent.bind(this)),this._registeredModEvent=!0);var i=e.info,n="GIPHY"==i.license.source_name,o=n?"attribution-copyright-info-giphy":"attribution-copyright-info",a=n?c.giphyBaseUrl+i.license.owner:"#",s=!n,p=n,h=l.getLocale(),u={owner:i.license.owner,ownerUrl:a,photoName:i.license.photo_name,sourceName:i.license.source_name,licenseType:l.formatMessage("attribution-license-types",{licenseType:i.license.type}),attributionOriginalSourceUri:i.license.source_url||"#",showLicenseField:s,showlinkToCreatorPage:p,copyrightInfoText:l.formatMessage(o,{copyrightUrl:d.getLocalizedURL("https://adobe.com/legal/permissions/image-notice.html",h)}),attributionLicenseText:l.formatMessage("attribution-license-text",{licenseUrl:d.getLocalizedURL("https://stock.adobe.com/license-terms",h)})};this.update(e),this.afterRenderCallback=this.updateAfterRender.bind(this),this.template=l.mustacheRender(r,u),this.showOverlay(this),this._defer=t},isShowing:function(){return!this.$el.hasClass("hide")},handleLicensing:function(){var e=this.info.license,t={image_id:e.image_id,owner:e.owner,photo_name:e.photo_name,source_name:e.source_name,license_type:e.type};this.handleLicensingStage("licensing"),this.imagePickerView.licenseStockAsset(t).then(function(e){this.handleLicensingStage("licensed",e),s.trackEvent("StockAssetLicensingSuccess",{contextData:["projectId"]},this._productName+":editor")}.bind(this),function(e){this.handleLicensingStage("licensing-rejected",e),"licensing cancelled"===e?s.trackEvent("StockAssetLicensingCancelled",{contextData:["projectId"]},this._productName+":editor"):s.trackEvent("StockAssetLicensingFailed",{contextData:["projectId"]},this._productName+":editor")}.bind(this))},handleShowOriginalStockSource:function(e){var t=this.$el.find(".original_source");if(t.hasClass("disabled"))e.preventDefault();else{t.addClass("disabled");var i={image_id:this.info.license.image_id};this.imagePickerView.getStockAssetDetailUrl(i).then((function(e){t.attr("href",e),t.removeClass("disabled")})).done()}},updateAfterRender:function(){var e=this.info.license;if(this.$el.hasClass("auto-height")||(this.$el.addClass("auto-height"),this.imagePickerView.isLicenseForStock(e)||this.contentModified()),!this.imagePickerView.isLicenseForStock(e))return!1;var t=this.$el.find(".original_source"),i=this.$el.find(".license_wrapper"),n={image_id:e.image_id};return this.licenseHandlerObjects||(this.licenseHandlerObjects={}),this.on("cancel",(function(){this.licenseHandlerObjects&&(this.licenseHandlerObjects.$buttonWrapper&&this.licenseHandlerObjects.$buttonWrapper.off("click"),this.licenseHandlerObjects.$originalSource.off("click"),this.licenseHandlerObjects=null)})),i.removeClass("hide"),this.$el.find(".copyright_info").addClass("hide"),"royalty_free"===e.type?(i.find(".license_photo_button").on("click",function(){s.trackEvent("LicenseBtnClickedOnAtrView",{contextData:["projectId"]},this._productName+":editor"),this.handleLicensing()}.bind(this)).removeClass("hide"),this.licenseHandlerObjects.$buttonWrapper=i):i.find(".license_photo_button").addClass("hide"),t.addClass("disabled"),t.on("click",this.handleShowOriginalStockSource.bind(this)),this.imagePickerView.getStockAssetDetailUrl(n).then((function(e){t.attr("href",e).removeClass("disabled")})).done(),this.licenseHandlerObjects.$originalSource=t,this.contentModified(),!0}})}.apply(t,n))||(e.exports=o)},725:function(e,t){e.exports='<div class="attribution-dialog-bg mrvl-overlay-bg">\n</div>\n<div class="attribution-dialog-shell mrvl-overlay-shell">\n\n  <div class="pointer"></div>\n  <h2 class="photo_name">{{photoName}}</h2>\n\n  {{#showlinkToCreatorPage}}\n  <p><span class="by label">{{attribution-label-by}} </span>\n    <span class="owner"><a class="original_source" href="{{ownerUrl}}" target="_blank">{{owner}}</a></span>\n  </p>\n  {{/showlinkToCreatorPage}}\n  {{^showlinkToCreatorPage}}\n  <p><span class="by label">{{attribution-label-by}} </span>\n    <span class="owner">{{owner}}</span>\n  </p>\n  {{/showlinkToCreatorPage}}\n\n  <p><span class="source label">{{attribution-label-source}} </span>\n    <span class="source_name">{{sourceName}}</span>\n  </p>\n\n  {{#showLicenseField}}\n  <p>\n      <span class="license_type">{{licenseType}}</span>\n  </p>\n  {{/showLicenseField}}\n\n  <p class="original_source_wrapper"><a class="original_source" href="{{attributionOriginalSourceUri}}" target="_blank">{{attribution-original-source-link}}</a></p>\n\n  <p class="copyright_info">{{{copyrightInfoText}}}</p>\n  <div class="license_wrapper hide">\n    <p class="license_wrapper-text">{{{attributionLicenseText}}}</p>\n    <button class="license_photo_button">{{attribution-license-button}}</button>\n  </div>\n</div>\n'},726:function(e,t,i){var n=i(727);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},727:function(e,t,i){(e.exports=i(91)(!1)).push([e.i,".attribution-dialog-bg.mrvl-overlay-bg{background-color:transparent}.attribution-dialog-overlay.auto-height .mrvl-overlay-shell.attribution-dialog-shell{height:auto}.attribution-dialog-overlay.zoomInOut .mrvl-overlay-shell.attribution-dialog-shell{transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transform:translate(-50%) scale(1);transform:translate(-50%) scale(1)}.attribution-dialog-overlay.zoomInOut .mrvl-overlay-shell.attribution-dialog-shell.no-transition{transition:none}.attribution-dialog-overlay.zoomInOut.transitioned-out .mrvl-overlay-shell.attribution-dialog-shell{-webkit-transform:translate(-50%) scale(0);transform:translate(-50%) scale(0)}.attribution-dialog-overlay.generic .mrvl-overlay-shell.attribution-dialog-shell p .label{color:#284660;font-size:12px}.mrvl-overlay-shell.attribution-dialog-shell{height:244px;width:222px;border-radius:6px;font-family:adobe-clean,Helvetica Neue,Helvetica,Arial,sans-serif;padding:15px 15px 20px;margin:0;text-align:left;-webkit-transform:translate(-50%);transform:translate(-50%);box-sizing:border-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 0 8px 0 rgba(0,0,0,.1)}.mrvl-overlay-shell.attribution-dialog-shell.auto-height{height:auto}.mrvl-overlay-shell.attribution-dialog-shell *{color:#35414c;font-size:12px;font-weight:400}.mrvl-overlay-shell.attribution-dialog-shell p{margin:0;line-height:19px;overflow:hidden;text-overflow:ellipsis}.mrvl-overlay-shell.attribution-dialog-shell p .label{font-weight:700}.mrvl-overlay-shell.attribution-dialog-shell p a{font-weight:700;text-decoration:none;display:inline-block;border-bottom:3px solid #e8ebed}.mrvl-overlay-shell.attribution-dialog-shell .copyright_info{color:#9aa6af}.mrvl-overlay-shell.attribution-dialog-shell h2{font-family:brandon-grotesque,adobe-clean,sans-serif;font-size:17px;font-weight:700;margin:0 0 4px;line-height:22px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper{text-overflow:clip;margin-top:10px}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button{font-size:1.23em;font-family:adobe-clean,sans-serif;font-weight:700;height:32px;padding:6px 16px 7px;margin-top:18px;cursor:pointer;background-color:#1473e6;color:#fff;position:relative;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);transition:background-color .2s ease-in,color .2s ease-in;border-radius:24px}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button:hover{background-color:#1269d0}.mrvl-overlay-shell.attribution-dialog-shell .license_wrapper .license_photo_button:active{background-color:#1056a7}.mrvl-overlay-shell.attribution-dialog-shell .original_source.disabled{font-weight:400}.mrvl-overlay-shell.attribution-dialog-shell p.copyright_info{margin-top:8px;line-height:17px}.mrvl-overlay-shell.attribution-dialog-shell .pointer{display:block;position:absolute;background-color:#fff;right:-5px;left:auto;top:200px;-webkit-transform:rotate(225deg);transform:rotate(225deg);width:10px;height:10px;border-radius:2px;border-top:1px solid rgba(0,0,0,.1);border-right:1px solid rgba(0,0,0,.1);box-shadow:4px -4px 4px 0 rgba(0,0,0,.05)}.mrvl-overlay-shell.attribution-dialog-shell .pointer.on-right{-webkit-transform:rotate(45deg);transform:rotate(45deg)}",""])},728:function(e,t,i){var n=i(729);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(92)(n,o);n.locals&&(e.exports=n.locals)},729:function(e,t,i){(e.exports=i(91)(!1)).push([e.i,'@-webkit-keyframes picker-spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes picker-spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.photo-picker{font-family:adobe-clean,sans-serif;font-size:15px;font-weight:300;width:280px;position:absolute;right:-301px;top:0;bottom:0;background-color:#35414c;opacity:0;transition:opacity .25s,right .25s;box-shadow:-3px 0 10px -2px rgba(0,0,0,.15)}.light-theme .photo-picker{background-color:#fff}.photo-picker.dragover-target{box-shadow:inset 0 2px 2px 7px #45c34d}.photo-picker .more-to-come{display:none;opacity:0;position:absolute;width:28px;height:28px;bottom:22px;left:50%;margin:-14px 0 0 -14px;background-repeat:no-repeat;background-position:50%;background-size:contain;background-image:url(/marvel-core/images/common/light-spinner.svg);transition:opacity .25s,-webkit-transform .75s;transition:transform .75s,opacity .25s;transition:transform .75s,opacity .25s,-webkit-transform .75s;-webkit-animation-name:picker-spinner-rotate;animation-name:picker-spinner-rotate;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.light-theme .photo-picker .more-to-come{background-image:url(/marvel-core/images/common/dark-spinner.svg)}.photo-picker .more-to-come.showing{display:block;opacity:1}.photo-picker .more-to-come.shared{bottom:22px;left:50%;margin:-1.5rem 0 0 -1.5rem;width:3rem;height:3rem;border-radius:3rem;background-size:56%;background-position:50%;background-repeat:no-repeat;background-color:rgba(0,0,0,.1);background-image:url(/marvel-core/images/common/light-spinner.svg)}.light-theme .photo-picker .more-to-come.shared{background-color:rgba(197,204,208,.5);background-image:url(/marvel-core/images/common/dark-spinner.svg)}.photo-picker a{font-weight:400;text-decoration:none;color:#dce0e3}.light-theme .photo-picker a{color:#82919b}.photo-picker a:hover{color:#dce0e3;text-decoration:underline}.light-theme .photo-picker a:hover{color:#1a1a1a;text-decoration:none}.modal .photo-picker{transition:none;box-shadow:none}.modal .photo-picker .picker-bar .close-button{display:none}.photo-picker.showing{visibility:visible;opacity:1;right:0}.sp-picker{visibility:hidden;position:absolute;top:0;bottom:0;left:301px;width:100%;opacity:0;transition:opacity .25s,left .25s}.sp-picker a{transition:color .1s}.sp-picker.picker-home{left:-301px;opacity:0;visibility:visible}.sp-picker.picker-home.showing,.sp-picker.showing{left:0;opacity:1;visibility:visible}.sp-picker.hiding{visibility:visible}.sp-picker .results-carrier{overflow:visible;transition:left .25s}.sp-picker .results,.sp-picker .results-carrier{position:absolute;top:0;width:100%;left:0;bottom:0}.sp-picker .results{margin-left:-4px;padding-left:4px;overflow-y:auto;overflow-x:hidden;margin-right:10px}.sp-picker .results::-webkit-scrollbar{background:transparent;width:8px}.sp-picker .results::-webkit-scrollbar-thumb{background:#5d6770;border-radius:8px}.light-theme .sp-picker .results::-webkit-scrollbar-thumb{background:#c5ccd0}.sp-picker .results::-webkit-scrollbar-thumb:hover{background:hsla(0,0%,100%,.5)}.light-theme .sp-picker .results::-webkit-scrollbar-thumb:hover{background:#dce0e3}.sp-picker .results .column{width:44%;margin:0;padding:0;margin-left:2%;float:left}.sp-picker .results .column.left{margin-left:20px}.sp-picker .results .thumbnail-wrapper{width:100%;height:auto;float:left;padding:0;margin-top:6px;margin-bottom:0;position:relative;opacity:0;transition:opacity .25s,right .25s}.sp-picker .results .thumbnail-wrapper.showing{opacity:1}.sp-picker .results .thumbnail-wrapper.has-hover-label .thumb-hover-label{display:block;opacity:0;transition:opacity .4s ease;transition-delay:0s;position:absolute;bottom:3px;right:3px;max-width:calc(100% - 6px);max-height:calc(100% - 6px);padding:4px;border-radius:2px;background-color:hsla(0,0%,100%,.6);color:#1a1a1a;font-size:12px;font-weight:400;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.sp-picker .results .thumbnail-wrapper.has-hover-label:hover .thumb-hover-label{opacity:1;cursor:pointer;transition-delay:.3s}.sp-picker .results canvas.thumbnail,.sp-picker .results img.thumbnail{width:100%;height:auto;float:left;margin:0;padding:0;cursor:pointer}.sp-picker .results canvas.thumbnail{position:absolute;top:0;left:0}.sp-picker .results .thumbnail-wrapper.selected:after{content:"";display:block;position:absolute;top:0;right:0;bottom:0;left:0;border:2px solid #dce0e3;box-sizing:border-box}.light-theme .sp-picker .results .thumbnail-wrapper.selected:after{border-color:#c5ccd0}.sp-picker .results .folders{width:100%}.sp-picker .results .folders .folder-wrapper{opacity:0;transition:opacity .25s;width:100%;height:45px;position:relative;cursor:pointer}.sp-picker .results .folders .folder-wrapper.showing{opacity:1}.sp-picker .results .folders .folder-wrapper:hover{background-color:rgba(130,145,155,.25)}.light-theme .sp-picker .results .folders .folder-wrapper:hover{background-color:#f4f5f5}.sp-picker .results .folders .folder-wrapper:before{content:"";display:block;position:absolute;width:35px;height:100%;-webkit-mask-image:url(/marvel-core/images/pickers/dropbox_folder.svg);mask-image:url(/marvel-core/images/pickers/dropbox_folder.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center right;mask-position:center right;-webkit-mask-size:16px;mask-size:16px;background-color:#9aa6af}.light-theme .sp-picker .results .folders .folder-wrapper:before{background-color:#1a1a1a}.sp-picker .results .folders .folder-wrapper .label{height:44px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:44px;font-weight:400;font-size:15px;color:#dce0e3;padding-left:46px;text-align:left}.light-theme .sp-picker .results .folders .folder-wrapper .label{color:#1a1a1a}.sp-picker .results .folders .folder-wrapper.withPreview{background-image:none;width:100%;height:50px}.sp-picker .results .folders .folder-wrapper.withPreview .label{bottom:15px;font-weight:400;font-size:15px;height:50px;line-height:80px;position:absolute;padding-left:82px}.sp-picker .results .folders .folder-wrapper.withPreview:hover{background-color:rgba(130,145,155,.25)}.light-theme .sp-picker .results .folders .folder-wrapper.withPreview:hover{background-color:#f4f5f5}.sp-picker .results .folders .folder-wrapper .preview{background-size:cover;background-position:50%;width:50px;height:50px;margin-left:20px;margin-top:15px}.sp-picker .results .no-photos{color:#9aa6af;font-size:15px;font-weight:400;text-align:center;margin:115px 20px 0;height:50px;white-space:pre-wrap}.light-theme .sp-picker .results .no-photos{color:#1a1a1a}.sp-picker .results .no-photos h2{font-size:16px;font-weight:400}.sp-picker .results .no-photos p{margin:15px auto 0;line-height:1.35;font-size:13px;font-weight:400}.sp-picker .results .picker-bumper{height:60px;clear:both}.no-animate .sp-picker{transition:none}.lightroom-picker.sp-picker .buttons-wrapper{display:none;opacity:0}.filterable.lightroom-picker.sp-picker .results-wrapper{position:absolute;top:0;right:0;left:0;bottom:40px;overflow:hidden}.filterable.lightroom-picker.sp-picker .buttons-wrapper{position:absolute;height:40px;right:0;left:0;bottom:0;border-top-width:1px;border-top-style:solid;border-top-color:#82919b;display:block;opacity:1;transition:opacity .25s}.light-theme .filterable.lightroom-picker.sp-picker .buttons-wrapper{border-top-color:#c5ccd0}.filterable.lightroom-picker.sp-picker button{width:49%;height:100%;background:transparent;cursor:pointer;box-sizing:border-box;border:none;outline:none;color:#dce0e3;font-weight:400;font-size:15px}.light-theme .filterable.lightroom-picker.sp-picker button{color:#1a1a1a}.filterable.lightroom-picker.sp-picker button:hover{background-color:rgba(130,145,155,.25)}.light-theme .filterable.lightroom-picker.sp-picker button:hover{background-color:#f4f5f5}.picker-bar{visibility:visible;border-bottom:none;height:50px;padding-top:0;padding-bottom:0;box-sizing:border-box;width:100%}.picker-bar .back-button{-webkit-mask-image:url(/marvel-core/images/pickers/left-arrow.svg);mask-image:url(/marvel-core/images/pickers/left-arrow.svg);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;z-index:1;background-color:#9aa6af;height:15px;width:10px;top:18px;left:17px;position:absolute;cursor:pointer}.light-theme .picker-bar .back-button{background-color:#c5ccd0}.picker-bar .back-button:hover{background-color:#fff}.light-theme .picker-bar .back-button:hover{background-color:#808990}.picker-bar .close-button{background:none;-webkit-mask-image:url(/marvel-core/images/pickers/close.svg);mask-image:url(/marvel-core/images/pickers/close.svg);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#9aa6af;height:14px;width:14px;top:18px;right:18px;position:absolute;cursor:pointer}.light-theme .picker-bar .close-button{background-color:#c5ccd0}.picker-bar .close-button:hover{background-color:#fff}.light-theme .picker-bar .close-button:hover{background-color:#808990}.picker-bar .right-shared-icon{-webkit-mask-image:url(/marvel-core/images/pickers/library-shared.svg);mask-image:url(/marvel-core/images/pickers/library-shared.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;background-color:#9aa6af;height:18px;width:18px;position:absolute;right:18px;top:16px}.light-theme .picker-bar .right-shared-icon{background-color:#c5ccd0}.picker-bar.home .back-button{display:none}.picker-bar.home .close-button{display:block}.picker-bar .source-label{height:50px;line-height:50px;font-size:18px;font-weight:400;color:#dce0e3;width:100%;margin:0;text-align:center;padding-left:40px;padding-right:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:default}.light-theme .picker-bar .source-label{font-weight:900;color:#1a1a1a}.picker-wrapper{position:relative;top:0;height:calc(100% - 50px);overflow:hidden;width:100%}.picker-progress{position:absolute;left:0;right:0;top:40px}.picker-progress .spinner{width:28px;height:28px;background-repeat:no-repeat;background-position:50%;background-size:contain;background-image:url(/marvel-core/images/common/light-spinner.svg);margin:40px auto 0;-webkit-animation-name:picker-spinner-rotate;animation-name:picker-spinner-rotate;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.light-theme .picker-progress .spinner{background-image:url(/marvel-core/images/common/dark-spinner.svg)}.picker-progress .content{margin:15px 20px 0;text-align:center;word-wrap:break-word;color:#737373;font-weight:400;font-size:16px;height:40px}.picker-home{overflow:auto}.picker-home .picker-button-wrapper{width:100%;height:46px;padding-top:4px;display:block;border:none;position:relative}.picker-home .picker-button-wrapper .dropbox-button,.picker-home .picker-button-wrapper .google-drive-button,.picker-home .picker-button-wrapper .google-photos-button,.picker-home .picker-button-wrapper button,.picker-home .picker-button-wrapper p{cursor:pointer;background-color:transparent;height:36px;width:100%;display:block;margin-left:auto;margin-right:auto;padding-left:70px;line-height:36px;text-align:left;font-weight:400;font-size:15px;color:#dce0e3;outline:none;transition:background-color .2s,color .2s}.picker-home .picker-button-wrapper .dropbox-button:before,.picker-home .picker-button-wrapper .google-drive-button:before,.picker-home .picker-button-wrapper .google-photos-button:before,.picker-home .picker-button-wrapper button:before,.picker-home .picker-button-wrapper p:before{content:"";position:absolute;display:block;width:35px;height:35px;left:27px;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:26px;mask-size:26px;background-color:#dce0e3;transition:.1s ease-in}.light-theme .picker-home .picker-button-wrapper .dropbox-button:before,.light-theme .picker-home .picker-button-wrapper .google-drive-button:before,.light-theme .picker-home .picker-button-wrapper .google-photos-button:before,.light-theme .picker-home .picker-button-wrapper button:before,.light-theme .picker-home .picker-button-wrapper p:before{background-color:#1a1a1a}.light-theme .picker-home .picker-button-wrapper .dropbox-button,.light-theme .picker-home .picker-button-wrapper .google-drive-button,.light-theme .picker-home .picker-button-wrapper .google-photos-button,.light-theme .picker-home .picker-button-wrapper button,.light-theme .picker-home .picker-button-wrapper p{color:#1a1a1a}.picker-home .picker-button-wrapper .dropbox-button:hover,.picker-home .picker-button-wrapper .google-drive-button:hover,.picker-home .picker-button-wrapper .google-photos-button:hover,.picker-home .picker-button-wrapper button:hover,.picker-home .picker-button-wrapper p:hover{background-color:rgba(130,145,155,.25)}.light-theme .picker-home .picker-button-wrapper .dropbox-button:hover,.light-theme .picker-home .picker-button-wrapper .google-drive-button:hover,.light-theme .picker-home .picker-button-wrapper .google-photos-button:hover,.light-theme .picker-home .picker-button-wrapper button:hover,.light-theme .picker-home .picker-button-wrapper p:hover{background-color:#f4f5f5}.picker-home .picker-button-wrapper .dropbox-button span,.picker-home .picker-button-wrapper .google-drive-button span,.picker-home .picker-button-wrapper .google-photos-button span,.picker-home .picker-button-wrapper button span,.picker-home .picker-button-wrapper p span{font-weight:inherit}.picker-home .picker-button-wrapper .search-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_findPhotos.svg);mask-image:url(/marvel-core/images/pickers/photoSource_findPhotos.svg)}.picker-home .picker-button-wrapper .stock-search-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_adobeStock.svg);mask-image:url(/marvel-core/images/pickers/photoSource_adobeStock.svg);-webkit-mask-size:contain;mask-size:contain;width:20px;height:19px;top:12px;left:35px}.picker-home .picker-button-wrapper .cc-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_creativeCloud.svg);mask-image:url(/marvel-core/images/pickers/photoSource_creativeCloud.svg)}.picker-home .picker-button-wrapper .ccl-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/lib-icon.svg);mask-image:url(/marvel-core/images/pickers/lib-icon.svg);-webkit-mask-size:contain;mask-size:contain;width:22px;height:22px;left:34px;top:10px}.picker-home .picker-button-wrapper .ccl-button .ccl-new-tag{background-image:url(/images/icon_new_badge.svg);width:36px;height:20px;display:inline-block;background-size:36px 20px;vertical-align:middle;margin-left:16px;margin-bottom:1px}.picker-home .picker-button-wrapper .lightroom-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_lightroom.svg);mask-image:url(/marvel-core/images/pickers/photoSource_lightroom.svg);-webkit-mask-size:contain;mask-size:contain;width:20px;height:19px;top:12px;left:35px}.picker-home .picker-button-wrapper .dropbox-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_dropbox.svg);mask-image:url(/marvel-core/images/pickers/photoSource_dropbox.svg)}.picker-home .picker-button-wrapper .google-photos-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_googlePhotos.svg);mask-image:url(/marvel-core/images/pickers/photoSource_googlePhotos.svg);-webkit-mask-size:28px;mask-size:28px}.picker-home .picker-button-wrapper .google-drive-button:before{-webkit-mask-image:url(/marvel-core/images/pickers/photoSource_googleDrive.svg);mask-image:url(/marvel-core/images/pickers/photoSource_googleDrive.svg);-webkit-mask-size:22px;mask-size:22px}.picker-home .local-file-button{display:block;margin:35px auto;width:auto;line-height:27px;text-align:center;cursor:pointer;background-color:transparent;border:2px solid #fff;color:#fff;font-weight:700;border-radius:16px;padding:0 17px 1px}.light-theme .picker-home .local-file-button{border-color:#c5ccd0;color:#1a1a1a;font-weight:900}.picker-home .local-file-button:hover{background-color:rgba(130,145,155,.25)}.light-theme .picker-home .local-file-button:hover{background-color:#f4f5f5}.picker-home .local-file-button:focus{outline-width:1px;outline-style:dotted;outline-offset:2px;outline-color:#dce0e3}.light-theme .picker-home .local-file-button:focus{outline-color:#808990}.picker-home .local-file-button .local-file-input{display:none}.picker-home .copy-url-wrapper{border-radius:4px;background-color:#fff;margin-left:18px;margin-right:18px;padding:10px}.picker-home .copy-url-wrapper .copy-url-input{width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;outline:none}.picker-home .copy-url-wrapper .copy-url-button{height:20px;width:20px;float:right;background-repeat:no-repeat;background-position:50%;background-size:contain;background-image:url(/images/icon-arrow-share.svg);background-color:#fff;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.picker-home .copy-url-wrapper .copy-url-button:hover{background-image:url(/images/icon-arrow-share-hover.svg)}.picker-home .or-delimiter-wrap{width:210px;border-top-width:1px;border-top-style:solid;border-color:#899198;margin:53px auto 5px}.light-theme .picker-home .or-delimiter-wrap{border-color:#c5ccd0}.picker-home .or-delimiter{position:relative;top:-18px;width:36px;margin:auto;padding:10px 0;text-align:center;font-size:12px;font-weight:700;color:#899198;background-color:#35414c}.light-theme .picker-home .or-delimiter{color:#1a1a1a;background-color:#fff}.picker-home .drag-and-drop-explainer-holder .drag-and-drop-explainer,.picker-home .drag-and-drop-explainer-holder .drag-and-drop-explainer-multi-select{text-align:center}.picker-home .drag-and-drop-explainer-holder .drag-and-drop-explainer-multi-select{display:none}.picker-home .drag-and-drop-explainer-holder.multiSelect .drag-and-drop-explainer-multi-select{display:inherit}.picker-home .drag-and-drop-explainer-holder.multiSelect .drag-and-drop-explainer,.picker-home .dropbox-connect:not(.hide)+div,.picker-home .google-photos-connect:not(.hide)+div{display:none}.picker-home .image-source-with-disconnect{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-between;justify-content:space-between;padding-right:10px;height:33px}.picker-home .image-source-with-disconnect-source{display:inline-block;font-weight:400;line-height:normal}.picker-home .dropbox-logout,.picker-home .google-photos-logout{display:none}.picker-home .dropbox-logout.authenticated,.picker-home .google-photos-logout.authenticated{display:inline-block;color:#899198;font-size:14px;text-decoration:underline;line-height:normal;text-align:right;font-weight:400;max-width:40%}.light-theme .picker-home .dropbox-logout.authenticated,.light-theme .picker-home .google-photos-logout.authenticated{color:#808990}.picker-home .dropbox-logout.authenticated:hover,.picker-home .google-photos-logout.authenticated:hover{color:hsla(0,0%,100%,.8)}.light-theme .picker-home .dropbox-logout.authenticated:hover,.light-theme .picker-home .google-photos-logout.authenticated:hover{color:#1a1a1a}.picker-home img{width:auto;height:44px;margin-left:.5rem}.dooplo-icon-picker.sp-picker .results,.dooplo-picker.sp-picker .results,.stock-picker.sp-picker .results{position:absolute;top:78px;left:0;right:0;bottom:0;overflow:auto}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper:first-child,.dooplo-picker.sp-picker .results .thumbnail-wrapper:first-child,.stock-picker.sp-picker .results .thumbnail-wrapper:first-child{margin-top:0}.dooplo-icon-picker.sp-picker .search-info,.dooplo-icon-picker.sp-picker .search-sources,.dooplo-picker.sp-picker .search-info,.dooplo-picker.sp-picker .search-sources,.stock-picker.sp-picker .search-info,.stock-picker.sp-picker .search-sources{margin:64px auto 0;width:80%;text-align:center;line-height:1.3;font-size:12px;font-weight:400;position:relative}.dooplo-icon-picker.sp-picker .search-info.search-sources,.dooplo-icon-picker.sp-picker .search-sources.search-sources,.dooplo-picker.sp-picker .search-info.search-sources,.dooplo-picker.sp-picker .search-sources.search-sources,.stock-picker.sp-picker .search-info.search-sources,.stock-picker.sp-picker .search-sources.search-sources{font-size:13px;color:#82919b;margin-left:20px;text-align:left;line-height:2}.light-theme .dooplo-icon-picker.sp-picker .search-info.search-sources,.light-theme .dooplo-icon-picker.sp-picker .search-sources.search-sources,.light-theme .dooplo-picker.sp-picker .search-info.search-sources,.light-theme .dooplo-picker.sp-picker .search-sources.search-sources,.light-theme .stock-picker.sp-picker .search-info.search-sources,.light-theme .stock-picker.sp-picker .search-sources.search-sources{color:#1a1a1a}.dooplo-icon-picker.sp-picker .search-progress,.dooplo-picker.sp-picker .search-progress,.stock-picker.sp-picker .search-progress{position:absolute;left:0;right:0;top:50px}.dooplo-icon-picker.sp-picker .search-progress .spinner,.dooplo-picker.sp-picker .search-progress .spinner,.stock-picker.sp-picker .search-progress .spinner{width:28px;height:28px;background-repeat:no-repeat;background-position:50%;background-size:contain;background-image:url(/marvel-core/images/common/light-spinner.svg);margin:0 auto;-webkit-animation-name:picker-spinner-rotate;animation-name:picker-spinner-rotate;-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.light-theme .dooplo-icon-picker.sp-picker .search-progress .spinner,.light-theme .dooplo-picker.sp-picker .search-progress .spinner,.light-theme .stock-picker.sp-picker .search-progress .spinner{background-image:url(/marvel-core/images/common/dark-spinner.svg)}.dooplo-icon-picker.sp-picker .search-progress .content,.dooplo-picker.sp-picker .search-progress .content,.stock-picker.sp-picker .search-progress .content{margin:15px 20px 0;text-align:center;color:#82919b;font-weight:400;font-size:16px;line-height:19.5px;word-break:break-word}.light-theme .dooplo-icon-picker.sp-picker .search-progress .content,.light-theme .dooplo-picker.sp-picker .search-progress .content,.light-theme .stock-picker.sp-picker .search-progress .content{color:#1a1a1a}.dooplo-icon-picker.sp-picker .flickr-more-results,.dooplo-icon-picker.sp-picker .no-results,.dooplo-icon-picker.sp-picker .pixabay-more-results,.dooplo-icon-picker.sp-picker .search-failure,.dooplo-picker.sp-picker .flickr-more-results,.dooplo-picker.sp-picker .no-results,.dooplo-picker.sp-picker .pixabay-more-results,.dooplo-picker.sp-picker .search-failure,.stock-picker.sp-picker .flickr-more-results,.stock-picker.sp-picker .no-results,.stock-picker.sp-picker .pixabay-more-results,.stock-picker.sp-picker .search-failure{margin:40px 20px 0;text-align:center;color:#82919b;font-weight:400;font-size:15px;line-height:1.3}.light-theme .dooplo-icon-picker.sp-picker .flickr-more-results,.light-theme .dooplo-icon-picker.sp-picker .no-results,.light-theme .dooplo-icon-picker.sp-picker .pixabay-more-results,.light-theme .dooplo-icon-picker.sp-picker .search-failure,.light-theme .dooplo-picker.sp-picker .flickr-more-results,.light-theme .dooplo-picker.sp-picker .no-results,.light-theme .dooplo-picker.sp-picker .pixabay-more-results,.light-theme .dooplo-picker.sp-picker .search-failure,.light-theme .stock-picker.sp-picker .flickr-more-results,.light-theme .stock-picker.sp-picker .no-results,.light-theme .stock-picker.sp-picker .pixabay-more-results,.light-theme .stock-picker.sp-picker .search-failure{color:#1a1a1a}.dooplo-icon-picker.sp-picker .flickr-more-results .error-detail,.dooplo-icon-picker.sp-picker .no-results .error-detail,.dooplo-icon-picker.sp-picker .pixabay-more-results .error-detail,.dooplo-icon-picker.sp-picker .search-failure .error-detail,.dooplo-picker.sp-picker .flickr-more-results .error-detail,.dooplo-picker.sp-picker .no-results .error-detail,.dooplo-picker.sp-picker .pixabay-more-results .error-detail,.dooplo-picker.sp-picker .search-failure .error-detail,.stock-picker.sp-picker .flickr-more-results .error-detail,.stock-picker.sp-picker .no-results .error-detail,.stock-picker.sp-picker .pixabay-more-results .error-detail,.stock-picker.sp-picker .search-failure .error-detail{margin-top:15px;font-size:12px}.dooplo-icon-picker.sp-picker .flickr-more-results,.dooplo-icon-picker.sp-picker .no-results,.dooplo-icon-picker.sp-picker .pixabay-more-results,.dooplo-picker.sp-picker .flickr-more-results,.dooplo-picker.sp-picker .no-results,.dooplo-picker.sp-picker .pixabay-more-results,.stock-picker.sp-picker .flickr-more-results,.stock-picker.sp-picker .no-results,.stock-picker.sp-picker .pixabay-more-results{margin-top:25px}.dooplo-icon-picker.sp-picker .flickr-more-results,.dooplo-icon-picker.sp-picker .pixabay-more-results,.dooplo-picker.sp-picker .flickr-more-results,.dooplo-picker.sp-picker .pixabay-more-results,.stock-picker.sp-picker .flickr-more-results,.stock-picker.sp-picker .pixabay-more-results{clear:both;padding:14px 0 10px}.dooplo-icon-picker.sp-picker .dooploSearchEntry,.dooplo-icon-picker.sp-picker .stockSearchEntry,.dooplo-picker.sp-picker .dooploSearchEntry,.dooplo-picker.sp-picker .stockSearchEntry,.stock-picker.sp-picker .dooploSearchEntry,.stock-picker.sp-picker .stockSearchEntry{left:18px;right:18px}.dooplo-icon-picker.sp-picker .stockLicenses,.dooplo-picker.sp-picker .stockLicenses,.stock-picker.sp-picker .stockLicenses{position:absolute;display:block;bottom:10px;color:#dce0e3;font-size:13px;line-height:25px;font-weight:400;text-align:center;z-index:2}.light-theme .dooplo-icon-picker.sp-picker .stockLicenses,.light-theme .dooplo-picker.sp-picker .stockLicenses,.light-theme .stock-picker.sp-picker .stockLicenses{color:#1a1a1a}.dooplo-icon-picker.sp-picker .stockLicenses .count,.dooplo-picker.sp-picker .stockLicenses .count,.stock-picker.sp-picker .stockLicenses .count{font-size:1em;font-weight:400}.dooplo-icon-picker.sp-picker .stockLicenses.search,.dooplo-picker.sp-picker .stockLicenses.search,.stock-picker.sp-picker .stockLicenses.search{width:180px;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%);transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s;opacity:.75;border-radius:20px;background-color:#000}.light-theme .dooplo-icon-picker.sp-picker .stockLicenses.search,.light-theme .dooplo-picker.sp-picker .stockLicenses.search,.light-theme .stock-picker.sp-picker .stockLicenses.search{background-color:#c5ccd0}.dooplo-icon-picker.sp-picker .stockLicenses.noSearch,.dooplo-picker.sp-picker .stockLicenses.noSearch,.stock-picker.sp-picker .stockLicenses.noSearch{left:0;-webkit-transform:translateX(20px);transform:translateX(20px);background-color:transparent;text-align:left;color:#9aa6af;opacity:0}.light-theme .dooplo-icon-picker.sp-picker .stockLicenses.noSearch,.light-theme .dooplo-picker.sp-picker .stockLicenses.noSearch,.light-theme .stock-picker.sp-picker .stockLicenses.noSearch{color:#82919b}.dooplo-icon-picker.sp-picker .stockLicenses.fromNoSearch.noSearch:not(.calculating),.dooplo-picker.sp-picker .stockLicenses.fromNoSearch.noSearch:not(.calculating),.stock-picker.sp-picker .stockLicenses.fromNoSearch.noSearch:not(.calculating){opacity:1}.dooplo-icon-picker.sp-picker .stockLicenses.fromNoSearch.search,.dooplo-picker.sp-picker .stockLicenses.fromNoSearch.search,.stock-picker.sp-picker .stockLicenses.fromNoSearch.search{-webkit-transform:translate(-50%,40px);transform:translate(-50%,40px);opacity:0}.dooplo-icon-picker.sp-picker .stockLicenses.calculating,.dooplo-picker.sp-picker .stockLicenses.calculating,.stock-picker.sp-picker .stockLicenses.calculating{opacity:0}.dooplo-icon-picker.sp-picker .stockLicenses.noAccount,.dooplo-picker.sp-picker .stockLicenses.noAccount,.stock-picker.sp-picker .stockLicenses.noAccount{display:none}.dooplo-icon-picker.sp-picker .search-info,.dooplo-picker.sp-picker .search-info,.stock-picker.sp-picker .search-info{margin-top:69px;color:#82919b;font-size:13px}.light-theme .dooplo-icon-picker.sp-picker .search-info,.light-theme .dooplo-picker.sp-picker .search-info,.light-theme .stock-picker.sp-picker .search-info{color:#1a1a1a}.dooplo-icon-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .dooploSearchEntry,.dooplo-icon-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .dooploSearchEntry,.dooplo-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .dooploSearchEntry,.dooplo-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .dooploSearchEntry,.stock-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .dooploSearchEntry,.stock-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .dooploSearchEntry{top:3px}.dooplo-icon-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .results,.dooplo-icon-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .results,.dooplo-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .results,.dooplo-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .results,.stock-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .results,.stock-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .results{top:85px}.dooplo-icon-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-info,.dooplo-icon-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-sources,.dooplo-icon-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-info,.dooplo-icon-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-sources,.dooplo-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-info,.dooplo-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-sources,.dooplo-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-info,.dooplo-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-sources,.stock-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-info,.stock-picker.sp-picker.dooplo-icon-picker.sp-picker.show-image-sources .search-sources,.stock-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-info,.stock-picker.sp-picker.dooplo-picker.sp-picker.show-image-sources .search-sources{margin-top:54px}.dooplo-icon-picker.sp-picker #results-bing-only .search-sources,.dooplo-icon-picker.sp-picker #results-without-bing .search-sources,.dooplo-picker.sp-picker #results-bing-only .search-sources,.dooplo-picker.sp-picker #results-without-bing .search-sources,.stock-picker.sp-picker #results-bing-only .search-sources,.stock-picker.sp-picker #results-without-bing .search-sources{margin-top:0}.dooplo-icon-picker.sp-picker #results-bing-only .search-sources .search-source-link,.dooplo-picker.sp-picker #results-bing-only .search-sources .search-source-link,.stock-picker.sp-picker #results-bing-only .search-sources .search-source-link{-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:38px 27px;mask-size:38px 27px;-webkit-mask-position:right;mask-position:right;-webkit-mask-image:url(/marvel-core/images/pickers/bing-logo.svg);mask-image:url(/marvel-core/images/pickers/bing-logo.svg);background-color:#82919b;text-indent:-9999em;overflow:hidden;display:inline-block;width:40px;height:27px}.light-theme .dooplo-icon-picker.sp-picker #results-bing-only .search-sources .search-source-link,.light-theme .dooplo-picker.sp-picker #results-bing-only .search-sources .search-source-link,.light-theme .stock-picker.sp-picker #results-bing-only .search-sources .search-source-link{background-color:#1a1a1a}.dooplo-icon-picker.sp-picker #results-bing-only .search-sources .search-source-link:hover,.dooplo-picker.sp-picker #results-bing-only .search-sources .search-source-link:hover,.stock-picker.sp-picker #results-bing-only .search-sources .search-source-link:hover{-webkit-filter:brightness(300%);filter:brightness(300%)}.dooplo-icon-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only,.dooplo-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only,.stock-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only{border-top-width:1px;border-top-style:solid;border-top-color:#82919b;margin-top:12px}.light-theme .dooplo-icon-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only,.light-theme .dooplo-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only,.light-theme .stock-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only{border-top-color:#c5ccd0}.dooplo-icon-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only .search-sources,.dooplo-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only .search-sources,.stock-picker.sp-picker #results-without-bing:not(.hide)+#results-bing-only .search-sources{margin-top:12px}.dooplo-icon-picker.sp-picker .privacy-sources,.dooplo-picker.sp-picker .privacy-sources,.stock-picker.sp-picker .privacy-sources{margin-bottom:6px;margin-left:20px;font-size:13px}.dooplo-icon-picker.sp-picker .results{left:20px;right:20px;width:auto}.dooplo-icon-picker.sp-picker .results .left.column{width:100%;margin-left:0}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper{width:33.3%;margin-top:0;border-radius:5px}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper:first-child{margin-top:0}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper:hover{background-color:rgba(130,145,155,.25)}.light-theme .dooplo-icon-picker.sp-picker .results .thumbnail-wrapper:hover{background-color:#f4f5f5}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper.selected{background-color:#242c33}.light-theme .dooplo-icon-picker.sp-picker .results .thumbnail-wrapper.selected{background-color:#dce0e3}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper.selected img{-webkit-filter:invert(1);filter:invert(1)}.light-theme .dooplo-icon-picker.sp-picker .results .thumbnail-wrapper.selected img{-webkit-filter:none;filter:none}.dooplo-icon-picker.sp-picker .results .thumbnail-wrapper.selected:after{content:none;display:none}.dooplo-icon-picker.sp-picker .results canvas.thumbnail,.dooplo-icon-picker.sp-picker .results img.thumbnail{height:auto!important;padding:21px;-webkit-filter:invert(1);filter:invert(1)}.light-theme .dooplo-icon-picker.sp-picker .results canvas.thumbnail,.light-theme .dooplo-icon-picker.sp-picker .results img.thumbnail{-webkit-filter:none;filter:none}.dooploSearchEntry,.stockSearchEntry{position:absolute;top:18px;right:13px;left:13px;height:35px;border-radius:5px;border:1px solid rgba(0,0,0,.15);background-color:#fff}.light-theme .dooploSearchEntry,.light-theme .stockSearchEntry{border-color:#dce0e3;background-color:#f4f5f5}.dooploSearchEntry.dooploSearchEntry .search-text,.stockSearchEntry.dooploSearchEntry .search-text{padding-right:40px}.dooploSearchEntry.dooploSearchEntry .search-text-wrapper.showing-dropdown,.stockSearchEntry.dooploSearchEntry .search-text-wrapper.showing-dropdown{z-index:10002}.dooploSearchEntry .dooplo-search-dropdown,.dooploSearchEntry .execute-search-button,.stockSearchEntry .dooplo-search-dropdown,.stockSearchEntry .execute-search-button{height:33px;position:absolute;top:0;bottom:0;border-radius:5px;outline:none;display:block;background-color:transparent}.dooploSearchEntry .dooplo-search-dropdown.execute-search-button,.dooploSearchEntry .execute-search-button.execute-search-button,.stockSearchEntry .dooplo-search-dropdown.execute-search-button,.stockSearchEntry .execute-search-button.execute-search-button{top:8px;left:6px;width:18px;height:18px;-webkit-mask-image:url(/marvel-core/images/pickers/search.svg);mask-image:url(/marvel-core/images/pickers/search.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain;z-index:1;background-color:#9aa6af}.light-theme .dooploSearchEntry .dooplo-search-dropdown.execute-search-button,.light-theme .dooploSearchEntry .execute-search-button.execute-search-button,.light-theme .stockSearchEntry .dooplo-search-dropdown.execute-search-button,.light-theme .stockSearchEntry .execute-search-button.execute-search-button{background-color:#808990}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown,.stockSearchEntry .execute-search-button.dooplo-search-dropdown{right:0;width:32px}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .dropdown-view-element,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .dropdown-view-element,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .dropdown-view-element,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .dropdown-view-element{height:33px}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .dooplo-search-dropdown-aligner,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .dooplo-search-dropdown-aligner,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .dooplo-search-dropdown-aligner,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .dooplo-search-dropdown-aligner{position:absolute;width:0;height:0;right:144px;top:41px}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown{border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:5px;border-bottom-right-radius:5px;border-left-width:1px;border-left-style:solid;border-left-color:#dce0e3;background-color:#dce0e3}.light-theme .dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown,.light-theme .dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown,.light-theme .stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown,.light-theme .stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown{background-color:#f4f5f5}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown:hover,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown:hover,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown:hover,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown:hover{background-color:#dce0e3}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button{background-image:none;background:none;width:32px;padding:0;border:none}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before{content:"";display:block;position:absolute;top:13px;left:12px;width:11px;height:7px;-webkit-mask-image:url(/marvel-core/images/common/icon-arrow-down-pebble.svg);mask-image:url(/marvel-core/images/common/icon-arrow-down-pebble.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain;background-color:#9aa6af}.light-theme .dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.light-theme .dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.light-theme .stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before,.light-theme .stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:before{background-color:#808990}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before{background-color:#35414c}.light-theme .dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.light-theme .dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.light-theme .stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before,.light-theme .stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-button:hover:before{background-color:#1a1a1a}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg{width:144px;padding-left:0;border-radius:4px;border:1px solid #9aa6af}.light-theme .dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.light-theme .dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.light-theme .stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg,.light-theme .stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-bg{border-color:#dce0e3}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line{font-size:14px}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line.selected,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line.selected,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line.selected,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown .ddv-dropdown-line.selected{border-left-color:transparent}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open{background-color:#dce0e3}.dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before{background-color:#35414c}.light-theme .dooploSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.light-theme .dooploSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.light-theme .stockSearchEntry .dooplo-search-dropdown.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before,.light-theme .stockSearchEntry .execute-search-button.dooplo-search-dropdown .ddv-dropdown.open .ddv-dropdown-button:before{background-color:#1a1a1a}.dooploSearchEntry input::-ms-clear,.stockSearchEntry input::-ms-clear{display:none}.dooploSearchEntry .search-text-wrapper,.stockSearchEntry .search-text-wrapper{position:absolute;right:36px;top:0;left:0;bottom:0;padding-top:5px;padding-left:20px;width:100%}.dooploSearchEntry .search-text,.stockSearchEntry .search-text{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;font-size:15px;font-weight:400;color:#82919b;vertical-align:middle;outline:none;width:100%;height:21px;z-index:1;padding:0 10px;background-color:transparent}.light-theme .dooploSearchEntry .search-text,.light-theme .stockSearchEntry .search-text{color:#1a1a1a}.dooploSearchEntry .search-text-hint,.stockSearchEntry .search-text-hint{font-size:15px;font-weight:400;position:absolute;top:0;left:0;right:0;bottom:0;padding:0 10px 0 36px;line-height:33px;text-align:left;vertical-align:middle;display:none;z-index:0;color:#dce0e3}.dooploSearchEntry .search-text-hint.showing,.stockSearchEntry .search-text-hint.showing{display:block}.light-theme .dooploSearchEntry .search-text-hint,.light-theme .stockSearchEntry .search-text-hint{color:#82919b}.dooplo-picker.sp-picker .results img:not([src]){display:none}.stockSearchEntry{top:61px;margin:0 2px}.stockLicenseHistoryToggle{margin-left:18px}.stock-picker.sp-picker .thumbnail-wrapper.licensed .thumb-hover-label{opacity:1;cursor:pointer}.lightroom-importer-wrapper{display:block;position:absolute;top:0;bottom:0;right:0;width:100vw;z-index:21}.lightroom-importer-wrapper iframe{height:100%;width:100%;background-color:#000;overflow:hidden}.picker-filter-dialog-shell.mrvl-overlay-shell,.picker-sort-dialog-shell.mrvl-overlay-shell{width:320px;height:180px}.picker-filter-dialog-shell.mrvl-overlay-shell h2,.picker-sort-dialog-shell.mrvl-overlay-shell h2{font-size:18px;font-weight:300;color:#484848;text-align:center;margin:18px 0 0;padding-bottom:11px}.picker-filter-dialog-shell.mrvl-overlay-shell button.filter,.picker-filter-dialog-shell.mrvl-overlay-shell button.sort,.picker-sort-dialog-shell.mrvl-overlay-shell button.filter,.picker-sort-dialog-shell.mrvl-overlay-shell button.sort{display:block;background-color:transparent;font-size:16px;font-weight:300;color:#484848;padding:13px 0 13px 15px;width:100%;border-top:thin solid rgba(0,0,0,.1);text-align:left}.picker-filter-dialog-shell.mrvl-overlay-shell button.filter.checked,.picker-filter-dialog-shell.mrvl-overlay-shell button.sort.checked,.picker-sort-dialog-shell.mrvl-overlay-shell button.filter.checked,.picker-sort-dialog-shell.mrvl-overlay-shell button.sort.checked{background-repeat:no-repeat;background-size:14px 12px;background-position:280px;background-image:url(/marvel-core/images/common/icon_check@2x.png)}.db-logout-shell.mrvl-overlay-shell,.fb-logout-shell.mrvl-overlay-shell,.gp-logout-shell.mrvl-overlay-shell,.im-logout-shell.mrvl-overlay-shell{height:auto;min-height:216px}.db-logout-shell.mrvl-overlay-shell .db-logout-dialog-title,.db-logout-shell.mrvl-overlay-shell .gp-logout-dialog-title,.fb-logout-shell.mrvl-overlay-shell .db-logout-dialog-title,.fb-logout-shell.mrvl-overlay-shell .gp-logout-dialog-title,.gp-logout-shell.mrvl-overlay-shell .db-logout-dialog-title,.gp-logout-shell.mrvl-overlay-shell .gp-logout-dialog-title,.im-logout-shell.mrvl-overlay-shell .db-logout-dialog-title,.im-logout-shell.mrvl-overlay-shell .gp-logout-dialog-title{background-color:#f2f4f5;font-family:brandon-grotesque,adobe-clean,sans-serif;color:#35414c;margin:0;padding:20px 25px;border-top-left-radius:10px;border-top-right-radius:10px}.db-logout-shell.mrvl-overlay-shell h2,.fb-logout-shell.mrvl-overlay-shell h2,.gp-logout-shell.mrvl-overlay-shell h2,.im-logout-shell.mrvl-overlay-shell h2{font-size:2em;font-weight:700}.db-logout-shell.mrvl-overlay-shell .db-logout-dialog-text,.db-logout-shell.mrvl-overlay-shell .fb-logout-dialog-text,.db-logout-shell.mrvl-overlay-shell .gp-logout-dialog-text,.db-logout-shell.mrvl-overlay-shell .im-logout-dialog-text,.fb-logout-shell.mrvl-overlay-shell .db-logout-dialog-text,.fb-logout-shell.mrvl-overlay-shell .fb-logout-dialog-text,.fb-logout-shell.mrvl-overlay-shell .gp-logout-dialog-text,.fb-logout-shell.mrvl-overlay-shell .im-logout-dialog-text,.gp-logout-shell.mrvl-overlay-shell .db-logout-dialog-text,.gp-logout-shell.mrvl-overlay-shell .fb-logout-dialog-text,.gp-logout-shell.mrvl-overlay-shell .gp-logout-dialog-text,.gp-logout-shell.mrvl-overlay-shell .im-logout-dialog-text,.im-logout-shell.mrvl-overlay-shell .db-logout-dialog-text,.im-logout-shell.mrvl-overlay-shell .fb-logout-dialog-text,.im-logout-shell.mrvl-overlay-shell .gp-logout-dialog-text,.im-logout-shell.mrvl-overlay-shell .im-logout-dialog-text{margin:20px 40px 0 50px;font-size:1.38em;font-weight:400;line-height:1.5;text-align:center;color:#35414c;word-wrap:break-word}.db-logout-shell.mrvl-overlay-shell .mrvl-dlg-btn-area,.fb-logout-shell.mrvl-overlay-shell .mrvl-dlg-btn-area,.gp-logout-shell.mrvl-overlay-shell .mrvl-dlg-btn-area,.im-logout-shell.mrvl-overlay-shell .mrvl-dlg-btn-area{position:static;padding:25px 20px;bottom:27px;width:100%;right:25px}.db-logout-shell.mrvl-overlay-shell button.cancel-btn,.db-logout-shell.mrvl-overlay-shell button.confirm-btn,.fb-logout-shell.mrvl-overlay-shell button.cancel-btn,.fb-logout-shell.mrvl-overlay-shell button.confirm-btn,.gp-logout-shell.mrvl-overlay-shell button.cancel-btn,.gp-logout-shell.mrvl-overlay-shell button.confirm-btn,.im-logout-shell.mrvl-overlay-shell button.cancel-btn,.im-logout-shell.mrvl-overlay-shell button.confirm-btn{display:inline-block;background-color:transparent;font-size:1.23em;font-weight:700;color:#fff;width:auto;min-width:0;padding:10px 16px;margin:0 5px;border-radius:40px;text-align:center;line-height:1;vertical-align:middle;height:36px;transition:opacity .1s,background-color .1s,color .1s}.db-logout-shell.mrvl-overlay-shell button.cancel-btn.confirm-btn,.db-logout-shell.mrvl-overlay-shell button.confirm-btn.confirm-btn,.fb-logout-shell.mrvl-overlay-shell button.cancel-btn.confirm-btn,.fb-logout-shell.mrvl-overlay-shell button.confirm-btn.confirm-btn,.gp-logout-shell.mrvl-overlay-shell button.cancel-btn.confirm-btn,.gp-logout-shell.mrvl-overlay-shell button.confirm-btn.confirm-btn,.im-logout-shell.mrvl-overlay-shell button.cancel-btn.confirm-btn,.im-logout-shell.mrvl-overlay-shell button.confirm-btn.confirm-btn{background-color:#1473e6;border:0}.db-logout-shell.mrvl-overlay-shell button.cancel-btn.cancel-btn,.db-logout-shell.mrvl-overlay-shell button.confirm-btn.cancel-btn,.fb-logout-shell.mrvl-overlay-shell button.cancel-btn.cancel-btn,.fb-logout-shell.mrvl-overlay-shell button.confirm-btn.cancel-btn,.gp-logout-shell.mrvl-overlay-shell button.cancel-btn.cancel-btn,.gp-logout-shell.mrvl-overlay-shell button.confirm-btn.cancel-btn,.im-logout-shell.mrvl-overlay-shell button.cancel-btn.cancel-btn,.im-logout-shell.mrvl-overlay-shell button.confirm-btn.cancel-btn{background-color:#fff;color:#3a3a3a}.lightroom-importer-dialog-shell.mrvl-overlay-shell{position:absolute;height:86%;width:86%}.stock-license-shell .stock-license-dialog-text{margin:20px 20px 0;font-size:16px}.stock-license-shell .stock-license-dialog-text.no-license{font-weight:700;margin-left:30px;margin-right:30px}.stock-picker.sp-picker .stockViewTypeTabs{display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;padding:0 40px;margin-top:19px}.stock-picker.sp-picker .stockViewTypeTabs button{background-color:transparent;color:#9aa6af;font-weight:400;font-size:.933em;padding-bottom:6px;border-bottom:3px solid;border-bottom-color:transparent;cursor:pointer}.light-theme .stock-picker.sp-picker .stockViewTypeTabs button{color:#82919b}.stock-picker.sp-picker .stockViewTypeTabs button:hover{color:#dce0e3}.light-theme .stock-picker.sp-picker .stockViewTypeTabs button:hover{color:#1a1a1a}.stock-picker.sp-picker.view-type-history .stockShowLicenseHistoryButton{color:#dce0e3;border-bottom-color:#dce0e3;border-radius:0}.light-theme .stock-picker.sp-picker.view-type-history .stockShowLicenseHistoryButton{color:#1a1a1a;border-bottom-color:#1a1a1a}.stock-picker.sp-picker.view-type-history .no-results-search,.stock-picker.sp-picker.view-type-history .stockSearchEntry{display:none}.stock-picker.sp-picker.view-type-history .results{top:61px}.stock-picker.sp-picker.view-type-history .flickr-more-results,.stock-picker.sp-picker.view-type-history .no-results,.stock-picker.sp-picker.view-type-history .pixabay-more-results{margin-top:75px}.stock-picker.sp-picker .flickr-more-results,.stock-picker.sp-picker .no-results,.stock-picker.sp-picker .pixabay-more-results{line-height:1;color:#9aa6af}.stock-picker.sp-picker .flickr-more-results .no-results-history,.stock-picker.sp-picker .no-results .no-results-history,.stock-picker.sp-picker .pixabay-more-results .no-results-history{font-weight:400;font-size:12px;line-height:15px}.stock-picker.sp-picker .flickr-more-results .no-results-history br,.stock-picker.sp-picker .no-results .no-results-history br,.stock-picker.sp-picker .pixabay-more-results .no-results-history br{line-height:24px}.stock-picker.sp-picker .flickr-more-results .no-results-history .no-results-history-title,.stock-picker.sp-picker .no-results .no-results-history .no-results-history-title,.stock-picker.sp-picker .pixabay-more-results .no-results-history .no-results-history-title{font-size:16px;font-weight:400;line-height:20px}.stock-picker.sp-picker .flickr-more-results .no-results-search,.stock-picker.sp-picker .no-results .no-results-search,.stock-picker.sp-picker .pixabay-more-results .no-results-search{font-weight:400}.stock-picker.sp-picker.view-type-search .stockShowSearchButton{color:#dce0e3;border-bottom-color:#dce0e3;border-radius:0}.light-theme .stock-picker.sp-picker.view-type-search .stockShowSearchButton{color:#1a1a1a;border-bottom-color:#1a1a1a}.stock-picker.sp-picker.view-type-search .no-results-history{display:none}.stock-picker.sp-picker .search-info{width:100%}.stock-picker.sp-picker .results{top:116px}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper:before{-webkit-mask-image:url(/marvel-core/images/pickers/lib-icon.svg);mask-image:url(/marvel-core/images/pickers/lib-icon.svg)}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .label{display:-webkit-flex;display:flex;width:245px}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .label span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .right-shared-icon{display:-webkit-flex;display:flex;-webkit-mask-image:url(/marvel-core/images/pickers/library-shared.svg);mask-image:url(/marvel-core/images/pickers/library-shared.svg);-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:#82919b;height:18px;width:18px;margin-left:3px}.light-theme .creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .right-shared-icon{background-color:#c5ccd0}.creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .right-public-icon{display:-webkit-flex;display:flex;-webkit-mask-image:url(/marvel-core/images/pickers/library-public.svg);mask-image:url(/marvel-core/images/pickers/library-public.svg);-webkit-mask-size:contain;mask-size:contain;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;background-color:#82919b;height:18px;width:18px;margin-left:3px}.light-theme .creative-cloud-libraries-picker.sp-picker .results .folders .folder-wrapper .right-public-icon{background-color:#c5ccd0}.creative-cloud-libraries-picker.sp-picker .results .thumbnail-wrapper{background-color:transparent}.light-theme .creative-cloud-libraries-picker.sp-picker .results .thumbnail-wrapper{background-color:#f4f5f5}.creative-cloud-libraries-picker.sp-picker .results .no-libraries{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;text-align:center;color:#dce0e3}.light-theme .creative-cloud-libraries-picker.sp-picker .results .no-libraries{color:#1a1a1a}.creative-cloud-libraries-picker.sp-picker .results .no-libraries .no-libraries-image{display:-webkit-flex;display:flex;background-image:url(/marvel-core/images/pickers/empty-state-illustration.svg);height:200px;width:200px;margin-top:50px;margin-bottom:20px}.light-theme .creative-cloud-libraries-picker.sp-picker .results .no-libraries .no-libraries-image{background-image:url(/marvel-core/images/pickers/empty-state-illustration-light.svg)}.creative-cloud-libraries-picker.sp-picker .results .no-libraries .no-libraries-title-text{display:-webkit-flex;display:flex;font-weight:900;font-size:18px;margin-bottom:18px;width:215px}.creative-cloud-libraries-picker.sp-picker .results .no-libraries .no-libraries-body-text{display:-webkit-flex;display:flex;font-size:13px;font-weight:400;width:215px;line-height:20px;margin-bottom:18px}.creative-cloud-libraries-picker.sp-picker .results .no-libraries .libraries-learn-more{display:-webkit-flex;display:flex;font-size:13px}.creative-cloud-libraries-picker.sp-picker .results .no-library-assets{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-align-items:center;align-items:center;text-align:center}.creative-cloud-libraries-picker.sp-picker .results .no-library-assets .no-library-assets-image{display:-webkit-flex;display:flex;background-image:url(/marvel-core/images/pickers/empty-state-illustration.svg);height:200px;width:200px;margin-top:50px;margin-bottom:20px}.light-theme .creative-cloud-libraries-picker.sp-picker .results .no-library-assets .no-library-assets-image{background-image:url(/marvel-core/images/pickers/empty-state-illustration-light.svg)}.creative-cloud-libraries-picker.sp-picker .results .no-library-assets .no-library-assets-title-text{display:-webkit-flex;display:flex;font-weight:900;font-size:18px;margin-bottom:18px;width:215px}.creative-cloud-libraries-picker.sp-picker .results .no-library-assets .no-library-assets-body-text{display:-webkit-flex;display:flex;font-size:13px;font-weight:400;width:215px;line-height:20px;margin-bottom:18px}.creative-cloud-libraries-picker.sp-picker .results .no-library-assets .libraries-learn-more{display:-webkit-flex;display:flex;font-size:13px}',""])},762:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(7),i(8),i(10),i(4),i(30),i(38)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d){"use strict";var c,p=new a.default({color:"orange",name:"publisher"});return i.Model.extend({initialize:function(e){c=e.cpUtils,this.confirmView=l},getPublishedLink:function(e){var t="",i=e.getMyApp(),n=i.getPublishImpl();switch(i.registeredName){case"ginger-snap":t=n.getData("publishedVideoURL",e);break;default:t=c.cpLink(i.getCPCommunity(),i.getCPAssetId(e),i.getCPAlias(e))}return t},getCommunityCategories:function(e,t){return c.getCommunityCategories(e,t)},getVersion:function(e,i){var r=n.defer();return i=i?i+"/":"",o.ajax({type:"GET",url:"https://"+c.cpService+"/api/v2/resources/"+e+"/"+i+":metadata",headers:{Accept:"*/*","X-api-key":c.apiKey}}).then((function(e,i,n){t.isUndefined(e.version)?r.resolve(new Date(e.modified)-new Date(e.created)):r.resolve(e.version)}),(function(e){r.reject(e)})),r.promise},initiateServerCopy:function(e,i,r,a){var l=s.maxFilesInCpCopy;if(r.cleanUpComponentsBeforeServerCopy&&"function"==typeof r.cleanUpComponentsBeforeServerCopy&&r.cleanUpComponentsBeforeServerCopy(e,i,a),e.copy.files.length<=l){var d=n.defer();return o.ajax({type:"POST",url:"https://"+c.cpService+"/api/v2/resources/"+this.getResourcePath(i)+"/:copy?api_key="+c.apiKey,data:JSON.stringify(e),headers:{Accept:"*/*","Content-Type":"application/json"},success:function(e,t,i){var n=i.getResponseHeader("Location");d.resolve(n+"?api_key="+c.apiKey)}.bind(this),error:function(e){p.error("Server-side initiate copy failed with "+e.status,e),d.reject(e)}}),d.promise}var h=t.chunk(e.copy.files,l),u=t.clone(e),g=[],m=e.copy.files.length;return delete u.copy.files,t.each(h,function(e){var r=n.defer(),a=e.length,s=t.clone(u);g.push(r.promise),s.copy.files=e,o.ajax({type:"POST",url:"https://"+c.cpService+"/api/v2/resources/"+this.getResourcePath(i)+"/:copy?api_key="+c.apiKey,data:JSON.stringify(s),headers:{Accept:"*/*","Content-Type":"application/json"},success:function(e,t,i){var n=i.getResponseHeader("Location");r.resolve({weight:a/m,url:n+"?api_key="+c.apiKey})}.bind(this),error:function(e){p.error("Server-side initiate chunk copy failed with "+e.status,e),r.reject(e)}})}.bind(this)),n.all(g).then((function(e){return e})).catch((function(e){return n.reject(e)}))},updateOneProgress:function(e,i,n,o){var r=0;if("object"==typeof i){if(i.monitors[n].pct=o.progress,t.each(i.monitors,(function(e){r+=e.pct*e.weight})),i.lastSentPct===r)return;i.lastSentPct=r}else r=o.progress;e.trigger("progress",r)},_getCheckStatusError:function(e,t,i){var n="Server-side copy monitor status error:";n+=i?i.error_code+":"+i.sub_error_code+":"+i.error_message:e.status;var o=new Error(n);return o.url=t,o.responseText=e.responseText,o.is_resources_copy_err=!0,i?(o.status=i.error_code,o.sub_error_code=i.sub_error_code):o.status=e.status,p.error(o.message,o),o},checkStatus:function(e,i,r,a,s){var l=i||n.defer();if(o.ajax({type:"GET",url:e,headers:{Accept:"*/*"},success:function(i,n,o){"done"==i.status?(r.trigger&&a&&this.updateOneProgress(r,a,e,i),l.resolve(i)):"in_progress"==i.status?(r.trigger&&a&&this.updateOneProgress(r,a,e,i),t.delay(this.checkStatus.bind(this,e,l,r,a,s),s||500)):"failed"==i.status?l.reject(this._getCheckStatusError(o,e,i)):t.delay(this.checkStatus.bind(this,e,l,r,a,s),s||500)}.bind(this),error:function(t){l.reject(this._getCheckStatusError(t,e))}}),!i)return l.promise},getManifest:function(e,t,i){var n={title:"string"==typeof t.title?t.title:e.get("name"),undiscoverable:!t.isPublic,description:t.description||"",category_id:t.category,sub_category_ids:[t.subcat||"other"]};return i?n:{resource_path:t.projectId,resource_type:t.type,metadata:n}},createDirectoryResource:function(t,i,r){return n.Promise(function(n,a){var s="";"adobe-theo"===t.get("syncGroupName")&&(s="?"+e.param({tags:"collection_class:dcx_composite"})),o.ajax({type:"PUT",url:"https://"+c.cpService+"/api/v2/resources/"+this.getResourcePath(i,r)+"/:dir"+s,headers:{Accept:"application/json","X-Api-Key":c.apiKey},success:function(e){n(e)},error:function(e){p.error("Failed to create resource directory with "+e.status,{xhr:e,projectId:i,path:r}),a(e)}.bind(this)})}.bind(this))},uploadResources:function(e,i,o,r){if("function"!=typeof r){var a=[];return t.each(o,function(t,n){a.push(this.uploadResource(e,i,n,t))}.bind(this)),n.all(a)}var s,l=function(t,a){return this.uploadResource(e,i,t,a).then((function(e){return n(r(o,t,e)).then((function(){return e}))}))}.bind(this),d=[];return t.each(o,(function(e,t){"manifest"===t?s=e:d.push(l(t,e))})),n.all(d).then((function(e){return s?l("manifest",s).then((function(t){return e.push(t),e})):e}))},uploadResource:function(e,t,i,r,a){var s=n.defer();return this.checkResource(e,t,i,r).then(function(n){var l="update"===n,d="text/html",h=r;"object"==typeof r&&r.content&&(d=r.contentType,h=r.content),o.ajax({type:"PUT",url:"https://"+c.cpService+"/api/v2/resources/"+this.getResourcePath(t,i),headers:{Accept:"application/vnd.adobe.file+json","X-Api-Key":c.apiKey,"Content-Type":d},beforeSend:function(e){l&&e.setRequestHeader("If-Match","*")},data:h,processData:!(h instanceof Uint8Array||h instanceof ArrayBuffer),success:function(e){s.resolve(e)},error:function(n){409!==n.status||l||a?(p.error("Failed to upload resource with "+n.status,{xhr:n,projectId:t,path:i}),s.reject(n)):this.uploadResource(e,t,i,r,!0).then((function(e){s.resolve(e)}),(function(e){s.reject(e)}))}.bind(this)})}.bind(this)),s.promise},checkResource:function(e,t,i,r){var a=n.defer();return o.ajax({type:"GET",url:"https://"+c.cpService+"/api/v2/resources/"+this.getResourcePath(t,i)+"/:S3",headers:{Accept:"*/*","X-Api-Key":c.apiKey},success:function(){p.debug("Resource exists, update",{projectId:t,path:i}),a.resolve("update")},error:function(){p.debug("Resource doesn't exist, upload",{projectId:t,path:i}),a.resolve("upload")}}),a.promise},getResourcePath:function(e,t){return e+(t?"/"+t:"")},_fetchAssetMetadata:function(e,i){var r,a=n.defer(),s=this,l=!1;return p.debug("fetch asset meta-data for "+i),r=function(n,d,h){d||(d=new Date),h||(h=500),o.ajax({type:"GET",url:"https://"+c.cpService+"/api/v2/"+e+"/assets/"+i,dataType:"json",headers:{"X-Api-Key":c.apiKey,Accept:"application/hal+json"},success:function(e){s.hideConfirm(),p.debug("fetched asset meta-data for "+i,e),a.resolve(e)},error:function(e){if(500!==e.status&&404!==e.status)s.hideConfirm(),p.error("Failed to fetch recently published asset from CP",{assetId:i,err:e}),a.reject(e);else{var o,c=(new Date).getTime(),u=c-d.getTime();if(l)p.error("Failed to fetch recently published asset from CP after waiting",{assetId:i,err:e,waitSecs:u/1e3}),e.shownErr=!0,a.reject(e),a=null;else{if(u>6e4)return void s.showConfirm("Publishing has reached the maximum time that it can wait","Please try again later.",!0,null,function(){p.error("Failed to fetch recently published asset from CP after waiting max time",{assetId:i,err:e}),e.shownErr=!0,a.reject(e),a=null}.bind(this));this.confirmView.isShowing()||(n?o=c-n.getTime():n=new Date,o>=1e4?(n=null,s.showConfirm("Publishing is taking longer than usual.","Would you like to cancel and try again later, or would you like to wait a little longer?",!1,"Continue",function(e){e||(l=!0)}.bind(this))):u>3e3&&(h=1e3))}a&&t.delay((function(){r(n,d,h)}),h)}}})}.bind(this),t.defer(r),a.promise},showConfirm:function(e,t,i,n,o){i?this.confirmView.showAlert(e,t,{okText:n}).then((function(e){o(e)})):this.confirmView.showConfirm(e,t,{okText:n}).then((function(e){o(e)}))},hideConfirm:function(){this.confirmView.isShowing()&&this.confirmView.hide()},updatePublishedAsset:function(e,t,i){var r,a=this,s=n.defer();return e.mrvlDoc?(t=e.pubSettings,i=e.cpAssetId,r=this.addMetaDataToPubInfo(e,!0)):r=this.getManifest(e,t,!0),o.ajax({type:"PUT",url:"https://"+c.cpService+"/api/v2/"+t.community+"/assets/"+i,headers:{"X-Api-Key":c.apiKey,Accept:"application/vnd.adobe.file+json","Content-Type":"application/json"},data:JSON.stringify(r,null,"  "),success:function(e,n,o){a._fetchAssetMetadata(t.community,i).then((function(e){s.resolve(e)}),(function(e){s.reject(e)}))},error:function(e){p.error("Failed to update asset in CP "+e.status,e),s.reject(e)}}),s.promise},acquireShareLinkFromPubInfo:function(e){var t=e.publishConfig;return t.category||((t=this.getCopyOfPubConfigFromPubInfo(e)).category="other"),e.publishImpl.acquireShareLink(e.mrvlDoc,e.publishImpl,t,e.progressId).then(function(t){return t&&(t.cancel||(e.cpAssetId=t.asset.assetId,t.cpAlias=t.asset.cpAlias,t.asset&&t.asset.resource_version&&(e.lastUpdatedMainResourceVersion=t.asset.resource_version))),{publishData:t,pubInfo:e}}.bind(this))},acquireFinalDownloadLink:function(e,t,i){if(i.cancel)return{publishData:i,pubInfo:e};var r=n.defer();return t=t.replace(/"/g,"'"),o.ajax({type:"GET",url:i.link+"/:raw",headers:{Accept:"application/vnd.adobe.s3presignedurl+json","X-api-key":c.apiKey,"Content-Disposition":'attachment; filename="'+encodeURI(t)+'"'},success:function(e){r.resolve(e)},error:function(e){p.error("getPresignedUrlDefer: "+e.status,e),r.reject(e)}}),r.promise.then(function(t){return i.downloadLink=t.presigned_href,{publishData:i,pubInfo:e}}.bind(this))},acquireDownloadLinkFromPubInfo:function(e,t){return e.publishImpl.downloadFile(e.mrvlDoc,e.publishImpl,e.publishConfig,e.progressId).then(function(i){return this.acquireFinalDownloadLink(e,t,i)}.bind(this))},_getPreShareCpAlias:function(e){if(!e.aquireAliasBeforePublish)return n.resolve(e);var t=n.defer();return o.ajax({type:"POST",url:"https://"+c.cpService+"/api/v2/"+e.app.getCPCommunity()+"/alias",headers:{Accept:"*/*","X-api-key":c.apiKey},success:function(e){t.resolve(e)},error:function(e){p.error("_getPreShareCpAlias data error: "+e.status,e),t.reject(e)}}),t.promise.then(function(t){return e.cpAlias=t.alias,e}.bind(this))},calculatePreshare:function(e,t){var i=n.defer(),o={pubInfo:e,mrvlDoc:e.mrvlDoc,fileDataIsOnlyForAvatar:!1,avatarNeedsUpload:!1},r=e.supportsFileData&&!e.filesDataResult&&!e.isRepublishWithIdenticalContent,a=e.prepublishFunction&&!e.prePubResult&&!e.isRepublishWithIdenticalContent;return e.publishImpl.finalizePublish&&(e.finalizerPublishPromise=null),e.publishConfig.showAvatar&&this.getAvatarComponent(e.mrvlDoc,e.app.getStorageImpl())&&e.supportsFileData&&!r&&(o.fileDataIsOnlyForAvatar=!0,e.lastAvatarCopied?e.avatarDirty&&e.avatarDirty!==e.lastAvatarSuccessfullyCopiedDirty&&(o.avatarNeedsUpload=!0):o.avatarNeedsUpload=!0,o.avatarNeedsUpload&&(r=!0)),a?e.prepublishFunction().then(function(n){if(t(e))return i.resolve("cancel");e.prePubResult=n,r?this.fetchCurrentDocFilesData(o,t).done(function(e){i.resolve(e)}.bind(this)):i.resolve("skipped")}.bind(this)):r?this.fetchCurrentDocFilesData(o,t).done(function(e){i.resolve(e)}.bind(this)):i.resolve("skipped"),i.promise.then(function(t){return"cancel"===t?n.resolve(e,"cancel"):"skipped"===t?(e.filesDataResult&&(e.filesDataResult.avatarNeedsUpload=o.avatarNeedsUpload,e.filesDataResult.fileDataIsOnlyForAvatar=o.fileDataIsOnlyForAvatar),n.resolve(e,"success")):(e.filesDataResult=t,e.publishConfig.showAvatar&&this.addAvatarSrcToFilesDataResult(e),n.resolve(e,"success"))}.bind(this))},_addLinkToPreshareRslt:function(e,t){return e.link||!e.aquireAliasBeforePublish&&!t||(e.cpAlias?e.link=c.cpLink(e.pubSettings.community,null,e.cpAlias):(t||p.error("no cpAlias for preshare!",e),e.link="")),e},setPotentialPublishedStateOfPubInfo:function(e){e.app.getCPAlias(e.mrvlDoc);var t=e.app.getCPAssetId(e.mrvlDoc);return e.potentialPubState=!!t,e.potentialDirtyPublish=e.app.hasContentBeenUpdatedSincePublish(e.mrvlDoc),e.potentialPubState},acquirePreshareLink:function(e){if(this.setIsPublishing(!0,e.publishImpl),e.initialConfigSettings=this.getCopyOfPubConfigFromPubInfo(e),e.settingsRequireDocRecalc=!1,e.publishImpl.acquirePreshareLink)return e.publishImpl.acquirePreshareLink.apply(e.publishImpl,[e.mrvlDoc,e.publishImpl,e.publishConfig]);var t=n.defer(),i=e.app.getCPAssetId(e.mrvlDoc);return e.projectId=e.app.getCPProjectId(e.mrvlDoc),e.cpAssetId=i,e.cpAlias=e.app.getCPAlias(e.mrvlDoc),e.isRepublish=!!i,e.pubSettings={type:e.assetType,community:e.app.getCPCommunity(),category:e.publishImpl.communityCategory,subcat:e.publishConfig.category,isPublic:e.publishConfig.isPublic},e.cpVerifyChange=!1,e.pubSettings.projectId=e.projectId,e.projectId?c.checkPublishState(e.projectId).then(function(n,o,r){var a=n.id;0===a.indexOf("US/")&&(a=a.substr(3)),e.cpAssetId!==a?(e.cpVerifyChange=!0,c.checkUnpublishedState(a,e.app.getCPCommunity()).then(function(n,o,r){p.warn("Discovered inaccurate CP asset ID was "+i+" now "+a),e.cpAssetId=a,e.isRepublish=!0,n.alias?(e.cpAlias=n.alias,t.resolve(this._addLinkToPreshareRslt(e,!0))):(p.error("checkUnpublishedState had inaccurate CP asset ID, but no alias",n),this._getPreShareCpAlias(e).done(function(){t.resolve(this._addLinkToPreshareRslt(e,!0))}.bind(this)))}.bind(this),function(i){this._getPreShareCpAlias(e).done(function(){t.resolve(this._addLinkToPreshareRslt(e,!0))}.bind(this))}.bind(this))):(e.app.hasContentBeenUpdatedSincePublish(e.mrvlDoc)||(e.isRepublishWithIdenticalContent=!0),t.resolve(this._addLinkToPreshareRslt(e)))}.bind(this),function(o){var r=n();e.isRepublish&&(p.warn("Discovered inaccurate CP asset ID was "+i+" but it wasn't published"),e.isRepublish=!1,e.cpAssetId=null,r=this.createDirectoryResource(e.mrvlDoc,e.projectId)),r.then(this._getPreShareCpAlias.bind(this,e)).done(function(){t.resolve(this._addLinkToPreshareRslt(e))}.bind(this))}.bind(this)):(e.projectId=e.app.generateCPProjectId(e.mrvlDoc),e.app.setCPProjectId(e.mrvlDoc,e.projectId),e.pubSettings.projectId=e.projectId,this.createDirectoryResource(e.mrvlDoc,e.projectId).then(this._getPreShareCpAlias.bind(this,e)).done(function(){t.resolve(this._addLinkToPreshareRslt(e))}.bind(this))),t.promise},addAvatarSrcToFilesDataResult:function(e){var i=t.find(e.filesDataResult.currentFilesInfo.copy,(function(e){return e.destination.match(/^avatar/)}));return t.isUndefined(i)||(e.filesDataResult.currentFilesInfo.avatarFile={copyInfo:i}),!!e.filesDataResult.currentFilesInfo.avatarFile},getAvatarComponent:function(e,t){var i=e.getDCXComposite().current;if(t.avatarComponentPath)return i.getComponentWithAbsolutePath(t.avatarComponentPath);var n=i.getComponentWithAbsolutePath("/avatar.jpg");return n||(n=i.getComponentWithAbsolutePath("/avatar.png")),n},getCopyOfPubConfigFromPubInfo:function(e,i){return t.clone(i||e.publishConfig)},calculatePublishDataFromDoc:function(e){return e.publishImpl.finalizePublish?(e.publishResources="finalize",n.resolve(e)):(e.forceDocRecalcForThisShare?(t=!0,e.forceDocRecalcForThisShare=!1):t=!e.isRepublish||e.app.hasContentBeenUpdatedSincePublish(e.mrvlDoc)||this.doShareSettingsRequireContentRecalc(e),this.cachePublishingEtag(e),t?this.calculatePublishResources(e):(e.isRepublish||p.error("doc doesn't need recalc for initial publish",e),e.settingsFromLastResourcesCalc=this.getCopyOfPubConfigFromPubInfo(e),e.publishResources="current",n.resolve(e)));var t},publishSettingsChanged:function(e,t){return this.recalcSettingsChanged(e)},recalcSettingsChanged:function(e){var i=e.settingsRequireDocRecalc,n=e.settingsFromLastResourcesCalc||e.initialConfigSettings,o=e.publishConfig;return e.lastPublishAssetInfo&&(n=e.lastPublishAssetInfo.pubConfig),e.settingsChangedSinceLastShare=t.find(n,(function(e,t){return o[t]!==n[t]})),e.settingsRequireDocRecalc=this.doShareSettingsRequireContentRecalc(e),e.settingsRequireDocRecalc?e.settingsDirty=!0:e.settingsDirty=t.some(e.fields.metadataOnly,(function(e){return o[e]!==n[e]})),e.settingsRequireDocRecalc!==i&&p.debug("Share settings require recalc changed to:"+e.settingsRequireDocRecalc),e.settingsDirty},doShareSettingsRequireContentRecalc:function(e){if(e.publishImpl.finalizePublish)return!1;var i=e.settingsFromLastResourcesCalc||e.initialConfigSettings,n=e.publishConfig,o=!1;return e.fields.doesAuthorChangeRequireDocRecalc&&(n[e.fields.showAuthorFieldId]!==i[e.fields.showAuthorFieldId]?o=!0:n[e.fields.showAuthorFieldId]&&(o=t.some(e.fields.author,(function(e){return n[e]!==i[e]}))),!o&&e.fields.showAvatarFieldId&&(o=!0===n[e.fields.showAvatarFieldId]?!i[e.fields.showAvatarFieldId]||n[e.fields.avatarUrlFieldId]!==i[e.fields.avatarUrlFieldId]:i[e.fields.showAvatarFieldId]&&i[e.fields.avatarUrlFieldId])),!o&&e.fields.nonAuthorFieldsThatTriggerContentRecalc&&(o=t.some(e.fields.nonAuthorFieldsThatTriggerContentRecalc,(function(e){return n[e]!==i[e]}))),o},cachePublishingEtag:function(e){e.publishingEtag=e.mrvlDoc.getMainContentEtag()},calculatePublishResources:function(e){var t,i=n.defer(),o={etag:e.publishingEtag};t={id:e.cpAssetId,alias:e.cpAlias,_links:{self:{href:this.getHrefForPublishedAsset(e.cpAssetId,e.pubSettings)}},publish_url:e.link},e.settingsFromLastResourcesCalc=this.getCopyOfPubConfigFromPubInfo(e);var r=e.publishConfig;return(e.publishImpl.getUpdatedPublishResourcesForPublishConfig&&e.isRepublishWithIdenticalContent&&e.publishResources&&e.publishResources.resources?e.publishImpl.getUpdatedPublishResourcesForPublishConfig(e.mrvlDoc,e.publishResources.resources,r):e.publishImpl.doPublish(e.mrvlDoc,r,t)).done(function(t){o.resources=t,e.publishResources=o,i.resolve(e)}.bind(this)),i.promise},getCPAssetIdFromAssetUrl:function(e){var t=e.split("/");return t[t.length-1]},finalizeServerPublish:function(e){if(e.finalizerPublishPromise)return e.finalizerPublishPromise;this.recalcSettingsChanged(e),e.settingsFromLastResourcesCalc=this.getCopyOfPubConfigFromPubInfo(e);var i=e.publishConfig,n={};return i!==e.publishConfig&&(i=t.clone(e.publishConfig)),i.cpAssetId=e.cpAssetId,i.cpAlias=e.cpAlias,i.cpResourceId=e.projectId,n.previousPublishConfig=e.lastFinalizeServerPublishConfig||e.initialConfigSettings,n.isRepublish=e.isRepublish,n.contentDirty=!n.isRepublish||!e.isRepublishWithIdenticalContent,n.settingsDirty=e.settingsDirty,e.lastFinalizeServerPublishConfig=this.getCopyOfPubConfigFromPubInfo(e,i),e.finalizerPublishPromise=e.publishImpl.finalizePublish(e.mrvlDoc,i,n).then(function(t){return t.alias&&(t.location&&(e.cpAssetId=this.getCPAssetIdFromAssetUrl(t.location),i.cpAssetId=e.cpAssetId),t.version&&(e.publishedAssetVersion=t.version),e.cpAlias!==t.alias?(e.cpAlias=t.alias,e.link=c.cpLink(e.pubSettings.community,null,e.cpAlias)):e.link||(e.link=c.cpLink(e.pubSettings.community,null,e.cpAlias))),e}.bind(this)),e.finalizerPublishPromise},fetchCurrentDocFilesData:function(e,i){var r=n.defer(),a=e.mrvlDoc.getDCXComposite(),s=a.current,l=n.defer(),d=e.pubInfo,h=a.href;return-1===h.search(/^https?\:\/\//)&&(h="https://"+h),o.ajax({type:"GET",url:h,dataType:"json",headers:{Accept:"*/*","X-api-key":c.apiKey},success:function(e){p.debug("Fetch data success",e),l.resolve(e)},error:function(e){p.error("Fetch data error: "+e.status,e),l.reject(e)}}),l.promise.then(function(o){var a=[];if(i(d))return n.resolve("cancel");if(p.debug("fetchCurrentDocFilesData in progress",o),e.collectionId=o.id,d.publishImpl.getFilesDataToCopyFromServerData)return d.publishImpl.getFilesDataToCopyFromServerData(o,d.mrvlDoc,d.publishConfig).then((function(t){if(i(d))return n.resolve("cancel");e.currentFilesInfo={copy:t.files||t,data:o},e.additionalCopyDefer=t.additionalCopyDefer,r.resolve(e)}));var l=s.getComponentsOf();t.each(l,function(t){a.push({source:e.collectionId+"/"+t.id,content_type:t.type,destination:t.path})}.bind(this));var c=t.find(s.getChildrenOf(),(function(e){return"page"==e.name})),h=s.getComponentsOf(c);if(t.each(h,function(t){a.push({source:e.collectionId+"/"+t.id,destination:t.path,content_type:t.type})}.bind(this)),i(d))return n.resolve("cancel");e.currentFilesInfo={copy:a,data:o},r.resolve(e)}.bind(this)).catch((function(e){r.reject(e)})),r.promise},updateFileVersionsAfterCopy:function(e,i){if(i&&i.outputs)return t.each(e.filesDataResult.currentFilesInfo.copy,(function(e){if(e.track_version){var n=t.find(i.outputs,(function(t){return t.path===e.destination}));n&&(e.version=n.version,e.copyResults=n)}})),n.resolve();var o=[];if(t.each(e.filesDataResult.currentFilesInfo.copy,function(i){if(i.track_version&&t.isUndefined(i.version)){var r=n.defer();o.push(r.promise),this.getVersion(e.projectId,i.destination).then((function(e){i.version=e,r.resolve()}),(function(e){r.reject(e)}))}}.bind(this)),o.length){var r=n.defer();return n.allSettled(o).done((function(i){var n=[];t.each(i,(function(e){"fulfilled"!==e.state&&n.push(e.reason)})),n.length?r.reject(n):r.resolve(e)})),r.promise}return n.resolve()},copyThePublishDataFiles:function(e,i){if(e.publishImpl.copyThePublishDataFiles)return e.publishImpl.copyThePublishDataFiles(e,i);if(!e.filesDataResult)return n.resolve(e);var o,r=n.defer(),a=n.defer(),s=e.avatarDirty,l=e.filesDataResult.currentFilesInfo.avatarFile&&e.filesDataResult.currentFilesInfo.avatarFile.copyInfo;if(e.filesDataResult.fileDataIsOnlyForAvatar)e.filesDataResult.avatarNeedsUpload?l?o=[l]:(o=null,p.warn("avatarNeedsUpload but no src",e)):l=null;else if(e.filesDataResult.currentFilesInfo.copy.length&&(e.filesSuccessfullyCopied?(o=[],t.each(e.filesDataResult.currentFilesInfo.copy,(function(i){t.isUndefined(e.filesSuccessfullyCopied[i.source])&&o.push(i)}))):o=e.filesDataResult.currentFilesInfo.copy.slice(),e.initialCopyRequest&&!e.initialCopyRequest.done)){var d=[],c={};t.each(e.initialCopyRequest.copy.files,(function(e){c[e.source]=e})),t.each(o,(function(e){t.isUndefined(c[e.source])&&d.push(e)})),o=d}if(o&&o.length){l&&(e.lastAvatarCopied=l);var h,u={copy:{files:o}},g=!e.filesDataResult.fileDataIsOnlyForAvatar;p.debug("has files to copy server-side",o),e.filesDataResult.currentFilesInfo.status="initiating",e.initialCopyRequest||(e.initialCopyRequest=u,h=!0),this.initiateServerCopy(u,e.projectId,e.publishImpl,e.mrvlDoc).done(function(o){if(i(e))return a.resolve({status:"cancel"});if(t.isArray(o)){var r=[];u.copy.files.length;g&&(g={monitors:{},totalMonitors:0}),p.debug("Server side copy monitor URLs: "+o),e.filesDataResult.currentFilesInfo.status="monitoring",t.each(o,function(t){g&&(g.monitors[t.url]={pct:0,weight:t.weight},g.totalMonitors++),r.push(this.checkStatus(t.url,null,e.publishImpl,g,2e3))}.bind(this)),n.all(r).then((function(e){var i=[],n=t.find(e,(function(e){if("done"!==e.status)return!0;i=i.concat(e.outputs)}));n?a.resolve(n):(e[0].outputs=i,a.resolve(e[0]))})).catch((function(e){return a.reject(e)}))}else p.debug("Server side copy monitor URL: "+o),e.filesDataResult.currentFilesInfo.status="monitoring",this.checkStatus(o,null,e.publishImpl,g,500).done(function(e){a.resolve(e)}.bind(this),(function(e){a.reject(e)}))}.bind(this),function(e){a.reject(e)}.bind(this))}else a.resolve({status:"skipped"});return a.promise.then(function(a){var l=!1;"cancel"===a.status||i(e)?(l=!0,e.filesDataResult.currentFilesInfo.status="cancelled"):(h&&(e.initialCopyRequest.isDone=!0),e.filesDataResult.currentFilesInfo.status="done","done"===a.status&&(e.filesSuccessfullyCopied||(e.filesSuccessfullyCopied={}),t.each(o,(function(t){e.filesSuccessfullyCopied[t.source]=t})),s&&(e.lastAvatarSuccessfullyCopiedDirty=s))),(e.filesDataResult.additionalCopyDefer&&!l?e.filesDataResult.additionalCopyDefer.promise:n()).then(function(){e.publishImpl.reviseDoPublishAfterFilesUpdate?this.updateFileVersionsAfterCopy(e,a).then((function(){r.resolve(e)}),(function(e){r.reject(e)})):r.resolve(e)}.bind(this),(function(e){r.reject(e)}))}.bind(this),function(t){h&&delete e.initialCopyRequest,r.reject(t)}.bind(this)),r.promise},uploadThePublishResources:function(e){if(e.publishImpl.finalizePublish)return this.finalizeServerPublish(e);if("current"!==e.publishResources){var t=n.defer();return this.uploadResources(e.mrvlDoc,e.projectId,e.publishResources.resources,e.publishImpl.resourceUploadReport).done(function(i){e.publishResources.results=i,t.resolve()}.bind(this),(function(e){t.reject(e)})),t.promise}n.resolve()},doShareUploads:function(e,i){var o=n.defer(),r=(e.mrvlDoc.getDCXComposite().current,[]),a=!1;if(r.push(this.copyThePublishDataFiles(e,i)),!e.publishImpl.finalizePublish||e.userWantsToGoInfo&&(e.requiredFilled||e.isRepublish))if(e.publishImpl.reviseDoPublishAfterFilesUpdate&&e.publishResources&&e.publishResources.resources){var s=n.defer(),l=r[0];r.push(s.promise),l.then(function(t){e.publishImpl.reviseDoPublishAfterFilesUpdate(e.publishResources.resources,e.filesDataResult.currentFilesInfo.copy).then(function(t){this.uploadThePublishResources(e).then((function(){s.resolve()}),(function(e){s.reject(e)}))}.bind(this))}.bind(this),function(e){a=!0,p.error("could not upload due to copy error in doShareUploads",e),s.reject(e)}.bind(this))}else r.push(this.uploadThePublishResources(e));return n.allSettled(r).done(function(n){var r=[];(a&&n.shift(),t.each(n,(function(e){"fulfilled"!==e.state&&r.push(e.reason)})),r.length)?o.reject(r):"cancel"===n[0].value||i(e)?o.resolve("cancel"):o.resolve(n)}.bind(this)),o.promise},addPubInfoToCurrentDoc:function(e){if(e.publishImpl.savePublishedDataToDoc){var t={cpAlias:e.cpAlias,cpAssetId:e.cpAssetId,assetLink:this.getHrefForPublishedAsset(e.cpAssetId,e.pubSettings),publishUrl:e.link,publishedAssetVersion:e.publishedAssetVersion,contentEtag:e.publishingEtag,scope:e.pubSettings.isPublic?"public":"private"};e.publishImpl.savePublishedDataToDoc(e.mrvlDoc,t)}},saveSuccessfulPublishDataToDoc:function(e){e.app.setCPAssetId(e.mrvlDoc,e.cpAssetId),e.app.setCPAlias(e.mrvlDoc,e.cpAlias),"current"!==e.publishResources?e.app.setPublishedContentETag(e.mrvlDoc,e.publishResources.etag):e.app.getPublishedContentETag(e.mrvlDoc)||e.app.setPublishedContentETag(e.mrvlDoc),this.addPubInfoToCurrentDoc(e)},doWeNeedToPostThisPublishedAsset:function(e){return!0},setIsPublishing:function(e,t){t.setIsPublishing&&t.setIsPublishing(e),this.isPublishing=e},postTheAssetAtEndOfShare:function(e){var t,i=n.defer();if(this.doWeNeedToPostThisPublishedAsset(e))"string"==typeof e.publishConfig.publishTitle?e.pubSettings.title=e.publishConfig.publishTitle:e.pubSettings.title=e.mrvlDoc.get("name")||"",e.pubSettings.isPublic=e.publishConfig.isPublic,e.publishImpl.finalizePublish?(p.debug("publishing to slate server",e),t=this.finalizeServerPublish(e)):e.isRepublish?(p.debug("Republishing: "+e.cpAssetId),t=this.updatePublishedAsset(e)):e.lastPublishAssetInfo&&!e.lastPublishAssetInfo.promise.isRejected()?(p.warn("Publishing actual conent for first time, but updating:"+e.cpAssetId,e),t=this.updatePublishedAsset(e)):(p.debug("Publishing actual content for first time:"+e.cpAssetId),t=this.publishActualAsset(e));else{var o=n.defer();t=o.promise,o.resolve("success")}return e.postAssetPromise=t,t.then(function(t){var o=n.defer();e.lastUpdatedMainResourceVersion?o.resolve(e.lastUpdatedMainResourceVersion):e.mainResourceName?this.getVersion(e.projectId,e.mainResourceName).done(function(e){o.resolve(e)}.bind(this),function(e){i.reject(e)}.bind(this)):o.resolve(""),o.promise.then(function(t){this.setIsPublishing(!1,e.publishImpl),e.publishedAssetVersion=t,this.saveSuccessfulPublishDataToDoc(e),i.resolve("success")}.bind(this))}.bind(this),function(t){this.setIsPublishing(!1,e.publishImpl),i.reject(t)}.bind(this)),i.promise},publishBrandedChrome:function(e){var t,i=e.mrvlDoc;e.publishImpl.community,s.brandedChromeCommunity;return d.getController().then(function(e){return e.getActiveContext(i)}.bind(this)).then(function(e){var i;if(t=e,!e)throw(i=new Error("No active brand kit selected. Skipping branded chrome publish")).code="skip_branded_chrome_publish",i;if(!t.activated())throw(i=new Error("The active brand kit is not activated/complete yet. Skipping branded chrome publish")).code="skip_branded_chrome_publish",i;return t.changesSinceLastPublish()}.bind(this)).then(function(e){return e.changes?t.publish(e.assetId):(console.log("Local brand kit chrome checksum and remote checksum matched. skipping brand kit chrome publish"),e)}.bind(this)).then(function(e){return e.brandKit=t,e}.bind(this))},updateBrandedChromeMetadata:function(e,i){var o=e.mrvlDoc,r=i.brandKit;delete i.brandKit;var a=e.publishImpl.community,l=s.brandedChromeCommunity,c=r.getClientCommunityPlatform(),h=c(a),u=c(l),g={checksum:i.checksum};return g[e.cpAssetId]=i.version,n.all([d.getController(),h.getMetadata(e.cpAssetId),u.getMetadata(i.assetId)]).then((function(a){var s=a[0],l=a[1],d=a[2];return n.all([h.updateMetadata(e.cpAssetId,{custom:t.extend(l.custom||{},{brandedChromeAssetId:i.assetId})}),r.composite.pull().then((function(){return s.setActiveContext(r,o,!0)})).then((function(){return s.setLastPublishedContext(r,o)})),u.updateMetadata(i.assetId,{custom:t.extend(d.custom||{},g)})])})).catch((function(e){p.warn("Error while updating metadata for branded chrome: "+e.message+" "+e.stack)}))},getHrefForPublishedAsset:function(e,t){return"https://"+c.cpService+"/api/v2/"+t.community+"/assets/"+e},addMetaDataToPubInfo:function(e,i){var n=t.assign({},e.pubSettings,e.publishConfig);n.subcat=e.publishConfig.category,n.category=e.pubSettings.category;var o,r=this.getManifest(e.mrvlDoc,n,i),a={creator:e.mrvlDoc.getMyApp().getAppTypeID(),contentEtag:e.publishingEtag};if(t.isFunction(e.publishImpl.addToCustomMetaData)&&(a=t.merge(a,e.publishImpl.addToCustomMetaData(e.mrvlDoc))),a.contentEtag=t.trim(a.contentEtag,'"'),e.supportsAuthor&&e.publishConfig.showAuthor?t.isUndefined(e.fields.authorFullFieldId)?(a.author=e.publishConfig[e.fields.authorFirstFieldId],e.publishConfig[e.fields.authorLastFieldId]&&(a.author?a.author+=" "+e.publishConfig[e.fields.authorLastFieldId]:a.author=e.publishConfig[e.fields.authorLastFieldId])):a.author=e.publishConfig[e.fields.authorFullFieldId]:a.author="",e.publishConfig.showAvatar?a.authorAvatarPath=e.publishConfig.authorAvatarUrl:a.authorAvatarPath="",e.supportsCredits&&(a.credits=e.publishConfig[e.fields.creditsFieldId]),o=i?r:r.metadata,e.mainResourceName&&e.publishResources.results){var s=t.find(e.publishResources.results,(function(t){return t.name===e.mainResourceName}));s&&(o.main_resource={resource_path:e.mainResourceName,resource_version:s.version},e.lastUpdatedMainResourceVersion=s.version)}return t.isUndefined(e.publishConfig.removeBranding)||(a.removeBranding=e.publishConfig.removeBranding),o.alias=e.cpAlias,o.custom=a,t.isFunction(e.publishImpl.augmentMetaData)&&e.publishImpl.augmentMetaData(o,e.mrvlDoc),e.metadata=o,i?o:r},publishActualAsset:function(e){var t,i=n.defer(),r="https://"+c.cpService+"/api/v2/"+e.pubSettings.community+"/assets",a=this.addMetaDataToPubInfo(e),s=n.defer();return e.lastPublishAssetInfo={pubConfig:this.getCopyOfPubConfigFromPubInfo(e),promise:i.promise},t=JSON.stringify(a,null,"  "),o.ajax({type:"POST",url:r,headers:{"X-Api-Key":c.apiKey,Accept:"application/vnd.adobe.file+json","Content-Type":"application/json"},data:t,success:function(t,i,n){var o=n.getResponseHeader("Location"),r=o.split("/");e.cpAssetId=r[r.length-1],p.debug("Publish actual asset URL: "+o),e.link=c.cpLink(e.pubSettings.community,e.cpAssetId,e.metadata.alias),e.metadata.publish_url=e.link,s.resolve()},error:function(e){p.error("Error publishing asset "+e.status,e),s.reject(e)}}),s.promise.done((function(){i.resolve(e)}),(function(e){i.reject(e)})),i.promise},_forceFacebookScrapeOfUrl:function(t){var i=n.defer(),o={id:t,scrape:!0};return e.ajax({type:"POST",url:"https://graph.facebook.com/",data:o,success:function(e,t,n){i.resolve(e)},error:function(e){p.error("facebook scrape failed",{err:e,body:o}),i.reject(e)}}),i.promise},publishCompleted:function(e){if(e.publishImpl.handlePublishCompletedModerate)return e.publishImpl.handlePublishCompletedModerate(e.mrvlDoc,e.cpAlias,e.publishConfig,e.isRepublish);if(e.publishConfig.isPublic&&r.hasFeature("moderate-public-shares")){var t=n.defer(),i="https://"+c.cpService+"/api/v2/"+e.publishImpl.community+"/assets/"+e.cpAlias+"/moderate";return o.ajax({type:"POST",url:i,headers:{"X-Api-Key":c.apiKey,"Content-Type":"application/json"},success:function(e){t.resolve()},error:function(e){p.error("Error publishing moderate "+e.status,e),t.reject(e)}}).done(),t.promise}return n.resolve()},forceSocialScrapeOfUrl:function(e){if(e.noFBScrapeForRepublish||!r.hasFeature("share-can-do-facebook-scrape-for-republish"))return n();var t=e.link||this.getPublishedLink(e.mrvlDoc);return this._forceFacebookScrapeOfUrl(t)},_appShareChecks:{},userCanShare:function(e,i){var r=this._appShareChecks.uds;if(!t.isUndefined(r))return n.resolve(r);var a=e.getCPCommunity();return r=this._appShareChecks[a],t.isUndefined(r)?i.getProfileIfLoggedIn().then(function(e){return e.getIsUserPublishBlockedBasedOnUds().then(function(e){if(e)return this._appShareChecks.uds=!1,this._appShareChecks.uds;var t={Accept:"*/*","X-api-key":c.apiKey};return o.ajax({type:"GET",url:"https://"+c.cpService+"/api/v2/"+a+"/users/me/policy",headers:t}).then(function(e,t,i){return this._appShareChecks[a]=!!e.public_share,this._appShareChecks[a]}.bind(this),(function(e){return p.error("error checking if user can share",e),n.reject(e)}))}.bind(this))}.bind(this)):n.resolve(r)}})}.apply(t,n))||(e.exports=o)},930:function(e,t,i){var n,o;n=[i(612)],void 0===(o=function(e){window.navigator.userAgent;e.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e.isFirefox="undefined"!=typeof InstallTrigger,e.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString(),e.isIE=!!document.documentMode,e.isEdge=!e.isIE&&!!window.StyleMedia,e.isMSEdge=e.isEdge,e.isChrome=!!window.chrome&&!window.opera&&!e.isMSEdge,e.isBlink=(e.isChrome||e.isOpera)&&!!window.CSS,e.supportsAddEventListenerOptions=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsAddEventListenerOptions=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e.supportsAddEventListenerOptions=!1}e.supportsPassiveEventListeners=e.supportsAddEventListenerOptions,e.touchEventsEnabled="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,e.pointerEventsEnabled=window.PointerEvent||window.navigator.pointerEnabled,e.msPointerEventsEnabled=window.navigator.msPointerEnabled,e.supportsMozInputSource=e.isFirefox&&!e.touchEventsEnabled&&window.MouseEvent&&window.MouseEvent.MOZ_SOURCE_MOUSE,e.touchEnabled=e.touchEventsEnabled||e.msPointerEventsEnabled||e.pointerEventsEnabled||e.supportsMozInputSource;var i="";if(window.getComputedStyle){var n=window.getComputedStyle(document.documentElement,"");"-moz-"===(i=(Array.prototype.slice.call(n).join("").match(/(-moz-|-webkit-|-ms-)/)||""===n.OLink&&["","o"])[1])&&(i="")}return e.vendorPrefix=i||"",e}.apply(t,n))||(e.exports=o)},94:function(e,t,i){var n,o;n=[i(3),i(0),i(2),i(1),i(40),i(56),i(16)],void 0===(o=function(e,t,i,n,o,r,a){"use strict";var s={defaultAltText:"Click to download Spark {{productName}} in the iTunes App Store",defaultGooglePlayAltText:"Click to download Spark {{productName}} on Google Play",appStoreUrl:"https://c00.adobe.com/v3/{{id}}/start?a_i_id={{aiId}}&a_dd=i&ctxa.referrer.campaign.name=Spark+Home+{{productName}}&ctxa.referrer.campaign.trackingcode={{trackingCode}}&ctxa.referrer.campaign.source=Spark+Home+{{productName}}&ctxa.referrer.campaign.medium=Banner",apps:[{id:"post",appStore:{id:"9c5f8efbfd205eb5ababce6d862135839de6e5ed55a3d0034475b7bee0ff552c",aiId:"1051937863",trackingCode:"votknbon",productName:"Spark Post"},googlePlay:{id:"fb91a0f30baf6ec5d01a35404158c976fb5e9ac375dbc0c53be9f75ffd28bea0",aiId:"1051937863",trackingCode:"votknbon",productName:"Spark Post",googlePlayUrl:{upgradeView:"https://play.google.com/store/apps/details?id=com.adobe.spark.post&referrer=utm_source%3DPricing%2520Page"}},productName:"Spark Post",downloadForTag:a.getString("platform-utils-post-app-desc")},{id:"page",appStore:{id:"2c18a4dd7ed9e6bff783299fe0861806c9f14220edc8b0d08d613ccb7b9cae6c",aiId:"968433730",trackingCode:"kpv6s5k2",productName:"Spark Page"},productName:"Spark Page",downloadForTag:a.getString("platform-utils-page-app-desc")},{id:"video",appStore:{id:"0b7e67fa41f6b592f2d606c22f107ce856db905f9d8ff39637f4a156e11890bf",aiId:"852555131",trackingCode:"j0qyxypf",productName:"Spark Video"},productName:"Spark Video",downloadForTag:a.getString("platform-utils-video-app-desc")}]};return new(i.Model.extend({initialize:function(){t.bindAll(this,t.functionsIn(this)),this._platformInfo=this.getPlatformInfo();var i=e(document.body);i.one("touchstart.platformutils",this._touchDetect.bind(this)),i.one("wheel.platformutils",this._wheelDetect.bind(this))},_wheelDetect:function(t){!this._platformInfo.supportsTrackScrollH&&t.originalEvent.deltaX&&(this._platformInfo.userHasTrackpad=!0,this._platformInfo.supportsTrackScrollH=!0,this._platformInfo.cssString+=" supports-track-scroll-h",marvel.events.trigger("platformUtils:detected-support-track-scroll-h",this._platformInfo)),!this._platformInfo.supportsTrackScrollV&&t.originalEvent.deltaY&&(this._platformInfo.userHasTrackpad=!0,this._platformInfo.supportsTrackScrollV=!0,this._platformInfo.cssString+=" supports-track-scroll-v",marvel.events.trigger("platformUtils:detected-support-track-scroll-v",this._platformInfo)),this._platformInfo.supportsTrackScrollH&&this._platformInfo.supportsTrackScrollV||e(document.body).one("wheel.platformutils",this._wheelDetect.bind(this))},_touchDetect:function(t){this._platformInfo.userHasTouchedOnDesktop=!0,this._platformInfo.supportsTouch=!0,this._platformInfo.cssString+=" supports-touch",e(document.body).off("touchstart.platformutils",this._touchDetect.bind(this)),marvel.events.trigger("platformUtils:detected-support-touch",this._platformInfo)},isMobile:function(){return!this._platformInfo.desktop},_platformInfo:{},getPlatformInfo:function(e){return e=e||window.navigator.userAgent,this._platformInfo.userAgent===e?this._platformInfo:this._platformFromUserAgent(e)},_platformFromUserAgent:function(e){var t=e,i={iOS:!1,iPhone:!1,iPad:!1,android:!1,nonIosOrAndroidMobile:!1,androidOrIos:!1,desktop:!1,tablet:!1,phone:!1,userAgent:e};return/like Mac OS X/.test(t)?(i.iOS=/CPU( iPhone)? OS ([0-9\._]+) like Mac OS X/.exec(t)[2].replace(/_/g,"."),i.iPhone=/iPhone/.test(t),i.iPad=/iPad/.test(t),i.tablet=i.iPad,i.phone=i.iPhone):/Android/.test(t)?(i.android=!0,/Mobi/.test(t)?i.phone=!0:i.tablet=!0):/Mobi/.test(t)?(i.nonIosOrAndroidMobile=!0,i.phone=!0):i.desktop=!0,i.desktop?i.cssString="desktop":(i.iOS?i.iPhone?i.cssString="ios iphone":i.cssString="ios ipad":i.android?i.cssString="non-ios-mobile android":i.nonIosOrAndroidMobile&&(i.cssString="non-ios-mobile"),i.tablet?i.cssString+=" tablet":i.cssString+=" phone"),i.desktop||(i.androidOrIos=i.android||i.iOS,i.supportsTouch=!0,i.cssString+=" supports-touch",i.supportsTrackScrollH=!0,i.cssString+=" supports-track-scroll-h supports-track-scroll-v"),i.apps=this.getAppsData(i),i},getAppsData:function(e){var i=t.cloneDeep(s.apps),n={};return t.each(i,function(t){n[t.id]=t,t[t.id]=!0,t.appStoreUrl=r.to_html(s.appStoreUrl,t.appStore),t.downloadAlt=r.to_html(s.defaultAltText,t.appStore),t.downloadFormatForReason=this._getDownloadFormatForReason(t,e),t.googlePlay&&(t.googlePlayUrl=t.googlePlay.googlePlayUrl,t.googlePlayDownloadAlt=r.to_html(s.defaultGooglePlayAltText,t.googlePlay))}.bind(this)),n.inOrder=i,n},_getDownloadFormatForReason:function(e,t){var i="unknownOperatingSystem";t.iOS?i="ios":t.android?i="android":window.marvel&&window.marvel.logger&&window.marvel.logger.error("[PlatformUtils] Mobile operating system not recognized.");var n="unknownKeyName";return e&&"page"===e.id?n="download-spark-page-for-web-pages":e&&"post"===e.id?n="download-spark-post-for-social-graphics":e&&"video"===e.id?n="download-spark-video-for-animated-videos":window.marvel&&window.marvel.logger&&window.marvel.logger.error("[PlatformUtils] No app.id recognized."),a.formatMessage(n,{operatingSystem:i,localePathPrefix:a.getLocale()})},checkAppBrowserSupport:function(e){return"string"==typeof e&&(e=o.getAppByType(e)),e.isBrowserSupported()?n(!0):e.handleBrowserUnsupported().then((function(){return n(!1)}))}}))}.apply(t,n))||(e.exports=o)},976:function(e,t,i){var n,o;n=[i(3),i(0),i(1),i(2),i(8),i(63),i(1056),i(1057),i(16),i(1058)],void 0===(o=function(e,t,i,n,o,r,a,s,l,d){return n.View.extend({_transitionTime:5e3,_quoteSetMap:{upgradeToPremium:a.upgradeToPremiumQuotes,default:a.defaultQuotes},_appCssId:"slate",_quoteSetName:"default",initialize:function(e){t.bindAll(this,t.functionsIn(this)),e&&"object"==typeof e&&(e.quoteSetName&&this._quoteSetMap.hasOwnProperty(e.quoteSetName)&&(this._quoteSetName=e.quoteSetName),e.transitionTime&&(this._transitionTime=e.transitionTime),e.appCssId&&(this._appCssId=e.appCssId),e.location&&(this._location=e.location)),this._quoteIndex=0,this._quoteData=[],this._quotesLoadedDefer=i.defer(),r.runSilent("SMBQuoteLoaderExperiment",{showSMBQuotesForSMBUsers:function(e){var t=e.getMetadata();this._setQuotesFromExperimentData(t),this._quotesLoadedDefer.resolve()}.bind(this)}).done(),r.runSilent("quotesForNonSMBExperiment",{showSMBQuotesForNonSMBUsers:function(e){var t=e.getMetadata();this._setQuotesFromExperimentData(t),this._quotesLoadedDefer.resolve()}.bind(this),control:function(e){t.isEmpty(this._quoteData)&&(this._quoteData=t.shuffle(this._quoteSetMap[this._quoteSetName])),this._quotesLoadedDefer.resolve()}.bind(this)}).done()},_setQuotesFromExperimentData:function(e){var i=t.pickBy(e,function(e,t,i){return t.indexOf(this._location)>-1}.bind(this)),n=this._createQuotesDataObj(i);this._quoteData=t.shuffle(n)},_createQuotesDataObj:function(e){var i=[];return e&&t.isObject(e)&&t.each(e,function(e,t){i.push({text:e})}.bind(this)),i},_whenQuotesLoaded:function(){return this._quotesLoadedDefer||(this._quotesLoadedDefer=i.defer()),this._quotesLoadedDefer.promise},clear:function(){this._isVisible=!1,this._currentQuoteTimer&&(window.clearTimeout(this._currentQuoteTimer),this._currentQuoteTimer=null)},timeLastQuoteShown:function(){return this._shownAt},remove:function(){this.$el.empty()},setAppCssId:function(e){this._appCssId=e},showNextQuote:function(){if(this._isVisible){var e=l.getString(this._quoteData[this._quoteIndex].text),t=this._quoteData[this._quoteIndex].author;this.quote$.removeClass("visible"),t?(this.quoteAuthor$.text(t),this.quoteAuthor$.removeClass("hide")):this.quoteAuthor$.addClass("hide"),this.quoteText$.text(e),this.quote$.addClass("visible"),this._shownAt=(new Date).getTime(),this._currentQuoteTimer=window.setTimeout(this.showNextQuote,this._transitionTime),this._quoteIndex=(this._quoteIndex+1)%this._quoteData.length}},render:function(){return this._isVisible=!0,this.$el.html(s.toString()),this.quote$=this.$el.find(".quote"),this.quoteText$=this.quote$.find(".text"),this.quoteAuthor$=this.quote$.find(".author"),this.quoteText$.addClass(this._appCssId),this._whenQuotesLoaded().then(function(){r.runSilent("SMBQuoteLoaderExperiment",{showSMBQuotesForSMBUsers:function(e){e&&e.track()},control:function(e){e&&e.track()}}).done(),r.runSilent("quotesForNonSMBExperiment",{showSMBQuotesForNonSMBUsers:function(e){e&&e.track()},control:function(e){e&&e.track()}}).done(),this.showNextQuote()}.bind(this)),this}})}.apply(t,n))||(e.exports=o)},978:function(e,t,i){var n,o;n=[i(3)],void 0===(o=function(e){var t,i="virtualMouseBindings",n="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),r="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],s=e.event.props.concat(a),l={},d=0,c=0,p=0,h=!1,u=[],g=!1,m=!1,f="addEventListener"in document,v=e(document),b=1,w=0;function k(e){for(;e&&void 0!==e.originalEvent;)e=e.originalEvent;return e}function x(t){for(var n,o,r={};t;){for(o in n=e.data(t,i))n[o]&&(r[o]=r.hasVirtualBinding=!0);t=t.parentNode}return r}function y(){m=!0}function S(){m=!1}function _(){C(),d=setTimeout((function(){d=0,w=0,u.length=0,g=!1,y()}),e.vmouse.resetTimerDuration)}function C(){d&&(clearTimeout(d),d=0)}function T(t,n,o){var a;return(o&&o[t]||!o&&function(t,n){for(var o;t;){if((o=e.data(t,i))&&(!n||o[n]))return t;t=t.parentNode}return null}(n.target,t))&&(a=function(t,i){var n,o,a,l,d,c,p,h,u,g=t.type;if((t=e.Event(t)).type=i,n=t.originalEvent,o=e.event.props,g.search(/^(mouse|click)/)>-1&&(o=s),n)for(p=o.length;p;)t[l=o[--p]]=n[l];if(g.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),-1!==g.search(/^touch/)&&(g=(a=k(n)).touches,d=a.changedTouches,c=g&&g.length?g[0]:d&&d.length?d[0]:void 0))for(h=0,u=r.length;h<u;h++)t[l=r[h]]=c[l];return t}(n,t),e(n.target).trigger(a)),a}function I(t){var i=e.data(t.target,n);if(!(g||w&&w===i)){var o=T("v"+t.type,t);o&&(o.isDefaultPrevented()&&t.preventDefault(),o.isPropagationStopped()&&t.stopPropagation(),o.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function P(t){var i,o,r=k(t).touches;if(r&&1===r.length&&(o=x(i=t.target)).hasVirtualBinding){w=b++,e.data(i,n,w),C(),S(),h=!1;var a=k(t).touches[0];c=a.pageX,p=a.pageY,T("vmouseover",t,o),T("vmousedown",t,o)}}function D(e){m||(h||T("vmousecancel",e,x(e.target)),h=!0,_())}function F(t){if(!m){var i=k(t).touches[0],n=h,o=e.vmouse.moveDistanceThreshold,r=x(t.target);(h=h||Math.abs(i.pageX-c)>o||Math.abs(i.pageY-p)>o)&&!n&&T("vmousecancel",t,r),T("vmousemove",t,r),_()}}function R(e){if(!m){y();var t,i=x(e.target);if(T("vmouseup",e,i),!h){var n=T("vclick",e,i);n&&n.isDefaultPrevented()&&(t=k(e).changedTouches[0],u.push({touchID:w,x:t.clientX,y:t.clientY}),g=!0)}T("vmouseout",e,i),h=!1,_()}}function A(t){var n,o=e.data(t,i);if(o)for(n in o)if(o[n])return!0;return!1}function B(){}e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};var L=!1;try{var E=Object.defineProperty({},"passive",{get:function(){L={passive:!1}}});window.addEventListener("test",E,E),window.removeEventListener("test",E,E)}catch(e){L=!1}function M(t){var n=t.substr(1);return{setup:function(o,r){A(this)||e.data(this,i,{}),e.data(this,i)[t]=!0,l[t]=(l[t]||0)+1,1===l[t]&&v.bind(n,I),e(this).bind(n,B),f&&(l.touchstart=(l.touchstart||0)+1,1===l.touchstart&&(document.addEventListener("touchstart",P,L),document.addEventListener("touchend",R,L),document.addEventListener("touchmove",F,L),v.bind("scroll",D)))},teardown:function(o,r){--l[t],l[t]||v.unbind(n,I),f&&(--l.touchstart,l.touchstart||(document.removeEventListener("touchstart",P,L),document.removeEventListener("touchend",R,L),document.removeEventListener("touchmove",F,L),v.unbind("scroll",D)));var a=e(this),s=e.data(this,i);s&&(s[t]=!1),a.unbind(n,B),A(this)||a.removeData(i)}}}for(var z=0;z<o.length;z++)e.event.special[o[z]]=M(o[z]);f&&document.addEventListener("click",(function(i){var o,r,a,s,l,d=u.length,c=i.target;if(d)for(o=i.clientX,r=i.clientY,t=e.vmouse.clickDistanceThreshold,a=c;a;){for(s=0;s<d;s++)if(l=u[s],0,a===c&&Math.abs(l.x-o)<t&&Math.abs(l.y-r)<t||e.data(a,n)===l.touchID)return i.preventDefault(),void i.stopPropagation();a=a.parentNode}}),!0)}.apply(t,n))||(e.exports=o)}}]);
//# sourceMappingURL=slate-web-1c891104.js.map